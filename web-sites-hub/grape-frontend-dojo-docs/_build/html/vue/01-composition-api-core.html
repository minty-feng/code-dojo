

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>01-Vue Composition API &mdash; Frontend Tutorial 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=2d0851c8" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=af2ce170"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/copy-code.js?v=caf91246"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="02-Vue ç»„ä»¶ç³»ç»Ÿä¸é€šä¿¡" href="02-component-system.html" />
    <link rel="prev" title="ğŸ’š Vue æ ¸å¿ƒæŠ€æœ¯" href="README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Frontend Tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ç›®å½•</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Frontend Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../00-environment-setup.html">00-ç¯å¢ƒé…ç½®</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-debugging-techniques.html">01-è°ƒè¯•æŠ€å·§</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-testing-techniques.html">02-æµ‹è¯•æŠ€æœ¯</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-performance-optimization.html">03-æ€§èƒ½ä¼˜åŒ–</a></li>
<li class="toctree-l1"><a class="reference internal" href="../html/index.html">HTML æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../css/index.html">CSS æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript/index.html">JavaScript æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../react/index.html">React æ•™ç¨‹</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vue æ•™ç¨‹</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="README.html">Vue æ ¸å¿ƒæŠ€æœ¯</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">01-Compositionæ ¸å¿ƒ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">ğŸ“‹ å­¦ä¹ ç›®æ ‡</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup">ğŸ¯ setupå‡½æ•°</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">åŸºæœ¬ç”¨æ³•</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">setupè¯­æ³•ç³–</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id4">ğŸ“¦ å“åº”å¼æ ¸å¿ƒ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ref">ref</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reactive">reactive</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ref-vs-reactive">ref vs reactive</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#computed">ğŸ”„ computed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">åŸºæœ¬ç”¨æ³•</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#watchwatcheffect">ğŸ‘ï¸ watchä¸watchEffect</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#watch">watch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#watcheffect">watchEffect</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id6">ğŸ” ç”Ÿå‘½å‘¨æœŸ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#composition-api">Composition APIç”Ÿå‘½å‘¨æœŸ</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#provide-inject">ğŸ Provide/Inject</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">åŸºæœ¬ç”¨æ³•</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">ç±»å‹åŒ–Provide/Inject</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">ğŸ› ï¸ ç»„åˆå¼å‡½æ•°</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">åŸºæœ¬ç»„åˆå¼å‡½æ•°</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">å®ç”¨ç»„åˆå¼å‡½æ•°</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#propsemits">ğŸ“± Propså’ŒEmits</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#defineprops">defineProps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defineemits">defineEmits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#defineexpose">ğŸ¯ defineExpose</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">æš´éœ²ç»„ä»¶æ–¹æ³•</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id13">ğŸ“š å®è·µç»ƒä¹ </a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">ç»ƒä¹ 1ï¼šç»„åˆå¼å‡½æ•°</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">ç»ƒä¹ 2ï¼šè¡¨å•ç®¡ç†</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">ç»ƒä¹ 3ï¼šæ•°æ®è·å–</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id17">ğŸ“š å‚è€ƒèµ„æ–™</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02-component-system.html">02-ç»„ä»¶ç³»ç»Ÿä¸é€šä¿¡</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-routing-state.html">03-è·¯ç”±ä¸çŠ¶æ€ç®¡ç†</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../angular/index.html">Angular æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typescript/index.html">TypeScript æ•™ç¨‹</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Frontend Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Vue æ•™ç¨‹</a></li>
      <li class="breadcrumb-item active">01-Vue Composition API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/vue/01-composition-api-core.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="vue-composition-api">
<h1>01-Vue Composition API<a class="headerlink" href="#vue-composition-api" title="Permalink to this heading">ïƒ</a></h1>
<section id="id1">
<h2>ğŸ“‹ å­¦ä¹ ç›®æ ‡<a class="headerlink" href="#id1" title="Permalink to this heading">ïƒ</a></h2>
<ul class="simple">
<li><p>æŒæ¡Composition APIæ ¸å¿ƒå‡½æ•°</p></li>
<li><p>ç†è§£å“åº”å¼ç³»ç»ŸåŸç†</p></li>
<li><p>å­¦ä¹ ç»„åˆå¼å‡½æ•°å¼€å‘</p></li>
<li><p>æŒæ¡ç”Ÿå‘½å‘¨æœŸå’Œå‰¯ä½œç”¨</p></li>
</ul>
</section>
<section id="setup">
<h2>ğŸ¯ setupå‡½æ•°<a class="headerlink" href="#setup" title="Permalink to this heading">ïƒ</a></h2>
<section id="id2">
<h3>åŸºæœ¬ç”¨æ³•<a class="headerlink" href="#id2" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">reactive</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">        </span>
<span class="w">        </span><span class="kd">function</span><span class="w"> </span><span class="nx">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">count</span><span class="p">,</span>
<span class="w">            </span><span class="nx">user</span><span class="p">,</span>
<span class="w">            </span><span class="nx">increment</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Count: <span class="cp">{{</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>User: <span class="cp">{{</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="cp">}}</span>, <span class="cp">{{</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">increment</span><span class="s">&quot;</span><span class="p">&gt;</span>+1<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3>setupè¯­æ³•ç³–<a class="headerlink" href="#id3" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">reactive</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span>
<span class="p">});</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Count: <span class="cp">{{</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">increment</span><span class="s">&quot;</span><span class="p">&gt;</span>+1<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="id4">
<h2>ğŸ“¦ å“åº”å¼æ ¸å¿ƒ<a class="headerlink" href="#id4" title="Permalink to this heading">ïƒ</a></h2>
<section id="ref">
<h3>ref<a class="headerlink" href="#ref" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="c1">// åŸºæœ¬ç±»å‹</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span><span class="w"> </span><span class="c1">// 0</span>
<span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>

<span class="c1">// å¯¹è±¡ï¼ˆä¼šè‡ªåŠ¨è½¬ä¸ºreactiveï¼‰</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">});</span>
<span class="nx">user</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Jane&#39;</span><span class="p">;</span>

<span class="c1">// æ•°ç»„</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]);</span>
<span class="nx">list</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">4</span><span class="p">);</span>

<span class="c1">// æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…</span>
<span class="c1">// &lt;p&gt;{{ count }}&lt;/p&gt;  ä¸éœ€è¦.value</span>
</pre></div>
</div>
</section>
<section id="reactive">
<h3>reactive<a class="headerlink" href="#reactive" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">reactive</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="c1">// å“åº”å¼å¯¹è±¡</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>

<span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// ç›´æ¥ä¿®æ”¹ï¼Œä¸éœ€è¦.value</span>

<span class="c1">// å“åº”å¼æ•°ç»„</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]);</span>
<span class="nx">list</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">4</span><span class="p">);</span>

<span class="c1">// å“åº”å¼Map/Set</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">());</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">());</span>
</pre></div>
</div>
</section>
<section id="ref-vs-reactive">
<h3>ref vs reactive<a class="headerlink" href="#ref-vs-reactive" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// refï¼šé€‚åˆåŸºæœ¬ç±»å‹å’Œå•ä¸€å€¼</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">);</span>

<span class="c1">// reactiveï¼šé€‚åˆå¯¹è±¡å’Œå¤æ‚ç»“æ„</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span>
<span class="p">});</span>

<span class="c1">// è§£æ„ä¼šå¤±å»å“åº”æ€§</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">});</span><span class="w"> </span><span class="c1">// âŒ</span>
<span class="nx">count</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// ä¸ä¼šè§¦å‘æ›´æ–°</span>

<span class="c1">// ä½¿ç”¨toRefsä¿æŒå“åº”æ€§</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">toRefs</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">toRefs</span><span class="p">(</span><span class="nx">state</span><span class="p">);</span><span class="w"> </span><span class="c1">// âœ…</span>
<span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// ä¼šè§¦å‘æ›´æ–°</span>
</pre></div>
</div>
</section>
</section>
<section id="computed">
<h2>ğŸ”„ computed<a class="headerlink" href="#computed" title="Permalink to this heading">ïƒ</a></h2>
<section id="id5">
<h3>åŸºæœ¬ç”¨æ³•<a class="headerlink" href="#id5" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">computed</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;Doe&#39;</span><span class="p">);</span>

<span class="c1">// åªè¯»computed</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">computed</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">firstName</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">lastName</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// å¯å†™computed</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">computed</span><span class="p">({</span>
<span class="w">    </span><span class="nx">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">firstName</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">lastName</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">firstName</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">parts</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
<span class="w">        </span><span class="nx">lastName</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">parts</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">firstName</span><span class="s">&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">lastName</span><span class="s">&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span><span class="w"> </span><span class="nx">fullName</span><span class="w"> </span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">fullName</span><span class="s">&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="watchwatcheffect">
<h2>ğŸ‘ï¸ watchä¸watchEffect<a class="headerlink" href="#watchwatcheffect" title="Permalink to this heading">ïƒ</a></h2>
<section id="watch">
<h3>watch<a class="headerlink" href="#watch" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">watch</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="c1">// ç›‘å¬å•ä¸ªref</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">newVal</span><span class="p">,</span><span class="w"> </span><span class="nx">oldVal</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Count: </span><span class="si">${</span><span class="nx">oldVal</span><span class="si">}</span><span class="sb"> -&gt; </span><span class="si">${</span><span class="nx">newVal</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// ç›‘å¬å¤šä¸ªæº</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">30</span><span class="p">);</span>

<span class="nx">watch</span><span class="p">([</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="p">],</span><span class="w"> </span><span class="p">([</span><span class="nx">newName</span><span class="p">,</span><span class="w"> </span><span class="nx">newAge</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="nx">oldName</span><span class="p">,</span><span class="w"> </span><span class="nx">oldAge</span><span class="p">])</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Name: </span><span class="si">${</span><span class="nx">oldName</span><span class="si">}</span><span class="sb"> -&gt; </span><span class="si">${</span><span class="nx">newName</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Age: </span><span class="si">${</span><span class="nx">oldAge</span><span class="si">}</span><span class="sb"> -&gt; </span><span class="si">${</span><span class="nx">newAge</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// ç›‘å¬reactiveå¯¹è±¡</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reactive</span><span class="p">({</span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">});</span>

<span class="nx">watch</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">newVal</span><span class="p">,</span><span class="w"> </span><span class="nx">oldVal</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Count: </span><span class="si">${</span><span class="nx">oldVal</span><span class="si">}</span><span class="sb"> -&gt; </span><span class="si">${</span><span class="nx">newVal</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// æ·±åº¦ç›‘å¬</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">newVal</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;State changed:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">newVal</span><span class="p">);</span>
<span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">deep</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">});</span>

<span class="c1">// ç«‹å³æ‰§è¡Œ</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">val</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Count:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">val</span><span class="p">);</span>
<span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">immediate</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">});</span>
</pre></div>
</div>
</section>
<section id="watcheffect">
<h3>watchEffect<a class="headerlink" href="#watcheffect" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">watchEffect</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="kr">double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="c1">// è‡ªåŠ¨è¿½è¸ªä¾èµ–</span>
<span class="nx">watchEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">double</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Count: </span><span class="si">${</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">, Double: </span><span class="si">${</span><span class="kr">double</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// æ¸…ç†å‰¯ä½œç”¨</span>
<span class="nx">watchEffect</span><span class="p">((</span><span class="nx">onCleanup</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Tick&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">onCleanup</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>

<span class="c1">// åœæ­¢ç›‘å¬</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">stop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">watchEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// æ‰‹åŠ¨åœæ­¢</span>
<span class="nx">stop</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h2>ğŸ” ç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#id6" title="Permalink to this heading">ïƒ</a></h2>
<section id="composition-api">
<h3>Composition APIç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#composition-api" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">onBeforeMount</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onMounted</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onBeforeUpdate</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onUpdated</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onBeforeUnmount</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onUnmounted</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="nx">onBeforeMount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶æŒ‚è½½å‰&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">onMounted</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶æŒ‚è½½å&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// DOMå·²æ¸²æŸ“ï¼Œå¯ä»¥è®¿é—®DOM</span>
<span class="p">});</span>

<span class="nx">onBeforeUpdate</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶æ›´æ–°å‰&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">onUpdated</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶æ›´æ–°å&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">onBeforeUnmount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶å¸è½½å‰&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">onUnmounted</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶å¸è½½å&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// æ¸…ç†å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ç­‰</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="provide-inject">
<h2>ğŸ Provide/Inject<a class="headerlink" href="#provide-inject" title="Permalink to this heading">ïƒ</a></h2>
<section id="id7">
<h3>åŸºæœ¬ç”¨æ³•<a class="headerlink" href="#id7" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">provide</span><span class="p">,</span><span class="w"> </span><span class="nx">ref</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;dark&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">updateTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">newTheme</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">theme</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">newTheme</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">provide</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">theme</span><span class="p">);</span>
<span class="nx">provide</span><span class="p">(</span><span class="s1">&#39;updateTheme&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">updateTheme</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- å­ç»„ä»¶ --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">inject</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">inject</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">updateTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">inject</span><span class="p">(</span><span class="s1">&#39;updateTheme&#39;</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="p">:</span><span class="na">class</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">theme</span><span class="s">&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">updateTheme</span><span class="p">(</span><span class="s1">&#39;light&#39;</span><span class="p">)</span><span class="s">&quot;</span><span class="p">&gt;</span>Light<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">updateTheme</span><span class="p">(</span><span class="s1">&#39;dark&#39;</span><span class="p">)</span><span class="s">&quot;</span><span class="p">&gt;</span>Dark<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>ç±»å‹åŒ–Provide/Inject<a class="headerlink" href="#id8" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">InjectionKey</span><span class="p">,</span><span class="w"> </span><span class="nx">provide</span><span class="p">,</span><span class="w"> </span><span class="nx">inject</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Theme</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">primary</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="nx">secondary</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">themeKey</span><span class="o">:</span><span class="w"> </span><span class="kt">InjectionKey</span><span class="o">&lt;</span><span class="nx">Theme</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Symbol</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">);</span>

<span class="c1">// æä¾›</span>
<span class="nx">provide</span><span class="p">(</span><span class="nx">themeKey</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">primary</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#007bff&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">secondary</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#6c757d&#39;</span>
<span class="p">});</span>

<span class="c1">// æ³¨å…¥</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">inject</span><span class="p">(</span><span class="nx">themeKey</span><span class="p">);</span>
<span class="c1">// themeçš„ç±»å‹ä¸ºTheme | undefined</span>
</pre></div>
</div>
</section>
</section>
<section id="id9">
<h2>ğŸ› ï¸ ç»„åˆå¼å‡½æ•°<a class="headerlink" href="#id9" title="Permalink to this heading">ïƒ</a></h2>
<section id="id10">
<h3>åŸºæœ¬ç»„åˆå¼å‡½æ•°<a class="headerlink" href="#id10" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// useCounter.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useCounter</span><span class="p">(</span><span class="nx">initialValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="nx">initialValue</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">decrement</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">reset</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">initialValue</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">count</span><span class="p">,</span>
<span class="w">        </span><span class="nx">increment</span><span class="p">,</span>
<span class="w">        </span><span class="nx">decrement</span><span class="p">,</span>
<span class="w">        </span><span class="nx">reset</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- ä½¿ç”¨ --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">useCounter</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./useCounter&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">increment</span><span class="p">,</span><span class="w"> </span><span class="nx">decrement</span><span class="p">,</span><span class="w"> </span><span class="nx">reset</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCounter</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">increment</span><span class="s">&quot;</span><span class="p">&gt;</span>+<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">decrement</span><span class="s">&quot;</span><span class="p">&gt;</span>-<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">reset</span><span class="s">&quot;</span><span class="p">&gt;</span>Reset<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3>å®ç”¨ç»„åˆå¼å‡½æ•°<a class="headerlink" href="#id11" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// useFetch.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useFetch</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">fetchData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">loading</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">            </span><span class="nx">data</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">            </span><span class="nx">error</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">error</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">err</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">loading</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">fetchData</span><span class="p">();</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">,</span><span class="w"> </span><span class="nx">loading</span><span class="p">,</span><span class="w"> </span><span class="nx">refetch</span><span class="o">:</span><span class="w"> </span><span class="nx">fetchData</span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// useLocalStorage.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">watch</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useLocalStorage</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">defaultValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// åˆå§‹åŒ–</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">stored</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">stored</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">value</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">stored</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// ç›‘å¬å˜åŒ–</span>
<span class="w">    </span><span class="nx">watch</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">newVal</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">newVal</span><span class="p">));</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">deep</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">});</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// useDebounce.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">watch</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useDebounce</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">500</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">debouncedValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">watch</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">newVal</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">debouncedValue</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">newVal</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="nx">delay</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">debouncedValue</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="propsemits">
<h2>ğŸ“± Propså’ŒEmits<a class="headerlink" href="#propsemits" title="Permalink to this heading">ïƒ</a></h2>
<section id="defineprops">
<h3>defineProps<a class="headerlink" href="#defineprops" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="c1">// åŸºæœ¬ç”¨æ³•</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">defineProps</span><span class="p">({</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">,</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">Object</span><span class="p">,</span>
<span class="w">        </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// TypeScriptç±»å‹</span>
<span class="kr">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<span class="w">    </span><span class="nx">count</span><span class="o">?:</span><span class="w"> </span><span class="nx">number</span><span class="p">;</span>
<span class="w">    </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<span class="w">        </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="nx">number</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">defineProps</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1">// é»˜è®¤å€¼ï¼ˆTypeScriptï¼‰</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">withDefaults</span><span class="p">(</span><span class="nx">defineProps</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="defineemits">
<h3>defineEmits<a class="headerlink" href="#defineemits" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="c1">// åŸºæœ¬ç”¨æ³•</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">emit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">defineEmits</span><span class="p">([</span><span class="s1">&#39;update&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;delete&#39;</span><span class="p">]);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// TypeScriptç±»å‹</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">emit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">defineEmits</span><span class="o">&lt;</span><span class="p">{</span>
<span class="w">    </span><span class="nx">update</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">number</span><span class="p">];</span>
<span class="w">    </span><span class="ow">delete</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">number</span><span class="p">,</span><span class="w"> </span><span class="nx">confirmed</span><span class="o">:</span><span class="w"> </span><span class="kr">boolean</span><span class="p">];</span>
<span class="p">}</span><span class="o">&gt;</span><span class="p">();</span>

<span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">123</span><span class="p">);</span>
<span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">456</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">handleClick</span><span class="s">&quot;</span><span class="p">&gt;</span>Update<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="defineexpose">
<h2>ğŸ¯ defineExpose<a class="headerlink" href="#defineexpose" title="Permalink to this heading">ïƒ</a></h2>
<section id="id12">
<h3>æš´éœ²ç»„ä»¶æ–¹æ³•<a class="headerlink" href="#id12" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-vue notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">internalValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;secret&#39;</span><span class="p">);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// åªæš´éœ²ç‰¹å®šå±æ€§å’Œæ–¹æ³•</span>
<span class="nx">defineExpose</span><span class="p">({</span>
<span class="w">    </span><span class="nx">count</span><span class="p">,</span>
<span class="w">    </span><span class="nx">increment</span>
<span class="p">});</span>
<span class="c1">// internalValueä¸ä¼šæš´éœ²</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">ref</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">ChildComponent</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./ChildComponent.vue&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">childRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">();</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">callChild</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">childRef</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">increment</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">childRef</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ChildComponent</span> <span class="na">ref</span><span class="o">=</span><span class="s">&quot;childRef&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="p">@</span><span class="na">click</span><span class="o">=</span><span class="s">&quot;</span><span class="nx">callChild</span><span class="s">&quot;</span><span class="p">&gt;</span>Call Child<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="id13">
<h2>ğŸ“š å®è·µç»ƒä¹ <a class="headerlink" href="#id13" title="Permalink to this heading">ïƒ</a></h2>
<section id="id14">
<h3>ç»ƒä¹ 1ï¼šç»„åˆå¼å‡½æ•°<a class="headerlink" href="#id14" title="Permalink to this heading">ïƒ</a></h3>
<p>å®ç°ä»¥ä¸‹ç»„åˆå¼å‡½æ•°ï¼š</p>
<ul class="simple">
<li><p>useToggleï¼šå¸ƒå°”å€¼åˆ‡æ¢</p></li>
<li><p>useArrayï¼šæ•°ç»„æ“ä½œ</p></li>
<li><p>useMouseï¼šé¼ æ ‡ä½ç½®è¿½è¸ª</p></li>
</ul>
</section>
<section id="id15">
<h3>ç»ƒä¹ 2ï¼šè¡¨å•ç®¡ç†<a class="headerlink" href="#id15" title="Permalink to this heading">ïƒ</a></h3>
<p>ä½¿ç”¨Composition APIå®ç°ï¼š</p>
<ul class="simple">
<li><p>è¡¨å•éªŒè¯</p></li>
<li><p>é”™è¯¯æç¤º</p></li>
<li><p>æäº¤å¤„ç†</p></li>
</ul>
</section>
<section id="id16">
<h3>ç»ƒä¹ 3ï¼šæ•°æ®è·å–<a class="headerlink" href="#id16" title="Permalink to this heading">ïƒ</a></h3>
<p>åˆ›å»ºå¯å¤ç”¨çš„æ•°æ®è·å–Hookï¼š</p>
<ul class="simple">
<li><p>åŠ è½½çŠ¶æ€</p></li>
<li><p>é”™è¯¯å¤„ç†</p></li>
<li><p>é‡æ–°è¯·æ±‚</p></li>
<li><p>ç¼“å­˜</p></li>
</ul>
</section>
</section>
<section id="id17">
<h2>ğŸ“š å‚è€ƒèµ„æ–™<a class="headerlink" href="#id17" title="Permalink to this heading">ïƒ</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://cn.vuejs.org/">Vue 3å®˜æ–¹æ–‡æ¡£</a></p></li>
<li><p><a class="reference external" href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0013-composition-api.md">Composition API RFC</a></p></li>
<li><p><a class="reference external" href="https://vueuse.org/">VueUse</a> - ç»„åˆå¼å‡½æ•°é›†åˆ</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="README.html" class="btn btn-neutral float-left" title="ğŸ’š Vue æ ¸å¿ƒæŠ€æœ¯" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="02-component-system.html" class="btn btn-neutral float-right" title="02-Vue ç»„ä»¶ç³»ç»Ÿä¸é€šä¿¡" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Code Dojo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>