

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>åŸºç¡€ &mdash; Mini Program Tutorial 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=d25bc049" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=af2ce170"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="_static/copy-code.js?v=caf91246"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ç½‘ç»œè¯·æ±‚ä¸äº‘å¼€å‘" href="02-network-request-and-cloud.html" />
    <link rel="prev" title="WeChat Mini Program Tutorial" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #07c160" >

          
          
          <a href="index.html" class="icon icon-home">
            Mini Program Tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ç›®å½•</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">WeChat Mini Program Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">åŸºç¡€</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">ğŸ’¡ æ ¸å¿ƒç»“è®º</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">1. å¿«é€Ÿå¼€å§‹</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">1.1 æ³¨å†Œä¸é…ç½®</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">1.2 é¡¹ç›®ç»“æ„</a></li>
<li class="toctree-l3"><a class="reference internal" href="#app-json">1.3 å…¨å±€é…ç½® (app.json)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">2. é¡µé¢å¼€å‘</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wxml">2.1 WXML è¯­æ³•</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wxss">2.2 WXSS æ ·å¼</a></li>
<li class="toctree-l3"><a class="reference internal" href="#js">2.3 é¡µé¢é€»è¾‘ (JS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id7">3. ç”Ÿå‘½å‘¨æœŸ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">3.1 åº”ç”¨ç”Ÿå‘½å‘¨æœŸ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">3.2 é¡µé¢ç”Ÿå‘½å‘¨æœŸæµç¨‹</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id10">4. ç»„ä»¶</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">4.1 è§†å›¾å®¹å™¨</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">4.2 åŸºç¡€ç»„ä»¶</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">4.3 è¡¨å•ç»„ä»¶</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">4.4 å¯¼èˆªç»„ä»¶</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">4.5 è‡ªå®šä¹‰ç»„ä»¶</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api">5. API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">5.1 è·¯ç”±è·³è½¬</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">5.2 äº¤äº’åé¦ˆ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">5.3 æ•°æ®ç¼“å­˜</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id19">6. å¸¸è§é—®é¢˜</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#q1-rpxpx">Q1: rpxå’Œpxçš„åŒºåˆ«ï¼Ÿ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#q2-setdata">Q2: setDataçš„æ³¨æ„äº‹é¡¹ï¼Ÿ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#q3">Q3: å°ç¨‹åºåŒ…ä½“ç§¯é™åˆ¶ï¼Ÿ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id20">å‚è€ƒèµ„æº</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="02-network-request-and-cloud.html">ç½‘ç»œè¯·æ±‚ä¸äº‘å¼€å‘</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-performance-optimization.html">æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-deployment-and-release.html">éƒ¨ç½²ä¸å‘å¸ƒ</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-testing-and-debugging.html">æµ‹è¯•ä¸è°ƒè¯•</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-backend-development.html">åç«¯å¼€å‘ä¸é›†æˆ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #07c160" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mini Program Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">åŸºç¡€</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/01-wechat-miniprogram-basics.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>åŸºç¡€<a class="headerlink" href="#id1" title="Permalink to this heading">ïƒ</a></h1>
<section id="id2">
<h2>ğŸ’¡ æ ¸å¿ƒç»“è®º<a class="headerlink" href="#id2" title="Permalink to this heading">ïƒ</a></h2>
<ol class="arabic simple">
<li><p><strong>å°ç¨‹åºé‡‡ç”¨åŒçº¿ç¨‹æ¶æ„ï¼šé€»è¾‘å±‚(JSCore)å’Œè§†å›¾å±‚(WebView)åˆ†ç¦»</strong></p></li>
<li><p><strong>WXMLæ˜¯ç±»HTMLè¯­æ³•ï¼ŒWXSSæ˜¯ç±»CSSè¯­æ³•ï¼Œæ”¯æŒrpxå“åº”å¼å•ä½</strong></p></li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºåº”ç”¨ç”Ÿå‘½å‘¨æœŸå’Œé¡µé¢ç”Ÿå‘½å‘¨æœŸ</strong></p></li>
<li><p><strong>å°ç¨‹åºä¸æ”¯æŒDOMæ“ä½œï¼Œæ•°æ®é©±åŠ¨è§†å›¾æ›´æ–°</strong></p></li>
<li><p><strong>å°ç¨‹åºåŒ…ä½“ç§¯é™åˆ¶2MBï¼Œåˆ†åŒ…åä¸»åŒ…ä¸è¶…è¿‡2MB</strong></p></li>
</ol>
</section>
<hr class="docutils" />
<section id="id3">
<h2>1. å¿«é€Ÿå¼€å§‹<a class="headerlink" href="#id3" title="Permalink to this heading">ïƒ</a></h2>
<section id="id4">
<h3>1.1 æ³¨å†Œä¸é…ç½®<a class="headerlink" href="#id4" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. æ³¨å†Œå°ç¨‹åºè´¦å·</span>
https://mp.weixin.qq.com/

<span class="c1"># 2. è·å–AppID</span>
å¼€å‘<span class="w"> </span>â†’<span class="w"> </span>å¼€å‘ç®¡ç†<span class="w"> </span>â†’<span class="w"> </span>å¼€å‘è®¾ç½®<span class="w"> </span>â†’<span class="w"> </span>AppID

<span class="c1"># 3. ä¸‹è½½å¼€å‘è€…å·¥å…·</span>
https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
</pre></div>
</div>
</section>
<section id="id5">
<h3>1.2 é¡¹ç›®ç»“æ„<a class="headerlink" href="#id5" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>my-miniprogram/
â”œâ”€â”€ pages/                  # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/
â”‚   â”‚   â”œâ”€â”€ index.js       # é¡µé¢é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ index.json     # é¡µé¢é…ç½®
â”‚   â”‚   â”œâ”€â”€ index.wxml     # é¡µé¢ç»“æ„
â”‚   â”‚   â””â”€â”€ index.wxss     # é¡µé¢æ ·å¼
â”‚   â””â”€â”€ logs/
â”‚       â”œâ”€â”€ logs.js
â”‚       â”œâ”€â”€ logs.json
â”‚       â”œâ”€â”€ logs.wxml
â”‚       â””â”€â”€ logs.wxss
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ util.js
â”œâ”€â”€ app.js                  # åº”ç”¨é€»è¾‘
â”œâ”€â”€ app.json                # å…¨å±€é…ç½®
â”œâ”€â”€ app.wxss                # å…¨å±€æ ·å¼
â”œâ”€â”€ project.config.json     # é¡¹ç›®é…ç½®
â””â”€â”€ sitemap.json            # ç´¢å¼•é…ç½®
</pre></div>
</div>
</section>
<section id="app-json">
<h3>1.3 å…¨å±€é…ç½® (app.json)<a class="headerlink" href="#app-json" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;pages/index/index&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;pages/logs/logs&quot;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;window&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;backgroundTextStyle&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;light&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;navigationBarBackgroundColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;navigationBarTitleText&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;æˆ‘çš„å°ç¨‹åº&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;navigationBarTextStyle&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;enablePullDownRefresh&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;backgroundColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#f8f8f8&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;tabBar&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#999&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;selectedColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#07c160&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;backgroundColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;borderStyle&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;pagePath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pages/index/index&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;é¦–é¡µ&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;iconPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;images/home.png&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;selectedIconPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;images/home-active.png&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;pagePath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pages/profile/profile&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;æˆ‘çš„&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;iconPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;images/profile.png&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;selectedIconPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;images/profile-active.png&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;networkTimeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;downloadFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;debug&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id6">
<h2>2. é¡µé¢å¼€å‘<a class="headerlink" href="#id6" title="Permalink to this heading">ïƒ</a></h2>
<section id="wxml">
<h3>2.1 WXML è¯­æ³•<a class="headerlink" href="#wxml" title="Permalink to this heading">ïƒ</a></h3>
<p><strong>æ•°æ®ç»‘å®š</strong>ï¼š</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- pages/index/index.wxml --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- æ–‡æœ¬ç»‘å®š --&gt;</span>
  <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{message}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- å±æ€§ç»‘å®š --&gt;</span>
  <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{imgUrl}}&quot;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&quot;aspectFit&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- è¿ç®— --&gt;</span>
  <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{a + b}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{flag ? &#39;çœŸ&#39; : &#39;å‡&#39;}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- ç»„åˆ --&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;item-{{index}}&quot;</span><span class="p">&gt;</span>Item {{index + 1}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><strong>åˆ—è¡¨æ¸²æŸ“</strong>ï¼š</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- wx:for --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{items}}&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
  {{index}}: {{item.name}}
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- è‡ªå®šä¹‰å˜é‡å --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{items}}&quot;</span> <span class="na">wx:for-item</span><span class="o">=</span><span class="s">&quot;product&quot;</span> <span class="na">wx:for-index</span><span class="o">=</span><span class="s">&quot;idx&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
  {{idx}}: {{product.name}}
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- åµŒå¥—å¾ªç¯ --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{categories}}&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{item.name}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{item.products}}&quot;</span> <span class="na">wx:for-item</span><span class="o">=</span><span class="s">&quot;product&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
    {{product.name}}
  <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><strong>æ¡ä»¶æ¸²æŸ“</strong>ï¼š</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- wx:if --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&quot;{{condition}}&quot;</span><span class="p">&gt;</span>æ˜¾ç¤ºå†…å®¹<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:elif</span><span class="o">=</span><span class="s">&quot;{{condition2}}&quot;</span><span class="p">&gt;</span>å…¶ä»–å†…å®¹<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:else</span><span class="p">&gt;</span>é»˜è®¤å†…å®¹<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- hidden --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">hidden</span><span class="o">=</span><span class="s">&quot;{{!show}}&quot;</span><span class="p">&gt;</span>éšè—å†…å®¹<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- block --&gt;</span>
<span class="p">&lt;</span><span class="nt">block</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&quot;{{true}}&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>å†…å®¹1<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>å†…å®¹2<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">block</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><strong>æ¨¡æ¿</strong>ï¼š</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- å®šä¹‰æ¨¡æ¿ --&gt;</span>
<span class="p">&lt;</span><span class="nt">template</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;msgItem&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{index}}: {{msg}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>Time: {{time}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- ä½¿ç”¨æ¨¡æ¿ --&gt;</span>
<span class="p">&lt;</span><span class="nt">template</span> <span class="na">is</span><span class="o">=</span><span class="s">&quot;msgItem&quot;</span> <span class="na">data</span><span class="o">=</span><span class="s">&quot;{{...item}}&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
</section>
<section id="wxss">
<h3>2.2 WXSS æ ·å¼<a class="headerlink" href="#wxss" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="c">/* pages/index/index.wxss */</span>

<span class="c">/* rpxï¼šå“åº”å¼å•ä½ï¼ˆ750rpx = å±å¹•å®½åº¦ï¼‰ */</span>
<span class="p">.</span><span class="nc">container</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">750</span><span class="n">rpx</span><span class="p">;</span>
<span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* å…¨å±€é€‰æ‹©å™¨ */</span>
<span class="nt">page</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f8f8</span><span class="p">;</span>
<span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ç±»é€‰æ‹©å™¨ */</span>
<span class="p">.</span><span class="nc">title</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="n">rpx</span><span class="p">;</span>
<span class="w">  </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#333</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* IDé€‰æ‹©å™¨ */</span>
<span class="p">#</span><span class="nn">header</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ä¼ªç±» */</span>
<span class="p">.</span><span class="nc">button</span><span class="p">:</span><span class="nd">active</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">opacity</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Flexå¸ƒå±€ */</span>
<span class="p">.</span><span class="nc">flex-row</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">  </span><span class="k">flex-direction</span><span class="p">:</span><span class="w"> </span><span class="kc">row</span><span class="p">;</span>
<span class="w">  </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">space-between</span><span class="p">;</span>
<span class="w">  </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* å¯¼å…¥æ ·å¼ */</span>
<span class="p">@</span><span class="k">import</span><span class="w"> </span><span class="s2">&quot;../../styles/common.wxss&quot;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="js">
<h3>2.3 é¡µé¢é€»è¾‘ (JS)<a class="headerlink" href="#js" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// pages/index/index.js</span>
<span class="nx">Page</span><span class="p">({</span>
<span class="w">  </span><span class="c1">// é¡µé¢æ•°æ®</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hello World&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">userInfo</span><span class="o">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span>
<span class="w">  </span><span class="nx">onLoad</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢åŠ è½½&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="p">)</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">loadData</span><span class="p">()</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">onShow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢æ˜¾ç¤º&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">onReady</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">onHide</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢éšè—&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">onUnload</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢å¸è½½&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// ä¸‹æ‹‰åˆ·æ–°</span>
<span class="w">  </span><span class="nx">onPullDownRefresh</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">loadData</span><span class="p">()</span>
<span class="w">    </span><span class="nx">wx</span><span class="p">.</span><span class="nx">stopPullDownRefresh</span><span class="p">()</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// ä¸Šæ‹‰åŠ è½½</span>
<span class="w">  </span><span class="nx">onReachBottom</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">loadMore</span><span class="p">()</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// åˆ†äº«</span>
<span class="w">  </span><span class="nx">onShareAppMessage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;åˆ†äº«æ ‡é¢˜&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/pages/index/index&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">imageUrl</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/images/share.jpg&#39;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// è‡ªå®šä¹‰æ–¹æ³•</span>
<span class="w">  </span><span class="nx">loadData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">wx</span><span class="p">.</span><span class="nx">showLoading</span><span class="p">({</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;åŠ è½½ä¸­&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
<span class="w">      </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;https://api.example.com/data&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">success</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
<span class="w">          </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">complete</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">wx</span><span class="p">.</span><span class="nx">hideLoading</span><span class="p">()</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// äº‹ä»¶å¤„ç†</span>
<span class="w">  </span><span class="nx">handleTap</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç‚¹å‡»äº‹ä»¶&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
<span class="w">      </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">handleInput</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
<span class="w">      </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id7">
<h2>3. ç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#id7" title="Permalink to this heading">ïƒ</a></h2>
<section id="id8">
<h3>3.1 åº”ç”¨ç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#id8" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// app.js</span>
<span class="nx">App</span><span class="p">({</span>
<span class="w">  </span><span class="c1">// å…¨å±€æ•°æ®</span>
<span class="w">  </span><span class="nx">globalData</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">userInfo</span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// å°ç¨‹åºåˆå§‹åŒ–</span>
<span class="w">  </span><span class="nx">onLaunch</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;å°ç¨‹åºå¯åŠ¨&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// åœºæ™¯å€¼ï¼šoptions.scene</span>
<span class="w">    </span><span class="c1">// å¯åŠ¨å‚æ•°ï¼šoptions.query</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// æ£€æŸ¥æ›´æ–°</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">checkUpdate</span><span class="p">()</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// è·å–ç³»ç»Ÿä¿¡æ¯</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">systemInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wx</span><span class="p">.</span><span class="nx">getSystemInfoSync</span><span class="p">()</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">systemInfo</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// å°ç¨‹åºæ˜¾ç¤º</span>
<span class="w">  </span><span class="nx">onShow</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;å°ç¨‹åºåˆ‡å‰å°&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// å°ç¨‹åºéšè—</span>
<span class="w">  </span><span class="nx">onHide</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;å°ç¨‹åºåˆ‡åå°&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// é”™è¯¯ç›‘å¬</span>
<span class="w">  </span><span class="nx">onError</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;å°ç¨‹åºé”™è¯¯&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">msg</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// é¡µé¢ä¸å­˜åœ¨</span>
<span class="w">  </span><span class="nx">onPageNotFound</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢ä¸å­˜åœ¨&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span>
<span class="w">    </span><span class="nx">wx</span><span class="p">.</span><span class="nx">redirectTo</span><span class="p">({</span>
<span class="w">      </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/pages/index/index&#39;</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// æ£€æŸ¥æ›´æ–°</span>
<span class="w">  </span><span class="nx">checkUpdate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wx</span><span class="p">.</span><span class="nx">getUpdateManager</span><span class="p">()</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">updateManager</span><span class="p">.</span><span class="nx">onCheckForUpdate</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;æ£€æŸ¥æ›´æ–°&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">hasUpdate</span><span class="p">)</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">updateManager</span><span class="p">.</span><span class="nx">onUpdateReady</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">wx</span><span class="p">.</span><span class="nx">showModal</span><span class="p">({</span>
<span class="w">        </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æ›´æ–°æç¤º&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æ–°ç‰ˆæœ¬å·²å‡†å¤‡å¥½ï¼Œæ˜¯å¦é‡å¯åº”ç”¨ï¼Ÿ&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">confirm</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">updateManager</span><span class="p">.</span><span class="nx">applyUpdate</span><span class="p">()</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>3.2 é¡µé¢ç”Ÿå‘½å‘¨æœŸæµç¨‹<a class="headerlink" href="#id9" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>å°ç¨‹åºå¯åŠ¨
    â†“
App.onLaunch
    â†“
App.onShow
    â†“
Page.onLoad â”€â”€â”€â”€â†’ é¡µé¢åŠ è½½ï¼Œåªè°ƒç”¨ä¸€æ¬¡
    â†“
Page.onShow â”€â”€â”€â”€â†’ é¡µé¢æ˜¾ç¤ºï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½è°ƒç”¨
    â†“
Page.onReady â”€â”€â”€â†’ åˆæ¬¡æ¸²æŸ“å®Œæˆï¼Œåªè°ƒç”¨ä¸€æ¬¡
    â†“
[ç”¨æˆ·æ“ä½œ]
    â†“
Page.onHide â”€â”€â”€â”€â†’ é¡µé¢éšè—
    â†“
Page.onUnload â”€â”€â†’ é¡µé¢å¸è½½
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id10">
<h2>4. ç»„ä»¶<a class="headerlink" href="#id10" title="Permalink to this heading">ïƒ</a></h2>
<section id="id11">
<h3>4.1 è§†å›¾å®¹å™¨<a class="headerlink" href="#id11" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- viewï¼šå—çº§å®¹å™¨ --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;item&quot;</span><span class="p">&gt;</span>Item 1<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;item&quot;</span><span class="p">&gt;</span>Item 2<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- scroll-viewï¼šå¯æ»šåŠ¨å®¹å™¨ --&gt;</span>
<span class="p">&lt;</span><span class="nt">scroll-view</span> 
  <span class="na">scroll-y</span> 
  <span class="na">style</span><span class="o">=</span><span class="s">&quot;height: 400rpx&quot;</span>
  <span class="na">bindscrolltolower</span><span class="o">=</span><span class="s">&quot;onReachBottom&quot;</span>
  <span class="na">enable-back-to-top</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{items}}&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>{{item.name}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">scroll-view</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- swiperï¼šè½®æ’­å›¾ --&gt;</span>
<span class="p">&lt;</span><span class="nt">swiper</span> 
  <span class="na">indicator-dots</span> 
  <span class="na">autoplay</span> 
  <span class="na">interval</span><span class="o">=</span><span class="s">&quot;3000&quot;</span> 
  <span class="na">duration</span><span class="o">=</span><span class="s">&quot;500&quot;</span>
  <span class="na">circular</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">swiper-item</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{banners}}&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{item.image}}&quot;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&quot;aspectFill&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>4.2 åŸºç¡€ç»„ä»¶<a class="headerlink" href="#id12" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- textï¼šæ–‡æœ¬ --&gt;</span>
<span class="p">&lt;</span><span class="nt">text</span> <span class="na">selectable</span> <span class="na">user-select</span><span class="p">&gt;</span>å¯é€‰æ‹©çš„æ–‡æœ¬<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- imageï¼šå›¾ç‰‡ --&gt;</span>
<span class="p">&lt;</span><span class="nt">image</span> 
  <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{imgUrl}}&quot;</span> 
  <span class="na">mode</span><span class="o">=</span><span class="s">&quot;aspectFit&quot;</span>
  <span class="na">lazy-load</span>
  <span class="na">bindload</span><span class="o">=</span><span class="s">&quot;onImageLoad&quot;</span>
  <span class="na">binderror</span><span class="o">=</span><span class="s">&quot;onImageError&quot;</span>
<span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- iconï¼šå›¾æ ‡ --&gt;</span>
<span class="p">&lt;</span><span class="nt">icon</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;success&quot;</span> <span class="na">size</span><span class="o">=</span><span class="s">&quot;40&quot;</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;#07c160&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">icon</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- progressï¼šè¿›åº¦æ¡ --&gt;</span>
<span class="p">&lt;</span><span class="nt">progress</span> <span class="na">percent</span><span class="o">=</span><span class="s">&quot;60&quot;</span> <span class="na">show-info</span> <span class="na">stroke-width</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">activeColor</span><span class="o">=</span><span class="s">&quot;#07c160&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">progress</span><span class="p">&gt;</span>

<span class="cm">&lt;!-- rich-textï¼šå¯Œæ–‡æœ¬ --&gt;</span>
<span class="p">&lt;</span><span class="nt">rich-text</span> <span class="na">nodes</span><span class="o">=</span><span class="s">&quot;{{htmlContent}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">rich-text</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id13">
<h3>4.3 è¡¨å•ç»„ä»¶<a class="headerlink" href="#id13" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">bindsubmit</span><span class="o">=</span><span class="s">&quot;onSubmit&quot;</span> <span class="na">bindreset</span><span class="o">=</span><span class="s">&quot;onReset&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- inputï¼šè¾“å…¥æ¡† --&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> 
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> 
    <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>
    <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{username}}&quot;</span>
    <span class="na">bindinput</span><span class="o">=</span><span class="s">&quot;onUsernameInput&quot;</span>
    <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;20&quot;</span>
  <span class="p">/&gt;</span>
  
  <span class="cm">&lt;!-- textareaï¼šå¤šè¡Œè¾“å…¥ --&gt;</span>
  <span class="p">&lt;</span><span class="nt">textarea</span> 
    <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>
    <span class="na">auto-height</span>
    <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;200&quot;</span>
  <span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- buttonï¼šæŒ‰é’® --&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;primary&quot;</span> <span class="na">form-type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>æäº¤<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;default&quot;</span> <span class="na">form-type</span><span class="o">=</span><span class="s">&quot;reset&quot;</span><span class="p">&gt;</span>é‡ç½®<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- checkboxï¼šå¤é€‰æ¡† --&gt;</span>
  <span class="p">&lt;</span><span class="nt">checkbox-group</span> <span class="na">bindchange</span><span class="o">=</span><span class="s">&quot;onCheckboxChange&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{items}}&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">checkbox</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{item.value}}&quot;</span><span class="p">/&gt;</span>{{item.name}}
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">checkbox-group</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- radioï¼šå•é€‰æ¡† --&gt;</span>
  <span class="p">&lt;</span><span class="nt">radio-group</span> <span class="na">bindchange</span><span class="o">=</span><span class="s">&quot;onRadioChange&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{items}}&quot;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">radio</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{item.value}}&quot;</span><span class="p">/&gt;</span>{{item.name}}
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">radio-group</span><span class="p">&gt;</span>
  
  <span class="cm">&lt;!-- switchï¼šå¼€å…³ --&gt;</span>
  <span class="p">&lt;</span><span class="nt">switch</span> <span class="na">checked</span><span class="o">=</span><span class="s">&quot;{{isChecked}}&quot;</span> <span class="na">bindchange</span><span class="o">=</span><span class="s">&quot;onSwitchChange&quot;</span><span class="p">/&gt;</span>
  
  <span class="cm">&lt;!-- sliderï¼šæ»‘å— --&gt;</span>
  <span class="p">&lt;</span><span class="nt">slider</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{value}}&quot;</span> <span class="na">bindchange</span><span class="o">=</span><span class="s">&quot;onSliderChange&quot;</span><span class="p">/&gt;</span>
  
  <span class="cm">&lt;!-- pickerï¼šé€‰æ‹©å™¨ --&gt;</span>
  <span class="p">&lt;</span><span class="nt">picker</span> <span class="na">mode</span><span class="o">=</span><span class="s">&quot;selector&quot;</span> <span class="na">range</span><span class="o">=</span><span class="s">&quot;{{items}}&quot;</span> <span class="na">bindchange</span><span class="o">=</span><span class="s">&quot;onPickerChange&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{items[index]}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">picker</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id14">
<h3>4.4 å¯¼èˆªç»„ä»¶<a class="headerlink" href="#id14" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- navigatorï¼šé¡µé¢è·³è½¬ --&gt;</span>
<span class="p">&lt;</span><span class="nt">navigator</span> <span class="na">url</span><span class="o">=</span><span class="s">&quot;/pages/detail/detail?id=1&quot;</span><span class="p">&gt;</span>è·³è½¬åˆ°è¯¦æƒ…<span class="p">&lt;/</span><span class="nt">navigator</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">navigator</span> <span class="na">url</span><span class="o">=</span><span class="s">&quot;/pages/list/list&quot;</span> <span class="na">open-type</span><span class="o">=</span><span class="s">&quot;redirect&quot;</span><span class="p">&gt;</span>é‡å®šå‘<span class="p">&lt;/</span><span class="nt">navigator</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">navigator</span> <span class="na">url</span><span class="o">=</span><span class="s">&quot;/pages/other/other&quot;</span> <span class="na">open-type</span><span class="o">=</span><span class="s">&quot;switchTab&quot;</span><span class="p">&gt;</span>åˆ‡æ¢Tab<span class="p">&lt;/</span><span class="nt">navigator</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3>4.5 è‡ªå®šä¹‰ç»„ä»¶<a class="headerlink" href="#id15" title="Permalink to this heading">ïƒ</a></h3>
<p><strong>åˆ›å»ºç»„ä»¶</strong>ï¼š</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// components/product-item/product-item.js</span>
<span class="nx">Component</span><span class="p">({</span>
<span class="w">  </span><span class="c1">// ç»„ä»¶å±æ€§</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">product</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">Object</span><span class="p">,</span>
<span class="w">      </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">showPrice</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span>
<span class="w">      </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// ç»„ä»¶æ•°æ®</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</span>
<span class="w">  </span><span class="nx">lifetimes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">attached</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶è¢«æ·»åŠ åˆ°é¡µé¢&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">detached</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç»„ä»¶ä»é¡µé¢ç§»é™¤&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼ˆç»„ä»¶æ‰€åœ¨é¡µé¢ï¼‰</span>
<span class="w">  </span><span class="nx">pageLifetimes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">show</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢æ˜¾ç¤º&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">hide</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;é¡µé¢éšè—&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="c1">// ç»„ä»¶æ–¹æ³•</span>
<span class="w">  </span><span class="nx">methods</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">onTap</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// è§¦å‘è‡ªå®šä¹‰äº‹ä»¶</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">triggerEvent</span><span class="p">(</span><span class="s1">&#39;tap&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">product</span><span class="p">.</span><span class="nx">id</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">onAdd</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
<span class="w">        </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- components/product-item/product-item.wxml --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-item&quot;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;onTap&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{product.image}}&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-image&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-info&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-name&quot;</span><span class="p">&gt;</span>{{product.name}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-desc&quot;</span><span class="p">&gt;</span>{{product.description}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-footer&quot;</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&quot;{{showPrice}}&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-price&quot;</span><span class="p">&gt;</span>Â¥{{product.price}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">size</span><span class="o">=</span><span class="s">&quot;mini&quot;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;onAdd&quot;</span><span class="p">&gt;</span>åŠ è´­<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="c">/* components/product-item/product-item.wxss */</span>
<span class="p">.</span><span class="nc">product-item</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
<span class="w">  </span><span class="k">border-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="n">rpx</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#eee</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">product-image</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
<span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">product-info</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">flex</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">margin-left</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">product-name</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="n">rpx</span><span class="p">;</span>
<span class="w">  </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">product-price</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ff5722</span><span class="p">;</span>
<span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="c1">// components/product-item/product-item.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;component&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;usingComponents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>ä½¿ç”¨ç»„ä»¶</strong>ï¼š</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="c1">// pages/index/index.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;usingComponents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;product-item&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/components/product-item/product-item&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- pages/index/index.wxml --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">product-item</span> 
    <span class="na">wx:for</span><span class="o">=</span><span class="s">&quot;{{products}}&quot;</span> 
    <span class="na">wx:key</span><span class="o">=</span><span class="s">&quot;id&quot;</span>
    <span class="na">product</span><span class="o">=</span><span class="s">&quot;{{item}}&quot;</span>
    <span class="na">show-price</span><span class="o">=</span><span class="s">&quot;{{true}}&quot;</span>
    <span class="na">bind:tap</span><span class="o">=</span><span class="s">&quot;onProductTap&quot;</span>
  <span class="p">&gt;&lt;/</span><span class="nt">product-item</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// pages/index/index.js</span>
<span class="nx">Page</span><span class="p">({</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">products</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">onProductTap</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span>
<span class="w">    </span><span class="nx">wx</span><span class="p">.</span><span class="nx">navigateTo</span><span class="p">({</span>
<span class="w">      </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="sb">`/pages/detail/detail?id=</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<p><strong>ç»„ä»¶é€šä¿¡</strong>ï¼š</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼ˆé€šè¿‡propertiesï¼‰</span>
<span class="c1">// å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ï¼ˆé€šè¿‡triggerEventï¼‰</span>

<span class="c1">// è·å–çˆ¶ç»„ä»¶å®ä¾‹</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">getRelationNodes</span><span class="p">(</span><span class="s1">&#39;../parent/parent&#39;</span><span class="p">)[</span><span class="mf">0</span><span class="p">]</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">someMethod</span><span class="p">()</span>

<span class="c1">// ç»„ä»¶é—´å…³ç³»</span>
<span class="c1">// components/child/child.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="s2">&quot;component&quot;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="s2">&quot;relations&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;../parent/parent&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ancestor&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="api">
<h2>5. API<a class="headerlink" href="#api" title="Permalink to this heading">ïƒ</a></h2>
<section id="id16">
<h3>5.1 è·¯ç”±è·³è½¬<a class="headerlink" href="#id16" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">navigateTo</span><span class="p">({</span>
<span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/pages/detail/detail?id=1&#39;</span>
<span class="p">})</span>

<span class="c1">// å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">redirectTo</span><span class="p">({</span>
<span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/pages/result/result&#39;</span>
<span class="p">})</span>

<span class="c1">// è·³è½¬åˆ°tabBaré¡µé¢</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">switchTab</span><span class="p">({</span>
<span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/pages/index/index&#39;</span>
<span class="p">})</span>

<span class="c1">// å…³é—­æ‰€æœ‰é¡µé¢ï¼Œè·³è½¬</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">reLaunch</span><span class="p">({</span>
<span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/pages/home/home&#39;</span>
<span class="p">})</span>

<span class="c1">// è¿”å›ä¸Šä¸€é¡µ</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">navigateBack</span><span class="p">({</span>
<span class="w">  </span><span class="nx">delta</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w">  </span><span class="c1">// è¿”å›çš„é¡µé¢æ•°</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="id17">
<h3>5.2 äº¤äº’åé¦ˆ<a class="headerlink" href="#id17" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// æ˜¾ç¤ºæç¤º</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">showToast</span><span class="p">({</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æ“ä½œæˆåŠŸ&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;success&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">duration</span><span class="o">:</span><span class="w"> </span><span class="mf">2000</span>
<span class="p">})</span>

<span class="c1">// æ˜¾ç¤ºæ¨¡æ€å¯¹è¯æ¡†</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">showModal</span><span class="p">({</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æç¤º&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">confirm</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç”¨æˆ·ç‚¹å‡»ç¡®å®š&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">cancel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç”¨æˆ·ç‚¹å‡»å–æ¶ˆ&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>

<span class="c1">// æ˜¾ç¤ºåŠ è½½æç¤º</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">showLoading</span><span class="p">({</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;åŠ è½½ä¸­&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">mask</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">})</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">hideLoading</span><span class="p">()</span>

<span class="c1">// æ˜¾ç¤ºæ“ä½œèœå•</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">showActionSheet</span><span class="p">({</span>
<span class="w">  </span><span class="nx">itemList</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;é€‰é¡¹1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é€‰é¡¹2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é€‰é¡¹3&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ç”¨æˆ·ç‚¹å‡»äº†&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">tapIndex</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="id18">
<h3>5.3 æ•°æ®ç¼“å­˜<a class="headerlink" href="#id18" title="Permalink to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// åŒæ­¥å­˜å‚¨</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">setStorageSync</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wx</span><span class="p">.</span><span class="nx">getStorageSync</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">removeStorageSync</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">clearStorageSync</span><span class="p">()</span>

<span class="c1">// å¼‚æ­¥å­˜å‚¨</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">setStorage</span><span class="p">({</span>
<span class="w">  </span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;userInfo&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¼ ä¸‰&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">25</span><span class="p">},</span>
<span class="w">  </span><span class="nx">success</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;å­˜å‚¨æˆåŠŸ&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>

<span class="nx">wx</span><span class="p">.</span><span class="nx">getStorage</span><span class="p">({</span>
<span class="w">  </span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;userInfo&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>

<span class="c1">// è·å–å­˜å‚¨ä¿¡æ¯</span>
<span class="nx">wx</span><span class="p">.</span><span class="nx">getStorageInfo</span><span class="p">({</span>
<span class="w">  </span><span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">keys</span><span class="p">)</span><span class="w">        </span><span class="c1">// æ‰€æœ‰key</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">currentSize</span><span class="p">)</span><span class="w"> </span><span class="c1">// å½“å‰å¤§å°ï¼ˆKBï¼‰</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">limitSize</span><span class="p">)</span><span class="w">   </span><span class="c1">// é™åˆ¶å¤§å°ï¼ˆKBï¼‰</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id19">
<h2>6. å¸¸è§é—®é¢˜<a class="headerlink" href="#id19" title="Permalink to this heading">ïƒ</a></h2>
<section id="q1-rpxpx">
<h3>Q1: rpxå’Œpxçš„åŒºåˆ«ï¼Ÿ<a class="headerlink" href="#q1-rpxpx" title="Permalink to this heading">ïƒ</a></h3>
<p><strong>A</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rpx</span></code>ï¼šå“åº”å¼åƒç´ ï¼Œ750rpx = å±å¹•å®½åº¦</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">px</span></code>ï¼šå›ºå®šåƒç´ ï¼Œä¸åŒå±å¹•æ˜¾ç¤ºå¤§å°ä¸åŒ</p></li>
<li><p>iPhone6ï¼š375px = 750rpx</p></li>
</ul>
</section>
<section id="q2-setdata">
<h3>Q2: setDataçš„æ³¨æ„äº‹é¡¹ï¼Ÿ<a class="headerlink" href="#q2-setdata" title="Permalink to this heading">ïƒ</a></h3>
<p><strong>A</strong>:</p>
<ol class="arabic simple">
<li><p>å•æ¬¡setDataæ•°æ®ä¸è¶…è¿‡1MB</p></li>
<li><p>ä¸è¦é¢‘ç¹è°ƒç”¨ï¼ˆä¼šé˜»å¡æ¸²æŸ“ï¼‰</p></li>
<li><p>åªæ›´æ–°éœ€è¦æ”¹å˜çš„æ•°æ®</p></li>
<li><p>é¿å…åœ¨åå°æ€è°ƒç”¨</p></li>
</ol>
</section>
<section id="q3">
<h3>Q3: å°ç¨‹åºåŒ…ä½“ç§¯é™åˆ¶ï¼Ÿ<a class="headerlink" href="#q3" title="Permalink to this heading">ïƒ</a></h3>
<p><strong>A</strong>:</p>
<ul class="simple">
<li><p>æ•´ä¸ªå°ç¨‹åºï¼šä¸è¶…è¿‡20MB</p></li>
<li><p>ä¸»åŒ…ï¼šä¸è¶…è¿‡2MB</p></li>
<li><p>å•ä¸ªåˆ†åŒ…ï¼šä¸è¶…è¿‡2MB</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="id20">
<h2>å‚è€ƒèµ„æº<a class="headerlink" href="#id20" title="Permalink to this heading">ïƒ</a></h2>
<ul class="simple">
<li><p>å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£</p></li>
<li><p>å¾®ä¿¡å¼€æ”¾ç¤¾åŒº</p></li>
<li><p>å°ç¨‹åºç¤ºä¾‹ä»£ç </p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="introduction.html" class="btn btn-neutral float-left" title="WeChat Mini Program Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="02-network-request-and-cloud.html" class="btn btn-neutral float-right" title="ç½‘ç»œè¯·æ±‚ä¸äº‘å¼€å‘" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Code Dojo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>