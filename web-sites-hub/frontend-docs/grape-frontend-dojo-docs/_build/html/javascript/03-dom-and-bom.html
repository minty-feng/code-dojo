

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>03-DOMä¸BOMæ“ä½œ &mdash; Frontend Tutorial 1.0.0 æ–‡æ¡£</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f07cb45e" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=34088549"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="next" title="React æ•™ç¨‹" href="../react/index.html" />
    <link rel="prev" title="02-å¼‚æ­¥ç¼–ç¨‹" href="02-asynchronous-programming.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Frontend Tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="æœç´¢æ–‡æ¡£" aria-label="æœç´¢æ–‡æ¡£" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="å¯¼èˆªèœå•">
              <p class="caption" role="heading"><span class="caption-text">ç›®å½•</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Frontend Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../00-environment-setup.html">00-ç¯å¢ƒé…ç½®</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-debugging-techniques.html">01-è°ƒè¯•æŠ€å·§</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-testing-techniques.html">02-æµ‹è¯•æŠ€æœ¯</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-performance-optimization.html">03-æ€§èƒ½ä¼˜åŒ–</a></li>
<li class="toctree-l1"><a class="reference internal" href="../html/index.html">HTML æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../css/index.html">CSS æ•™ç¨‹</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">JavaScript æ•™ç¨‹</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="README.html">JavaScript æ ¸å¿ƒæŠ€æœ¯</a></li>
<li class="toctree-l2"><a class="reference internal" href="01-es6-core-features.html">01-ES6+æ ¸å¿ƒç‰¹æ€§</a></li>
<li class="toctree-l2"><a class="reference internal" href="02-asynchronous-programming.html">02-å¼‚æ­¥ç¼–ç¨‹</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">03-DOMä¸BOM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">ğŸ“‹ å­¦ä¹ ç›®æ ‡</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dom">ğŸŒ³ DOMæ“ä½œ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">å…ƒç´ é€‰æ‹©</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">å…ƒç´ åˆ›å»ºä¸æ’å…¥</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">å…ƒç´ å±æ€§æ“ä½œ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">DOMéå†</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id6">ğŸ“… äº‹ä»¶å¤„ç†</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">äº‹ä»¶ç›‘å¬</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">äº‹ä»¶å§”æ‰˜</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">å¸¸ç”¨äº‹ä»¶</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">è‡ªå®šä¹‰äº‹ä»¶</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bom">ğŸŒ BOMæ“ä½œ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#window">windowå¯¹è±¡</a></li>
<li class="toctree-l4"><a class="reference internal" href="#location">locationå¯¹è±¡</a></li>
<li class="toctree-l4"><a class="reference internal" href="#history">historyå¯¹è±¡</a></li>
<li class="toctree-l4"><a class="reference internal" href="#navigator">navigatorå¯¹è±¡</a></li>
<li class="toctree-l4"><a class="reference internal" href="#screen">screenå¯¹è±¡</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id11">âš¡ æ€§èƒ½ä¼˜åŒ–</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">é˜²æŠ–å’ŒèŠ‚æµ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#documentfragment">DocumentFragment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#intersectionobserver">IntersectionObserver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id13">ğŸ“š å®è·µç»ƒä¹ </a><ul>
<li class="toctree-l4"><a class="reference internal" href="#todo">ç»ƒä¹ 1ï¼šTodoåˆ—è¡¨</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">ç»ƒä¹ 2ï¼šå›¾ç‰‡æ‡’åŠ è½½</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">ç»ƒä¹ 3ï¼šæ— é™æ»šåŠ¨</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id16">ğŸ“š å‚è€ƒèµ„æ–™</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../react/index.html">React æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vue/index.html">Vue æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../angular/index.html">Angular æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typescript/index.html">TypeScript æ•™ç¨‹</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="ç§»åŠ¨ç‰ˆå¯¼èˆªèœå•"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Frontend Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="é¡µé¢å¯¼èˆª">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">JavaScript æ•™ç¨‹</a></li>
      <li class="breadcrumb-item active">03-DOMä¸BOMæ“ä½œ</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/javascript/03-dom-and-bom.md.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="dombom">
<h1>03-DOMä¸BOMæ“ä½œ<a class="headerlink" href="#dombom" title="Link to this heading">ïƒ</a></h1>
<section id="id1">
<h2>ğŸ“‹ å­¦ä¹ ç›®æ ‡<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h2>
<ul class="simple">
<li><p>æŒæ¡DOMæ“ä½œæ ¸å¿ƒAPI</p></li>
<li><p>å­¦ä¹ äº‹ä»¶å¤„ç†æœºåˆ¶</p></li>
<li><p>ç†è§£BOMæµè§ˆå™¨å¯¹è±¡</p></li>
<li><p>æŒæ¡æ€§èƒ½ä¼˜åŒ–æŠ€å·§</p></li>
</ul>
</section>
<section id="dom">
<h2>ğŸŒ³ DOMæ“ä½œ<a class="headerlink" href="#dom" title="Link to this heading">ïƒ</a></h2>
<section id="id2">
<h3>å…ƒç´ é€‰æ‹©<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// getElementById</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;myId&#39;</span><span class="p">);</span>

<span class="c1">// querySelectorï¼ˆæ¨èï¼‰</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.class&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#id&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;[data-id=&quot;123&quot;]&#39;</span><span class="p">);</span>

<span class="c1">// querySelectorAll</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">elements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;.items&#39;</span><span class="p">);</span>
<span class="c1">// è¿”å›NodeListï¼Œå¯ä»¥forEach</span>
<span class="nx">elements</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">el</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">el</span><span class="p">));</span>

<span class="c1">// è½¬æ¢ä¸ºæ•°ç»„</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">elements</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">elements</span><span class="p">];</span>

<span class="c1">// å…¶ä»–é€‰æ‹©å™¨ï¼ˆä¸æ¨èï¼‰</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByName</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3>å…ƒç´ åˆ›å»ºä¸æ’å…¥<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// åˆ›å»ºå…ƒç´ </span>
<span class="kd">const</span><span class="w"> </span><span class="nx">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;container&#39;</span><span class="p">;</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;main&#39;</span><span class="p">;</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">textContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="p">;</span>

<span class="c1">// è®¾ç½®HTML</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;span&gt;Content&lt;/span&gt;&#39;</span><span class="p">;</span>

<span class="c1">// è®¾ç½®å±æ€§</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;data-id&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">// æ¨è</span>

<span class="c1">// æ’å…¥å…ƒç´ </span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">div</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">anotherElement</span><span class="p">);</span>

<span class="c1">// åœ¨å‰é¢æ’å…¥</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span><span class="w"> </span><span class="nx">referenceNode</span><span class="p">);</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">newNode</span><span class="p">);</span>

<span class="c1">// åœ¨åé¢æ’å…¥</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="nx">newNode</span><span class="p">);</span>

<span class="c1">// æ›¿æ¢</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">replaceChild</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span><span class="w"> </span><span class="nx">oldNode</span><span class="p">);</span>

<span class="c1">// ç§»é™¤</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">child</span><span class="p">);</span>

<span class="c1">// å…‹éš†</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">clone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">element</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">  </span><span class="c1">// trueè¡¨ç¤ºæ·±æ‹·è´</span>
</pre></div>
</div>
</section>
<section id="id4">
<h3>å…ƒç´ å±æ€§æ“ä½œ<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// ç±»åæ“ä½œ</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;old&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;new&#39;</span><span class="p">);</span>

<span class="c1">// æ ·å¼æ“ä½œ</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">;</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;blue&#39;</span><span class="p">;</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;color: red; font-size: 16px;&#39;</span><span class="p">;</span>

<span class="c1">// è·å–è®¡ç®—æ ·å¼</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">styles</span><span class="p">.</span><span class="nx">getPropertyValue</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">);</span>

<span class="c1">// å±æ€§æ“ä½œ</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;data-id&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;data-id&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s1">&#39;data-id&#39;</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="s1">&#39;data-id&#39;</span><span class="p">);</span>

<span class="c1">// datasetï¼ˆæ¨èï¼‰</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">userId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">// &lt;div data-user-id=&quot;123&quot;&gt;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">userId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">element</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">userId</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id5">
<h3>DOMéå†<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// çˆ¶å…ƒç´ </span>
<span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">;</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>

<span class="c1">// å­å…ƒç´ </span>
<span class="nx">element</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span><span class="w">  </span><span class="c1">// HTMLCollection</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">;</span><span class="w">  </span><span class="c1">// NodeListï¼ˆåŒ…å«æ–‡æœ¬èŠ‚ç‚¹ï¼‰</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">firstElementChild</span><span class="p">;</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">lastElementChild</span><span class="p">;</span>

<span class="c1">// å…„å¼Ÿå…ƒç´ </span>
<span class="nx">element</span><span class="p">.</span><span class="nx">nextElementSibling</span><span class="p">;</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">previousElementSibling</span><span class="p">;</span>

<span class="c1">// æœ€è¿‘çš„åŒ¹é…å…ƒç´ </span>
<span class="nx">element</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;.container&#39;</span><span class="p">);</span>

<span class="c1">// æ£€æŸ¥åŒ…å«å…³ç³»</span>
<span class="nx">parent</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">child</span><span class="p">);</span>

<span class="c1">// éå†æ‰€æœ‰å­å…ƒç´ </span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">child</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">element</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">child</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h2>ğŸ“… äº‹ä»¶å¤„ç†<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h2>
<section id="id7">
<h3>äº‹ä»¶ç›‘å¬<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// æ·»åŠ äº‹ä»¶ç›‘å¬</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Clicked!&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// ç®­å¤´å‡½æ•°ï¼ˆæ³¨æ„thisæŒ‡å‘ï¼‰</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// ç§»é™¤äº‹ä»¶ç›‘å¬</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Clicked&#39;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">);</span>

<span class="c1">// åªæ‰§è¡Œä¸€æ¬¡</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">once</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">});</span>

<span class="c1">// æ•è·é˜¶æ®µ</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">capture</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">});</span>

<span class="c1">// é˜»æ­¢é»˜è®¤è¡Œä¸º</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// é˜»æ­¢å†’æ³¡</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>äº‹ä»¶å§”æ‰˜<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// âŒ ä¸ºæ¯ä¸ªå…ƒç´ æ·»åŠ ç›‘å¬</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;.item&#39;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">item</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// âœ… äº‹ä»¶å§”æ‰˜ï¼ˆæ¨èï¼‰</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.list&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s1">&#39;.item&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">handleItemClick</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// å®é™…åº”ç”¨</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.todo-list&#39;</span><span class="p">);</span>

<span class="nx">list</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s1">&#39;.delete-btn&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">target</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;.todo-item&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">item</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s1">&#39;.toggle-btn&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">target</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;.todo-item&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">item</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s1">&#39;completed&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>å¸¸ç”¨äº‹ä»¶<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// é¼ æ ‡äº‹ä»¶</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;dblclick&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseenter&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseleave&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseover&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseout&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>

<span class="c1">// é”®ç›˜äº‹ä»¶</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">code</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Enter&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// å¤„ç†å›è½¦</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Ctrl+Sä¿å­˜</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>

<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;keyup&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;keypress&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span><span class="w">  </span><span class="c1">// å·²åºŸå¼ƒ</span>

<span class="c1">// è¡¨å•äº‹ä»¶</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;blur&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// å¤„ç†æäº¤</span>
<span class="p">});</span>

<span class="c1">// çª—å£äº‹ä»¶</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span><span class="w">  </span><span class="c1">// é¡µé¢å®Œå…¨åŠ è½½</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span><span class="w">  </span><span class="c1">// DOMåŠ è½½å®Œæˆ</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;beforeunload&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">returnValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">// ç¦»å¼€é¡µé¢æç¤º</span>
<span class="p">});</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id10">
<h3>è‡ªå®šä¹‰äº‹ä»¶<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">CustomEvent</span><span class="p">(</span><span class="s1">&#39;myEvent&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">detail</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="mf">123</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">bubbles</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nx">cancelable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">});</span>

<span class="c1">// ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;myEvent&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// è§¦å‘äº‹ä»¶</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>

<span class="c1">// å®é™…åº”ç”¨ï¼šç»„ä»¶é€šä¿¡</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">element</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">emit</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">CustomEvent</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">detail</span><span class="o">:</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span>
<span class="w">            </span><span class="nx">bubbles</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">on</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">comp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Component</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.component&#39;</span><span class="p">));</span>
<span class="nx">comp</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Updated:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">comp</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;new value&#39;</span><span class="p">});</span>
</pre></div>
</div>
</section>
</section>
<section id="bom">
<h2>ğŸŒ BOMæ“ä½œ<a class="headerlink" href="#bom" title="Link to this heading">ïƒ</a></h2>
<section id="window">
<h3>windowå¯¹è±¡<a class="headerlink" href="#window" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// çª—å£å°ºå¯¸</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span><span class="w">   </span><span class="c1">// è§†å£å®½åº¦</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">;</span><span class="w">  </span><span class="c1">// è§†å£é«˜åº¦</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">;</span><span class="w">   </span><span class="c1">// æµè§ˆå™¨çª—å£å®½åº¦</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">;</span><span class="w">  </span><span class="c1">// æµè§ˆå™¨çª—å£é«˜åº¦</span>

<span class="c1">// æ»šåŠ¨</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">scrollX</span><span class="p">;</span><span class="w">  </span><span class="c1">// æ°´å¹³æ»šåŠ¨è·ç¦»</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">scrollY</span><span class="p">;</span><span class="w">  </span><span class="c1">// å‚ç›´æ»šåŠ¨è·ç¦»</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">);</span><span class="w">  </span><span class="c1">// æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">({</span>
<span class="w">    </span><span class="nx">top</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span>
<span class="w">    </span><span class="nx">behavior</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;smooth&#39;</span><span class="w">  </span><span class="c1">// å¹³æ»‘æ»šåŠ¨</span>
<span class="p">});</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">scrollBy</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">);</span><span class="w">  </span><span class="c1">// ç›¸å¯¹æ»šåŠ¨</span>

<span class="c1">// æ‰“å¼€æ–°çª—å£</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">newWindow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;https://example.com&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;_blank&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;width=800,height=600&#39;</span>
<span class="p">);</span>

<span class="c1">// å…³é—­çª—å£</span>
<span class="nx">newWindow</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>

<span class="c1">// å¯¹è¯æ¡†</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;æç¤ºä¿¡æ¯&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">confirm</span><span class="p">(</span><span class="s1">&#39;ç¡®è®¤å—ï¼Ÿ&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;è¯·è¾“å…¥ï¼š&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é»˜è®¤å€¼&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="location">
<h3>locationå¯¹è±¡<a class="headerlink" href="#location" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// URLä¿¡æ¯</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span><span class="w">      </span><span class="c1">// å®Œæ•´URL</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span><span class="p">;</span><span class="w">  </span><span class="c1">// åè®®ï¼ˆhttp:ï¼‰</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">host</span><span class="p">;</span><span class="w">      </span><span class="c1">// ä¸»æœºåå’Œç«¯å£</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="p">;</span><span class="w">  </span><span class="c1">// ä¸»æœºå</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">port</span><span class="p">;</span><span class="w">      </span><span class="c1">// ç«¯å£</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span><span class="w">  </span><span class="c1">// è·¯å¾„</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span><span class="w">    </span><span class="c1">// æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆ?key=valueï¼‰</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">;</span><span class="w">      </span><span class="c1">// é”šç‚¹ï¼ˆ#sectionï¼‰</span>

<span class="c1">// å¯¼èˆª</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://example.com&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">// è·³è½¬</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// è·³è½¬</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// æ›¿æ¢ï¼ˆä¸äº§ç”Ÿå†å²è®°å½•ï¼‰</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span><span class="w">  </span><span class="c1">// åˆ·æ–°</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">  </span><span class="c1">// å¼ºåˆ¶ä»æœåŠ¡å™¨åˆ·æ–°</span>

<span class="c1">// URLSearchParams</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
<span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// è·å–å‚æ•°</span>
<span class="nx">params</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// è®¾ç½®å‚æ•°</span>
<span class="nx">params</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s1">&#39;old&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// åˆ é™¤å‚æ•°</span>
<span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="w">  </span><span class="c1">// è½¬ä¸ºå­—ç¬¦ä¸²</span>

<span class="c1">// å®é™…åº”ç”¨</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">getQueryParams</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">result</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="history">
<h3>historyå¯¹è±¡<a class="headerlink" href="#history" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// å¯¼èˆª</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">back</span><span class="p">();</span><span class="w">     </span><span class="c1">// åé€€</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">forward</span><span class="p">();</span><span class="w">  </span><span class="c1">// å‰è¿›</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="o">-</span><span class="mf">2</span><span class="p">);</span><span class="w">     </span><span class="c1">// åé€€2é¡µ</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span><span class="w">      </span><span class="c1">// å‰è¿›1é¡µ</span>

<span class="c1">// HTML5 History API</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">pushState</span><span class="p">({</span><span class="nx">page</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">},</span><span class="w"> </span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;/page1&#39;</span><span class="p">);</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">replaceState</span><span class="p">({</span><span class="nx">page</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">},</span><span class="w"> </span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;/page2&#39;</span><span class="p">);</span>

<span class="c1">// ç›‘å¬å†å²å˜åŒ–</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;popstate&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;State:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">state</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// å®é™…åº”ç”¨ï¼šå•é¡µåº”ç”¨è·¯ç”±</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">Router</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">routes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;popstate&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">handleRoute</span><span class="p">();</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">route</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">routes</span><span class="p">[</span><span class="nx">path</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">handler</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">navigate</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">history</span><span class="p">.</span><span class="nx">pushState</span><span class="p">({},</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">handleRoute</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">handleRoute</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">routes</span><span class="p">[</span><span class="nx">path</span><span class="p">];</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">handler</span><span class="p">)</span><span class="w"> </span><span class="nx">handler</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="navigator">
<h3>navigatorå¯¹è±¡<a class="headerlink" href="#navigator" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// æµè§ˆå™¨ä¿¡æ¯</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">;</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">language</span><span class="p">;</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">languages</span><span class="p">;</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">onLine</span><span class="p">;</span><span class="w">  </span><span class="c1">// æ˜¯å¦åœ¨çº¿</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">cookieEnabled</span><span class="p">;</span>

<span class="c1">// åœ°ç†ä½ç½®</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">position</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">);</span>

<span class="c1">// å‰ªè´´æ¿</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">clipboard</span><span class="p">.</span><span class="nx">writeText</span><span class="p">(</span><span class="s1">&#39;å¤åˆ¶çš„æ–‡æœ¬&#39;</span><span class="p">);</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">clipboard</span><span class="p">.</span><span class="nx">readText</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">text</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">));</span>

<span class="c1">// åˆ†äº«</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">share</span><span class="p">({</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;åˆ†äº«æ ‡é¢˜&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;åˆ†äº«å†…å®¹&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;https://example.com&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="screen">
<h3>screenå¯¹è±¡<a class="headerlink" href="#screen" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">screen</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span><span class="w">   </span><span class="c1">// å±å¹•å®½åº¦</span>
<span class="nx">screen</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="w">  </span><span class="c1">// å±å¹•é«˜åº¦</span>
<span class="nx">screen</span><span class="p">.</span><span class="nx">availWidth</span><span class="p">;</span><span class="w">   </span><span class="c1">// å¯ç”¨å®½åº¦</span>
<span class="nx">screen</span><span class="p">.</span><span class="nx">availHeight</span><span class="p">;</span><span class="w">  </span><span class="c1">// å¯ç”¨é«˜åº¦</span>
<span class="nx">screen</span><span class="p">.</span><span class="nx">colorDepth</span><span class="p">;</span><span class="w">   </span><span class="c1">// é¢œè‰²æ·±åº¦</span>
<span class="nx">screen</span><span class="p">.</span><span class="nx">pixelDepth</span><span class="p">;</span><span class="w">   </span><span class="c1">// åƒç´ æ·±åº¦</span>
</pre></div>
</div>
</section>
</section>
<section id="id11">
<h2>âš¡ æ€§èƒ½ä¼˜åŒ–<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h2>
<section id="id12">
<h3>é˜²æŠ–å’ŒèŠ‚æµ<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// é˜²æŠ–</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">debounce</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="nx">delay</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">timer</span><span class="p">)</span><span class="w"> </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
<span class="w">        </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="nx">delay</span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">handleInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">debounce</span><span class="p">((</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Search:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">},</span><span class="w"> </span><span class="mf">500</span><span class="p">);</span>

<span class="nx">input</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleInput</span><span class="p">);</span>

<span class="c1">// èŠ‚æµ</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">throttle</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="nx">delay</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">lastCall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">lastCall</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">delay</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">lastCall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">now</span><span class="p">;</span>
<span class="w">            </span><span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">handleScroll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">throttle</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Scrolled&#39;</span><span class="p">);</span>
<span class="p">},</span><span class="w"> </span><span class="mf">200</span><span class="p">);</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleScroll</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="documentfragment">
<h3>DocumentFragment<a class="headerlink" href="#documentfragment" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// âŒ å¤šæ¬¡æ“ä½œDOM</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1000</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">li</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">li</span><span class="p">.</span><span class="nx">textContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`Item </span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="w">    </span><span class="nx">ul</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">li</span><span class="p">);</span><span class="w">  </span><span class="c1">// è§¦å‘1000æ¬¡é‡æ’</span>
<span class="p">}</span>

<span class="c1">// âœ… ä½¿ç”¨DocumentFragment</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fragment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1000</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">li</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">li</span><span class="p">.</span><span class="nx">textContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`Item </span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="w">    </span><span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">li</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">ul</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fragment</span><span class="p">);</span><span class="w">  </span><span class="c1">// åªè§¦å‘1æ¬¡é‡æ’</span>
</pre></div>
</div>
</section>
<section id="intersectionobserver">
<h3>IntersectionObserver<a class="headerlink" href="#intersectionobserver" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// æ‡’åŠ è½½å›¾ç‰‡</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">observer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">IntersectionObserver</span><span class="p">((</span><span class="nx">entries</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">entries</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">entry</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">isIntersecting</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">entry</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
<span class="w">            </span><span class="nx">img</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">img</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">src</span><span class="p">;</span>
<span class="w">            </span><span class="nx">observer</span><span class="p">.</span><span class="nx">unobserve</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;img[data-src]&#39;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">img</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// æ— é™æ»šåŠ¨</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">sentinel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.sentinel&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">observer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">IntersectionObserver</span><span class="p">((</span><span class="nx">entries</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">entries</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">isIntersecting</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">loadMore</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
<span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">sentinel</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="id13">
<h2>ğŸ“š å®è·µç»ƒä¹ <a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h2>
<section id="todo">
<h3>ç»ƒä¹ 1ï¼šTodoåˆ—è¡¨<a class="headerlink" href="#todo" title="Link to this heading">ïƒ</a></h3>
<p>å®ç°åŠŸèƒ½ï¼š</p>
<ul class="simple">
<li><p>æ·»åŠ ã€åˆ é™¤Todo</p></li>
<li><p>æ ‡è®°å®Œæˆ</p></li>
<li><p>è¿‡æ»¤æ˜¾ç¤º</p></li>
<li><p>æœ¬åœ°å­˜å‚¨</p></li>
</ul>
</section>
<section id="id14">
<h3>ç»ƒä¹ 2ï¼šå›¾ç‰‡æ‡’åŠ è½½<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h3>
<p>å®ç°ï¼š</p>
<ul class="simple">
<li><p>IntersectionObserver</p></li>
<li><p>å ä½å›¾</p></li>
<li><p>åŠ è½½åŠ¨ç”»</p></li>
</ul>
</section>
<section id="id15">
<h3>ç»ƒä¹ 3ï¼šæ— é™æ»šåŠ¨<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h3>
<p>å®ç°ï¼š</p>
<ul class="simple">
<li><p>æ»šåŠ¨åŠ è½½</p></li>
<li><p>åŠ è½½çŠ¶æ€</p></li>
<li><p>é”™è¯¯å¤„ç†</p></li>
</ul>
</section>
</section>
<section id="id16">
<h2>ğŸ“š å‚è€ƒèµ„æ–™<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model">MDN DOMæ–‡æ¡£</a></p></li>
<li><p><a class="reference external" href="https://dom.spec.whatwg.org/">DOM Standard</a></p></li>
<li><p><a class="reference external" href="https://javascript.info/document">JavaScript.info DOM</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="é¡µè„š">
        <a href="02-asynchronous-programming.html" class="btn btn-neutral float-left" title="02-å¼‚æ­¥ç¼–ç¨‹" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
        <a href="../react/index.html" class="btn btn-neutral float-right" title="React æ•™ç¨‹" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; ç‰ˆæƒæ‰€æœ‰ 2025, Code Dojoã€‚</p>
  </div>

  åˆ©ç”¨ <a href="https://www.sphinx-doc.org/">Sphinx</a> æ„å»ºï¼Œä½¿ç”¨çš„ 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">ä¸»é¢˜</a>
    ç”± <a href="https://readthedocs.org">Read the Docs</a> å¼€å‘.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>