

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>01-ShellåŸºç¡€ &mdash; Backend Tutorial 1.0.0 æ–‡æ¡£</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f07cb45e" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=34088549"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="next" title="02-æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ï¼šgrepã€sedã€awk" href="02-text-processing.html" />
    <link rel="prev" title="ğŸ’» Shell å¼€å‘" href="README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Backend Tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="æœç´¢æ–‡æ¡£" aria-label="æœç´¢æ–‡æ¡£" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="å¯¼èˆªèœå•">
              <p class="caption" role="heading"><span class="caption-text">ç›®å½•</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Backend Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp/index.html">C++ æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java/index.html">Java æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodejs/index.html">Node.js æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/index.html">Golang æ•™ç¨‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust æ•™ç¨‹</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Shell æ•™ç¨‹</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="README.html">Shell å¼€å‘</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">01-ShellåŸºç¡€</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Shellç®€ä»‹</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">å¸¸è§Shellç±»å‹</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bash-vs-zsh">Bash vs Zsh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">ç¬¬ä¸€ä¸ªShellè„šæœ¬</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">åŸºæœ¬ç»“æ„</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shebang">Shebangè¯¦è§£</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id5">å˜é‡</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">å˜é‡å®šä¹‰å’Œä½¿ç”¨</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">ç‰¹æ®Šå˜é‡</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">å˜é‡ä½œç”¨åŸŸ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">å‘½ä»¤æ›¿æ¢</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id10">æ•°æ®ç±»å‹</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">å­—ç¬¦ä¸²</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">æ•°ç»„</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id13">è¿ç®—ç¬¦</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">ç®—æœ¯è¿ç®—</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">æ¯”è¾ƒè¿ç®—</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">é€»è¾‘è¿ç®—</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id17">è¾“å…¥è¾“å‡º</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#echo-vs-printf">echo vs printf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">è¯»å–è¾“å…¥</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">é‡å®šå‘</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id20">æµç¨‹æ§åˆ¶</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#if">ifè¯­å¥</a></li>
<li class="toctree-l4"><a class="reference internal" href="#case">caseè¯­å¥</a></li>
<li class="toctree-l4"><a class="reference internal" href="#for">forå¾ªç¯</a></li>
<li class="toctree-l4"><a class="reference internal" href="#while">whileå¾ªç¯</a></li>
<li class="toctree-l4"><a class="reference internal" href="#until">untilå¾ªç¯</a></li>
<li class="toctree-l4"><a class="reference internal" href="#breakcontinue">breakå’Œcontinue</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id21">å‡½æ•°</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id22">å‡½æ•°å®šä¹‰</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">å‚æ•°å’Œè¿”å›å€¼</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">å±€éƒ¨å˜é‡</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id25">è°ƒè¯•</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id26">è°ƒè¯•é€‰é¡¹</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">å¸¸ç”¨è°ƒè¯•æŠ€å·§</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id28">æœ€ä½³å®è·µ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id29">Shebangå’Œé€‰é¡¹</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">å˜é‡å‘½å</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">é”™è¯¯å¤„ç†</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">ä»£ç ç»„ç»‡</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02-text-processing.html">02-æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ï¼šgrepã€sedã€awk</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-scripts.html">03-Shellå®ç”¨è„šæœ¬</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="ç§»åŠ¨ç‰ˆå¯¼èˆªèœå•"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Backend Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="é¡µé¢å¯¼èˆª">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Shell æ•™ç¨‹</a></li>
      <li class="breadcrumb-item active">01-ShellåŸºç¡€</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/shell/01-basics.md.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="shell">
<h1>01-ShellåŸºç¡€<a class="headerlink" href="#shell" title="Link to this heading">ïƒ</a></h1>
<p>Shellæ˜¯Linux/Unixçš„å‘½ä»¤è§£é‡Šå™¨ï¼Œæ—¢æ˜¯ç”¨æˆ·ç•Œé¢ä¹Ÿæ˜¯ç¼–ç¨‹è¯­è¨€ã€‚Shellè„šæœ¬æ˜¯è¿ç»´è‡ªåŠ¨åŒ–çš„æ ¸å¿ƒå·¥å…·ã€‚</p>
<section id="id1">
<h2>Shellç®€ä»‹<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h2>
<section id="id2">
<h3>å¸¸è§Shellç±»å‹<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥çœ‹å¯ç”¨Shell</span>
cat<span class="w"> </span>/etc/shells

<span class="c1"># å¸¸è§Shell</span>
/bin/sh<span class="w">        </span><span class="c1"># Bourne Shellï¼ˆPOSIXæ ‡å‡†ï¼‰</span>
/bin/bash<span class="w">      </span><span class="c1"># Bourne Again Shellï¼ˆæœ€æµè¡Œï¼‰</span>
/bin/zsh<span class="w">       </span><span class="c1"># Z Shellï¼ˆmacOSé»˜è®¤ï¼‰</span>
/bin/fish<span class="w">      </span><span class="c1"># Friendly Interactive Shell</span>
/bin/dash<span class="w">      </span><span class="c1"># Debian Almquist Shellï¼ˆè½»é‡ï¼‰</span>

<span class="c1"># æŸ¥çœ‹å½“å‰Shell</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$SHELL</span>

<span class="c1"># æŸ¥çœ‹è„šæœ¬ä½¿ç”¨çš„Shell</span>
ps<span class="w"> </span>-p<span class="w"> </span><span class="nv">$$</span>
</pre></div>
</div>
</section>
<section id="bash-vs-zsh">
<h3>Bash vs Zsh<a class="headerlink" href="#bash-vs-zsh" title="Link to this heading">ïƒ</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ç‰¹æ€§</p></th>
<th class="head"><p>Bash</p></th>
<th class="head"><p>Zsh</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>å…¼å®¹æ€§</p></td>
<td><p>POSIXå…¼å®¹ï¼Œå¹¿æ³›æ”¯æŒ</p></td>
<td><p>Bashå…¼å®¹+å¢å¼º</p></td>
</tr>
<tr class="row-odd"><td><p>è¡¥å…¨</p></td>
<td><p>åŸºç¡€è¡¥å…¨</p></td>
<td><p>æ™ºèƒ½è¡¥å…¨ï¼Œè·¯å¾„å±•å¼€</p></td>
</tr>
<tr class="row-even"><td><p>ä¸»é¢˜</p></td>
<td><p>æ— å†…ç½®</p></td>
<td><p>Oh My Zshä¸°å¯Œä¸»é¢˜</p></td>
</tr>
<tr class="row-odd"><td><p>æ€§èƒ½</p></td>
<td><p>å¯åŠ¨å¿«</p></td>
<td><p>ç¨æ…¢ä½†åŠŸèƒ½å¼º</p></td>
</tr>
<tr class="row-even"><td><p>é»˜è®¤ç³»ç»Ÿ</p></td>
<td><p>å¤§éƒ¨åˆ†Linux</p></td>
<td><p>macOS 10.15+</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id3">
<h2>ç¬¬ä¸€ä¸ªShellè„šæœ¬<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h2>
<section id="id4">
<h3>åŸºæœ¬ç»“æ„<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># è¿™æ˜¯æ³¨é‡Š</span>
<span class="c1"># ShebangæŒ‡å®šè§£é‡Šå™¨</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, Shell!&quot;</span>

<span class="c1"># æ‰§è¡Œæƒé™</span>
chmod<span class="w"> </span>+x<span class="w"> </span>script.sh
./script.sh

<span class="c1"># æˆ–ç›´æ¥ç”¨bashæ‰§è¡Œ</span>
bash<span class="w"> </span>script.sh
</pre></div>
</div>
</section>
<section id="shebang">
<h3>Shebangè¯¦è§£<a class="headerlink" href="#shebang" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash              # ä½¿ç”¨bash</span>
<span class="c1">#!/bin/sh                # ä½¿ç”¨shï¼ˆå¯èƒ½æ˜¯bashæˆ–dashï¼‰</span>
<span class="c1">#!/usr/bin/env bash      # æ¨èï¼šè‡ªåŠ¨æŸ¥æ‰¾bashè·¯å¾„</span>
<span class="c1">#!/usr/bin/env python3   # Pythonè„šæœ¬</span>
</pre></div>
</div>
</section>
</section>
<section id="id5">
<h2>å˜é‡<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h2>
<section id="id6">
<h3>å˜é‡å®šä¹‰å’Œä½¿ç”¨<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å®šä¹‰å˜é‡ï¼ˆ=ä¸¤è¾¹æ— ç©ºæ ¼ï¼‰</span>
<span class="nv">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span>
<span class="nv">age</span><span class="o">=</span><span class="m">25</span>
<span class="nb">readonly</span><span class="w"> </span><span class="nv">PI</span><span class="o">=</span><span class="m">3</span>.14159<span class="w">  </span><span class="c1"># åªè¯»å˜é‡</span>

<span class="c1"># ä½¿ç”¨å˜é‡</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$name</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">name</span><span class="si">}</span><span class="w">         </span><span class="c1"># æ¨èï¼šæ˜ç¡®è¾¹ç•Œ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, </span><span class="nv">$name</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello, $name&#39;</span><span class="w">  </span><span class="c1"># å•å¼•å·ä¸è§£æå˜é‡</span>

<span class="c1"># å˜é‡æ‹¼æ¥</span>
<span class="nv">fullname</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="si">}</span><span class="s2"> Smith&quot;</span>

<span class="c1"># åˆ é™¤å˜é‡</span>
<span class="nb">unset</span><span class="w"> </span>name
</pre></div>
</div>
</section>
<section id="id7">
<h3>ç‰¹æ®Šå˜é‡<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">$0</span><span class="w">      </span><span class="c1"># è„šæœ¬å</span>
<span class="nv">$1</span>-<span class="nv">$9</span><span class="w">   </span><span class="c1"># ç¬¬1-9ä¸ªå‚æ•°</span>
<span class="si">${</span><span class="nv">10</span><span class="si">}</span><span class="w">   </span><span class="c1"># ç¬¬10ä¸ªåŠä»¥ä¸Šå‚æ•°</span>
<span class="nv">$#</span><span class="w">      </span><span class="c1"># å‚æ•°ä¸ªæ•°</span>
<span class="nv">$@</span><span class="w">      </span><span class="c1"># æ‰€æœ‰å‚æ•°ï¼ˆåˆ†å¼€ï¼‰</span>
<span class="nv">$*</span><span class="w">      </span><span class="c1"># æ‰€æœ‰å‚æ•°ï¼ˆåˆå¹¶ï¼‰</span>
<span class="nv">$?</span><span class="w">      </span><span class="c1"># ä¸Šä¸€å‘½ä»¤é€€å‡ºçŠ¶æ€ï¼ˆ0=æˆåŠŸï¼‰</span>
<span class="nv">$$</span><span class="w">      </span><span class="c1"># å½“å‰Shellçš„PID</span>
<span class="nv">$!</span><span class="w">      </span><span class="c1"># æœ€åä¸€ä¸ªåå°è¿›ç¨‹çš„PID</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="c1">#!/bin/bash</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;è„šæœ¬å: </span><span class="nv">$0</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ç¬¬ä¸€ä¸ªå‚æ•°: </span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;å‚æ•°ä¸ªæ•°: </span><span class="nv">$#</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;æ‰€æœ‰å‚æ•°: </span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;é€€å‡ºçŠ¶æ€: </span><span class="nv">$?</span><span class="s2">&quot;</span>

<span class="c1"># æ‰§è¡Œï¼š./script.sh arg1 arg2</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>å˜é‡ä½œç”¨åŸŸ<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å±€éƒ¨å˜é‡ï¼ˆå½“å‰Shellï¼‰</span>
<span class="nv">name</span><span class="o">=</span><span class="s2">&quot;local&quot;</span>

<span class="c1"># ç¯å¢ƒå˜é‡ï¼ˆå­è¿›ç¨‹å¯è§ï¼‰</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/bin

<span class="c1"># å‡½æ•°å†…å±€éƒ¨å˜é‡</span>
<span class="k">function</span><span class="w"> </span>test<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">var</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="w">  </span><span class="c1"># ä»…å‡½æ•°å†…å¯è§</span>
<span class="w">    </span><span class="nv">global</span><span class="o">=</span><span class="s2">&quot;global&quot;</span><span class="w">    </span><span class="c1"># å…¨å±€</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>å‘½ä»¤æ›¿æ¢<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åå¼•å·ï¼ˆæ—§ï¼‰</span>
<span class="nv">result</span><span class="o">=</span><span class="sb">`</span>date<span class="sb">`</span>

<span class="c1"># $() æ¨è</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>date<span class="k">)</span>
<span class="nv">count</span><span class="o">=</span><span class="k">$(</span>ls<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="nv">today</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>+%Y-%m-%d<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Today is </span><span class="nv">$today</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="id10">
<h2>æ•°æ®ç±»å‹<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h2>
<section id="id11">
<h3>å­—ç¬¦ä¸²<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å•å¼•å·ï¼šåŸæ ·è¾“å‡º</span>
<span class="nv">str</span><span class="o">=</span><span class="s1">&#39;Hello $USER&#39;</span><span class="w">  </span><span class="c1"># è¾“å‡ºï¼šHello $USER</span>

<span class="c1"># åŒå¼•å·ï¼šè§£æå˜é‡</span>
<span class="nv">str</span><span class="o">=</span><span class="s2">&quot;Hello </span><span class="nv">$USER</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># è¾“å‡ºï¼šHello alice</span>

<span class="c1"># å­—ç¬¦ä¸²é•¿åº¦</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${#</span><span class="nv">str</span><span class="si">}</span>

<span class="c1"># å­—ç¬¦ä¸²æˆªå–</span>
<span class="nv">str</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">str</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">5</span><span class="si">}</span><span class="w">    </span><span class="c1"># Helloï¼ˆä»0å¼€å§‹ï¼Œé•¿åº¦5ï¼‰</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">str</span><span class="p">:</span><span class="nv">6</span><span class="si">}</span><span class="w">      </span><span class="c1"># Worldï¼ˆä»6åˆ°æœ«å°¾ï¼‰</span>

<span class="c1"># å­—ç¬¦ä¸²æ›¿æ¢</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">str</span><span class="p">/World/Shell</span><span class="si">}</span><span class="w">  </span><span class="c1"># æ›¿æ¢ç¬¬ä¸€ä¸ª</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">str</span><span class="p">//o/O</span><span class="si">}</span><span class="w">         </span><span class="c1"># æ›¿æ¢æ‰€æœ‰</span>

<span class="c1"># å­—ç¬¦ä¸²åˆ é™¤</span>
<span class="nv">file</span><span class="o">=</span><span class="s2">&quot;script.sh.bak&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">file</span><span class="p">%.bak</span><span class="si">}</span><span class="w">        </span><span class="c1"># script.shï¼ˆåˆ é™¤æœ€çŸ­åç¼€ï¼‰</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">file</span><span class="p">%.*</span><span class="si">}</span><span class="w">          </span><span class="c1"># script.shï¼ˆåˆ é™¤æœ€çŸ­.åç¼€ï¼‰</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">file</span><span class="p">%%.*</span><span class="si">}</span><span class="w">         </span><span class="c1"># scriptï¼ˆåˆ é™¤æœ€é•¿.åç¼€ï¼‰</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">file</span><span class="p">#script.</span><span class="si">}</span><span class="w">     </span><span class="c1"># sh.bakï¼ˆåˆ é™¤æœ€çŸ­å‰ç¼€ï¼‰</span>

<span class="c1"># å­—ç¬¦ä¸²æ‹¼æ¥</span>
<span class="nv">str1</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span>
<span class="nv">str2</span><span class="o">=</span><span class="s2">&quot;World&quot;</span>
<span class="nv">result</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$str1</span><span class="s2"> </span><span class="nv">$str2</span><span class="s2">&quot;</span>
<span class="nv">result</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">str1</span><span class="si">}${</span><span class="nv">str2</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>æ•°ç»„<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å®šä¹‰æ•°ç»„</span>
<span class="nv">arr</span><span class="o">=(</span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="o">)</span>
arr<span class="o">[</span><span class="m">0</span><span class="o">]=</span><span class="m">10</span>

<span class="c1"># è®¿é—®å…ƒç´ </span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[0]</span><span class="si">}</span><span class="w">     </span><span class="c1"># ç¬¬ä¸€ä¸ªå…ƒç´ </span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="w">     </span><span class="c1"># æ‰€æœ‰å…ƒç´ </span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="si">}</span><span class="w">     </span><span class="c1"># æ‰€æœ‰å…ƒç´ ï¼ˆåˆå¹¶ï¼‰</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="w">    </span><span class="c1"># æ•°ç»„é•¿åº¦</span>

<span class="c1"># åˆ‡ç‰‡</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]:</span><span class="nv">1</span><span class="p">:</span><span class="nv">3</span><span class="si">}</span><span class="w"> </span><span class="c1"># ä»ç´¢å¼•1å¼€å§‹ï¼Œ3ä¸ªå…ƒç´ </span>

<span class="c1"># æ·»åŠ å…ƒç´ </span>
<span class="nv">arr</span><span class="o">+=(</span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">8</span><span class="o">)</span>

<span class="c1"># éå†æ•°ç»„</span>
<span class="k">for</span><span class="w"> </span>item<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$item</span>
<span class="k">done</span>

<span class="c1"># å…³è”æ•°ç»„ï¼ˆBash 4+ï¼‰</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span>map
map<span class="o">[</span><span class="s2">&quot;name&quot;</span><span class="o">]=</span><span class="s2">&quot;Alice&quot;</span>
map<span class="o">[</span><span class="s2">&quot;age&quot;</span><span class="o">]=</span><span class="m">25</span>

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">map</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="p">!map[@]</span><span class="si">}</span><span class="w">    </span><span class="c1"># æ‰€æœ‰é”®</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">map</span><span class="p">[@]</span><span class="si">}</span><span class="w">     </span><span class="c1"># æ‰€æœ‰å€¼</span>
</pre></div>
</div>
</section>
</section>
<section id="id13">
<h2>è¿ç®—ç¬¦<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h2>
<section id="id14">
<h3>ç®—æœ¯è¿ç®—<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># letå‘½ä»¤</span>
<span class="nb">let</span><span class="w"> </span><span class="nv">a</span><span class="o">=</span><span class="m">5</span>+3
<span class="nb">let</span><span class="w"> </span><span class="s2">&quot;a = 5 + 3&quot;</span>

<span class="c1"># (()) æ¨è</span>
<span class="nv">a</span><span class="o">=</span><span class="k">$((</span><span class="m">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">3</span><span class="k">))</span>
<span class="o">((</span>a++<span class="o">))</span>
<span class="o">((</span><span class="nv">a</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="m">5</span><span class="o">))</span>

<span class="c1"># exprï¼ˆæ—§ï¼‰</span>
<span class="nv">a</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="m">5</span><span class="w"> </span>+<span class="w"> </span><span class="m">3</span><span class="sb">`</span>

<span class="c1"># è¿ç®—ç¬¦</span>
<span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">   </span><span class="c1"># åŠ </span>
<span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">   </span><span class="c1"># å‡</span>
<span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">   </span><span class="c1"># ä¹˜</span>
<span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">   </span><span class="c1"># é™¤</span>
<span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">   </span><span class="c1"># å–æ¨¡</span>
<span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">  </span><span class="c1"># å¹‚</span>

<span class="c1"># è‡ªå¢è‡ªå‡</span>
<span class="o">((</span>i++<span class="o">))</span>
<span class="o">((</span>i--<span class="o">))</span>
<span class="o">((</span>++i<span class="o">))</span>
<span class="o">((</span>--i<span class="o">))</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="nv">num</span><span class="o">=</span><span class="m">10</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$((</span><span class="nv">num</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">5</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 25</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3>æ¯”è¾ƒè¿ç®—<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ•´æ•°æ¯”è¾ƒ</span>
-eq<span class="w">   </span><span class="c1"># ç­‰äº</span>
-ne<span class="w">   </span><span class="c1"># ä¸ç­‰äº</span>
-gt<span class="w">   </span><span class="c1"># å¤§äº</span>
-ge<span class="w">   </span><span class="c1"># å¤§äºç­‰äº</span>
-lt<span class="w">   </span><span class="c1"># å°äº</span>
-le<span class="w">   </span><span class="c1"># å°äºç­‰äº</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-eq<span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;equal&quot;</span>
<span class="k">fi</span>

<span class="c1"># (()) æ”¯æŒ C é£æ ¼</span>
<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="nv">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>b<span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;equal&quot;</span>
<span class="k">fi</span>

<span class="c1"># å­—ç¬¦ä¸²æ¯”è¾ƒ</span>
<span class="o">=</span><span class="w">     </span><span class="c1"># ç­‰äºï¼ˆæˆ– ==ï¼‰</span>
!<span class="o">=</span><span class="w">    </span><span class="c1"># ä¸ç­‰äº</span>
-z<span class="w">    </span><span class="c1"># å­—ç¬¦ä¸²ä¸ºç©º</span>
-n<span class="w">    </span><span class="c1"># å­—ç¬¦ä¸²éç©º</span>
&lt;<span class="w">     </span><span class="c1"># å°äºï¼ˆéœ€è½¬ä¹‰ï¼‰</span>
&gt;<span class="w">     </span><span class="c1"># å¤§äºï¼ˆéœ€è½¬ä¹‰ï¼‰</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;equal&quot;</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;empty&quot;</span>
<span class="k">fi</span>

<span class="c1"># æ–‡ä»¶æµ‹è¯•</span>
-e<span class="w"> </span>file<span class="w">   </span><span class="c1"># æ–‡ä»¶å­˜åœ¨</span>
-f<span class="w"> </span>file<span class="w">   </span><span class="c1"># å¸¸è§„æ–‡ä»¶</span>
-d<span class="w"> </span>file<span class="w">   </span><span class="c1"># ç›®å½•</span>
-r<span class="w"> </span>file<span class="w">   </span><span class="c1"># å¯è¯»</span>
-w<span class="w"> </span>file<span class="w">   </span><span class="c1"># å¯å†™</span>
-x<span class="w"> </span>file<span class="w">   </span><span class="c1"># å¯æ‰§è¡Œ</span>
-s<span class="w"> </span>file<span class="w">   </span><span class="c1"># æ–‡ä»¶éç©º</span>
-L<span class="w"> </span>file<span class="w">   </span><span class="c1"># ç¬¦å·é“¾æ¥</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;file.txt&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;file exists&quot;</span>
<span class="k">fi</span>
</pre></div>
</div>
</section>
<section id="id16">
<h3>é€»è¾‘è¿ç®—<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># [ ] ä¸­</span>
-a<span class="w">    </span><span class="c1"># AND</span>
-o<span class="w">    </span><span class="c1"># OR</span>
!<span class="w">     </span><span class="c1"># NOT</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">$b</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;both positive&quot;</span>
<span class="k">fi</span>

<span class="c1"># [[ ]] ä¸­ï¼ˆæ¨èï¼‰</span>
<span class="o">&amp;&amp;</span><span class="w">    </span><span class="c1"># AND</span>
<span class="o">||</span><span class="w">    </span><span class="c1"># OR</span>
!<span class="w">     </span><span class="c1"># NOT</span>

<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">$b</span><span class="w"> </span>&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;both positive&quot;</span>
<span class="k">fi</span>

<span class="c1"># å‘½ä»¤çº§</span>
cmd1<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cmd2<span class="w">  </span><span class="c1"># cmd1æˆåŠŸæ‰æ‰§è¡Œcmd2</span>
cmd1<span class="w"> </span><span class="o">||</span><span class="w"> </span>cmd2<span class="w">  </span><span class="c1"># cmd1å¤±è´¥æ‰æ‰§è¡Œcmd2</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>file.txt<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>file.txt
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>file.txt<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>touch<span class="w"> </span>file.txt
</pre></div>
</div>
</section>
</section>
<section id="id17">
<h2>è¾“å…¥è¾“å‡º<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h2>
<section id="echo-vs-printf">
<h3>echo vs printf<a class="headerlink" href="#echo-vs-printf" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># echoï¼šç®€å•è¾“å‡º</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;no newline&quot;</span><span class="w">    </span><span class="c1"># ä¸æ¢è¡Œ</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;tab:\t newline:\n&quot;</span><span class="w">  </span><span class="c1"># è§£æè½¬ä¹‰</span>

<span class="c1"># printfï¼šæ ¼å¼åŒ–è¾“å‡ºï¼ˆæ¨èï¼‰</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;Name: %s, Age: %d\n&quot;</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="w"> </span><span class="m">25</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%10s %5d\n&quot;</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="w"> </span><span class="m">25</span><span class="w">  </span><span class="c1"># å³å¯¹é½</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%-10s %-5d\n&quot;</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="w"> </span><span class="m">25</span><span class="w">  </span><span class="c1"># å·¦å¯¹é½</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%.2f\n&quot;</span><span class="w"> </span><span class="m">3</span>.14159<span class="w">  </span><span class="c1"># ä¿ç•™2ä½å°æ•°</span>
</pre></div>
</div>
</section>
<section id="id18">
<h3>è¯»å–è¾“å…¥<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># readå‘½ä»¤</span>
<span class="nb">read</span><span class="w"> </span>name
<span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter name: &quot;</span><span class="w"> </span>name<span class="w">       </span><span class="c1"># æç¤ºç¬¦</span>
<span class="nb">read</span><span class="w"> </span>-s<span class="w"> </span>password<span class="w">                  </span><span class="c1"># éšè—è¾“å…¥</span>
<span class="nb">read</span><span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>name<span class="w">                    </span><span class="c1"># 5ç§’è¶…æ—¶</span>
<span class="nb">read</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>key<span class="w">                     </span><span class="c1"># è¯»1ä¸ªå­—ç¬¦</span>
<span class="nb">read</span><span class="w"> </span>-a<span class="w"> </span>arr<span class="w">                       </span><span class="c1"># è¯»å…¥æ•°ç»„</span>

<span class="c1"># è¯»å–æ–‡ä»¶</span>
<span class="k">while</span><span class="w"> </span><span class="nv">IFS</span><span class="o">=</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>file.txt

<span class="c1"># è¯»å–å¤šä¸ªå˜é‡</span>
<span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter name and age: &quot;</span><span class="w"> </span>name<span class="w"> </span>age
</pre></div>
</div>
</section>
<section id="id19">
<h3>é‡å®šå‘<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># è¾“å‡ºé‡å®šå‘</span>
cmd<span class="w"> </span>&gt;<span class="w"> </span>file<span class="w">      </span><span class="c1"># è¦†ç›–å†™å…¥</span>
cmd<span class="w"> </span>&gt;&gt;<span class="w"> </span>file<span class="w">     </span><span class="c1"># è¿½åŠ å†™å…¥</span>
cmd<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>error.log<span class="w">     </span><span class="c1"># é”™è¯¯è¾“å‡º</span>
cmd<span class="w"> </span>&gt;<span class="w"> </span>output.log<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w">  </span><span class="c1"># åˆå¹¶æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯</span>
cmd<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>all.log<span class="w">       </span><span class="c1"># åˆå¹¶ï¼ˆç®€å†™ï¼‰</span>

<span class="c1"># è¾“å…¥é‡å®šå‘</span>
cmd<span class="w"> </span>&lt;<span class="w"> </span>file<span class="w">      </span><span class="c1"># ä»æ–‡ä»¶è¯»å–</span>
cmd<span class="w"> </span><span class="s">&lt;&lt; EOF      # Here Document</span>
<span class="s">line1</span>
<span class="s">line2</span>
<span class="s">EOF</span>

cmd<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w">  </span><span class="c1"># Here String</span>

<span class="c1"># ç®¡é“</span>
cmd1<span class="w"> </span><span class="p">|</span><span class="w"> </span>cmd2<span class="w">     </span><span class="c1"># cmd1çš„è¾“å‡ºä½œä¸ºcmd2çš„è¾“å…¥</span>
ls<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;.sh&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l

<span class="c1"># /dev/nullï¼ˆé»‘æ´ï¼‰</span>
cmd<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w">      </span><span class="c1"># ä¸¢å¼ƒè¾“å‡º</span>
cmd<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null<span class="w">     </span><span class="c1"># ä¸¢å¼ƒé”™è¯¯</span>
cmd<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null<span class="w">     </span><span class="c1"># å…¨ä¸¢å¼ƒ</span>
</pre></div>
</div>
</section>
</section>
<section id="id20">
<h2>æµç¨‹æ§åˆ¶<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h2>
<section id="if">
<h3>ifè¯­å¥<a class="headerlink" href="#if" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åŸºæœ¬è¯­æ³•</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>condition<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>commands
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>condition<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>commands
<span class="k">else</span>
<span class="w">    </span>commands
<span class="k">fi</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;greater than 100&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">50</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;greater than 50&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;less than or equal 50&quot;</span>
<span class="k">fi</span>

<span class="c1"># [[ ]] å¢å¼ºï¼ˆæ”¯æŒæ­£åˆ™ã€é€šé…ç¬¦ï¼‰</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$str</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>+$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*.sh<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;shell script&quot;</span>
<span class="k">fi</span>

<span class="c1"># å¤šæ¡ä»¶</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>file.txt<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-r<span class="w"> </span>file.txt<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>cat<span class="w"> </span>file.txt
<span class="k">fi</span>
</pre></div>
</div>
</section>
<section id="case">
<h3>caseè¯­å¥<a class="headerlink" href="#case" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">case</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>pattern1<span class="o">)</span>
<span class="w">        </span>commands
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>pattern2<span class="p">|</span>pattern3<span class="o">)</span>
<span class="w">        </span>commands
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span>default<span class="w"> </span>commands
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="k">case</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>start<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting...&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>stop<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Stopping...&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>restart<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Restarting...&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> {start|stop|restart}&quot;</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># é€šé…ç¬¦</span>
<span class="k">case</span><span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*.sh<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Shell script&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.py<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Python script&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown type&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>
</pre></div>
</div>
</section>
<section id="for">
<h3>forå¾ªç¯<a class="headerlink" href="#for" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># éå†åˆ—è¡¨</span>
<span class="k">for</span><span class="w"> </span>item<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$item</span>
<span class="k">done</span>

<span class="c1"># éå†æ•°ç»„</span>
<span class="k">for</span><span class="w"> </span>item<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$item</span>
<span class="k">done</span>

<span class="c1"># éå†æ–‡ä»¶</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.sh<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$file</span>
<span class="k">done</span>

<span class="c1"># Cé£æ ¼</span>
<span class="k">for</span><span class="w"> </span><span class="o">((</span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>i&lt;<span class="m">10</span><span class="p">;</span><span class="w"> </span>i++<span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>

<span class="c1"># éå†å‘½ä»¤è¾“å‡º</span>
<span class="k">for</span><span class="w"> </span>user<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>cat<span class="w"> </span>users.txt<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$user</span>
<span class="k">done</span>

<span class="c1"># seqå‘½ä»¤</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>

<span class="c1"># Braceæ‰©å±•</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>

<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10..2<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w">  </span><span class="c1"># æ­¥é•¿2</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>
</pre></div>
</div>
</section>
<section id="while">
<h3>whileå¾ªç¯<a class="headerlink" href="#while" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åŸºæœ¬è¯­æ³•</span>
<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>condition<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>commands
<span class="k">done</span>

<span class="c1"># ç¤ºä¾‹ï¼šè®¡æ•°å™¨</span>
<span class="nv">count</span><span class="o">=</span><span class="m">1</span>
<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$count</span><span class="w"> </span>-le<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span>
<span class="w">    </span><span class="o">((</span>count++<span class="o">))</span>
<span class="k">done</span>

<span class="c1"># æ— é™å¾ªç¯</span>
<span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;infinite loop&quot;</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">1</span>
<span class="k">done</span>

<span class="c1"># è¯»å–æ–‡ä»¶</span>
<span class="k">while</span><span class="w"> </span><span class="nv">IFS</span><span class="o">=</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>file.txt
</pre></div>
</div>
</section>
<section id="until">
<h3>untilå¾ªç¯<a class="headerlink" href="#until" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ç›´åˆ°æ¡ä»¶ä¸ºçœŸ</span>
<span class="k">until</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>condition<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>commands
<span class="k">done</span>

<span class="c1"># ç¤ºä¾‹</span>
<span class="nv">count</span><span class="o">=</span><span class="m">1</span>
<span class="k">until</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$count</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span>
<span class="w">    </span><span class="o">((</span>count++<span class="o">))</span>
<span class="k">done</span>
</pre></div>
</div>
</section>
<section id="breakcontinue">
<h3>breakå’Œcontinue<a class="headerlink" href="#breakcontinue" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># breakï¼šè·³å‡ºå¾ªç¯</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="k">break</span>
<span class="w">    </span><span class="k">fi</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>

<span class="c1"># continueï¼šè·³è¿‡å½“å‰è¿­ä»£</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="k">continue</span>
<span class="w">    </span><span class="k">fi</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>
</pre></div>
</div>
</section>
</section>
<section id="id21">
<h2>å‡½æ•°<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h2>
<section id="id22">
<h3>å‡½æ•°å®šä¹‰<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ–¹å¼1</span>
function_name<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>commands
<span class="o">}</span>

<span class="c1"># æ–¹å¼2</span>
<span class="k">function</span><span class="w"> </span>function_name<span class="w"> </span><span class="o">{</span>
<span class="w">    </span>commands
<span class="o">}</span>

<span class="c1"># ç¤ºä¾‹</span>
greet<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, </span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="o">}</span>

greet<span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="w">  </span><span class="c1"># è°ƒç”¨</span>
</pre></div>
</div>
</section>
<section id="id23">
<h3>å‚æ•°å’Œè¿”å›å€¼<a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å‡½æ•°å‚æ•°</span>
add<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">a</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">b</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span>
<span class="o">}</span>

<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>add<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 8</span>

<span class="c1"># returnï¼ˆ0-255ï¼‰</span>
is_even<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">num</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="k">$((</span><span class="nv">num</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">2</span><span class="k">))</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="w">  </span><span class="c1"># æˆåŠŸ</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="c1"># å¤±è´¥</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="k">if</span><span class="w"> </span>is_even<span class="w"> </span><span class="m">4</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;even&quot;</span>
<span class="k">fi</span>

<span class="c1"># echoè¿”å›å­—ç¬¦ä¸²</span>
get_date<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>+%Y-%m-%d<span class="k">)</span>
<span class="o">}</span>

<span class="nv">today</span><span class="o">=</span><span class="k">$(</span>get_date<span class="k">)</span>
</pre></div>
</div>
</section>
<section id="id24">
<h3>å±€éƒ¨å˜é‡<a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">global_var</span><span class="o">=</span><span class="s2">&quot;global&quot;</span>

test_func<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">local_var</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="w">    </span><span class="c1"># å±€éƒ¨å˜é‡</span>
<span class="w">    </span><span class="nv">global_var</span><span class="o">=</span><span class="s2">&quot;modified&quot;</span><span class="w">      </span><span class="c1"># ä¿®æ”¹å…¨å±€</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$local_var</span><span class="s2">&quot;</span>
<span class="o">}</span>

test_func
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$global_var</span><span class="s2">&quot;</span><span class="w">   </span><span class="c1"># modified</span>
<span class="c1"># echo &quot;$local_var&quot;  # é”™è¯¯ï¼šæœªå®šä¹‰</span>
</pre></div>
</div>
</section>
</section>
<section id="id25">
<h2>è°ƒè¯•<a class="headerlink" href="#id25" title="Link to this heading">ïƒ</a></h2>
<section id="id26">
<h3>è°ƒè¯•é€‰é¡¹<a class="headerlink" href="#id26" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># -xï¼šæ‰“å°æ‰§è¡Œçš„å‘½ä»¤</span>
bash<span class="w"> </span>-x<span class="w"> </span>script.sh

<span class="c1"># è„šæœ¬å†…å¯ç”¨</span>
<span class="c1">#!/bin/bash</span>
<span class="nb">set</span><span class="w"> </span>-x<span class="w">        </span><span class="c1"># å¼€å¯</span>
commands
<span class="nb">set</span><span class="w"> </span>+x<span class="w">        </span><span class="c1"># å…³é—­</span>

<span class="c1"># -eï¼šé‡åˆ°é”™è¯¯ç«‹å³é€€å‡º</span>
<span class="nb">set</span><span class="w"> </span>-e

<span class="c1"># -uï¼šä½¿ç”¨æœªå®šä¹‰å˜é‡æ—¶æŠ¥é”™</span>
<span class="nb">set</span><span class="w"> </span>-u

<span class="c1"># ç»„åˆä½¿ç”¨</span>
<span class="nb">set</span><span class="w"> </span>-eux
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail<span class="w">  </span><span class="c1"># ç®¡é“ä¸­ä»»ä¸€å‘½ä»¤å¤±è´¥éƒ½é€€å‡º</span>
</pre></div>
</div>
</section>
<section id="id27">
<h3>å¸¸ç”¨è°ƒè¯•æŠ€å·§<a class="headerlink" href="#id27" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ£€æŸ¥è¯­æ³•</span>
bash<span class="w"> </span>-n<span class="w"> </span>script.sh

<span class="c1"># æ‰“å°è°ƒè¯•ä¿¡æ¯</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;DEBUG: var=</span><span class="nv">$var</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="c1"># æ¡ä»¶è°ƒè¯•</span>
<span class="nv">DEBUG</span><span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DEBUG</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Debug info&quot;</span>

<span class="c1"># trapæ•è·é”™è¯¯</span>
<span class="nb">trap</span><span class="w"> </span><span class="s1">&#39;echo &quot;Error at line $LINENO&quot;&#39;</span><span class="w"> </span>ERR
</pre></div>
</div>
</section>
</section>
<section id="id28">
<h2>æœ€ä½³å®è·µ<a class="headerlink" href="#id28" title="Link to this heading">ïƒ</a></h2>
<section id="id29">
<h3>Shebangå’Œé€‰é¡¹<a class="headerlink" href="#id29" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ä¸¥æ ¼æ¨¡å¼</span>
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail
<span class="c1"># -e: å‘½ä»¤å¤±è´¥ç«‹å³é€€å‡º</span>
<span class="c1"># -u: ä½¿ç”¨æœªå®šä¹‰å˜é‡æŠ¥é”™</span>
<span class="c1"># -o pipefail: ç®¡é“ä¸­ä»»ä¸€å¤±è´¥éƒ½å¤±è´¥</span>
</pre></div>
</div>
</section>
<section id="id30">
<h3>å˜é‡å‘½å<a class="headerlink" href="#id30" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å°å†™ï¼šå±€éƒ¨å˜é‡</span>
<span class="nv">local_var</span><span class="o">=</span><span class="s2">&quot;value&quot;</span>

<span class="c1"># å¤§å†™ï¼šç¯å¢ƒå˜é‡/å¸¸é‡</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/bin
<span class="nb">readonly</span><span class="w"> </span><span class="nv">MAX_COUNT</span><span class="o">=</span><span class="m">100</span>

<span class="c1"># å¼•å·ä¿æŠ¤</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span><span class="w">        </span><span class="c1"># æ¨è</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">var</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># æ˜ç¡®è¾¹ç•Œ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">var</span><span class="k">:-</span><span class="nv">default</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># é»˜è®¤å€¼</span>
</pre></div>
</div>
</section>
<section id="id31">
<h3>é”™è¯¯å¤„ç†<a class="headerlink" href="#id31" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="nb">command</span><span class="w"> </span>-v<span class="w"> </span>git<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;git not found&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="c1"># æ£€æŸ¥ä¸Šä¸€å‘½ä»¤çŠ¶æ€</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Command failed&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="c1"># æ›´ä¼˜é›…</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>some_command<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</pre></div>
</div>
</section>
<section id="id32">
<h3>ä»£ç ç»„ç»‡<a class="headerlink" href="#id32" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail

<span class="c1"># å¸¸é‡</span>
<span class="nb">readonly</span><span class="w"> </span><span class="nv">SCRIPT_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">readonly</span><span class="w"> </span><span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;/var/log/script.log&quot;</span>

<span class="c1"># å‡½æ•°</span>
log<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;[</span><span class="k">$(</span>date<span class="w"> </span>+<span class="s1">&#39;%Y-%m-%d %H:%M:%S&#39;</span><span class="k">)</span><span class="s2">] </span><span class="nv">$*</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOG_FILE</span><span class="s2">&quot;</span>
<span class="o">}</span>

cleanup<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>log<span class="w"> </span><span class="s2">&quot;Cleaning up...&quot;</span>
<span class="w">    </span><span class="c1"># æ¸…ç†æ“ä½œ</span>
<span class="o">}</span>

main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">trap</span><span class="w"> </span>cleanup<span class="w"> </span>EXIT<span class="w">  </span><span class="c1"># é€€å‡ºæ—¶æ¸…ç†</span>
<span class="w">    </span>
<span class="w">    </span>log<span class="w"> </span><span class="s2">&quot;Starting...&quot;</span>
<span class="w">    </span><span class="c1"># ä¸»é€»è¾‘</span>
<span class="o">}</span>

<span class="c1"># å…¥å£</span>
main<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p><strong>æ ¸å¿ƒï¼š</strong> Shellè„šæœ¬é‡åœ¨å®ç”¨ï¼ŒæŒæ¡åŸºç¡€è¯­æ³•å’Œæ–‡æœ¬å¤„ç†å·¥å…·æ˜¯å…³é”®ã€‚</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="é¡µè„š">
        <a href="README.html" class="btn btn-neutral float-left" title="ğŸ’» Shell å¼€å‘" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
        <a href="02-text-processing.html" class="btn btn-neutral float-right" title="02-æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ï¼šgrepã€sedã€awk" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; ç‰ˆæƒæ‰€æœ‰ 2025, Code Dojoã€‚</p>
  </div>

  åˆ©ç”¨ <a href="https://www.sphinx-doc.org/">Sphinx</a> æ„å»ºï¼Œä½¿ç”¨çš„ 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">ä¸»é¢˜</a>
    ç”± <a href="https://readthedocs.org">Read the Docs</a> å¼€å‘.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>