

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>02-CPP基础语法 &mdash; Backend Tutorial 1.0.0 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f07cb45e" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=34088549"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="03-位运算详解" href="03-bitwise.html" />
    <link rel="prev" title="01-编译运行环境搭建" href="01-environment-setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Backend Tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Backend Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">C++ 教程</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="README.html">C++ 后端开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="01-environment-setup.html">01-编译运行环境搭建</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">02-CPP基础语法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">数据类型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">整型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">浮点型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">其他类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">类型大小查询</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id6">变量和常量</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">变量声明</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">常量</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">作用域</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id10">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">算术运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">关系运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">逻辑运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">位运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">运算符优先级（高到低）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id16">控制结构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">条件语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">循环语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">跳转语句</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id20">函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id21">函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">参数传递</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lambda-c-11">Lambda表达式（C++11）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id23">数组</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id24">静态数组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25">数组操作</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id26">字符串</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#c">C风格字符串</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">C++字符串（推荐）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id28">指针和引用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id29">指针</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">引用</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">动态内存</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id32">结构体和联合体</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id33">结构体</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">联合体</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">枚举</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id36">类型转换</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id37">隐式转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">显式转换</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id39">预处理器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id40">宏定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id41">条件编译</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">预定义宏</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id43">命名空间</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id44">输入输出</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id45">标准输入输出</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">文件输入输出</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id47">常见陷阱</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id48">编码规范</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id49">命名规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id50">代码风格</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id51">最佳实践</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id52">性能优化技巧</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id53">避免不必要的拷贝</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="03-bitwise.html">03-位运算详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="04-oop.html">04-面向对象编程基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="05-stl.html">05-STL标准模板库</a></li>
<li class="toctree-l2"><a class="reference internal" href="06-memory.html">06-内存管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="07-exceptions.html">07-异常处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="08-concurrency.html">08-并发编程基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="09-networking.html">09-网络编程基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="10-performance.html">10-性能优化技术</a></li>
<li class="toctree-l2"><a class="reference internal" href="11-templates.html">11-模板编程</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java/index.html">Java 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodejs/index.html">Node.js 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/index.html">Golang 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/index.html">Shell 教程</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Backend Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">C++ 教程</a></li>
      <li class="breadcrumb-item active">02-CPP基础语法</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/cpp/02-basic-syntax.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="cpp">
<h1>02-CPP基础语法<a class="headerlink" href="#cpp" title="Link to this heading"></a></h1>
<section id="id1">
<h2>数据类型<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>C++ 是强类型语言，每个变量必须声明类型。类型决定了内存占用、取值范围和支持的操作。</p>
<section id="id2">
<h3>整型<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>整型用于存储整数。根据内存大小和是否支持负数选择合适的类型。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w">        </span><span class="c1">// 1字节, -128 ~ 127</span>
<span class="kt">short</span><span class="w">       </span><span class="c1">// 2字节, -32768 ~ 32767</span>
<span class="kt">int</span><span class="w">         </span><span class="c1">// 4字节, -2147483648 ~ 2147483647（常用）</span>
<span class="kt">long</span><span class="w">        </span><span class="c1">// 4/8字节（平台相关）</span>
<span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w">   </span><span class="c1">// 8字节（大整数）</span>
<span class="kt">unsigned</span><span class="w">    </span><span class="c1">// 无符号修饰符，范围翻倍但只能表示非负数</span>
</pre></div>
</div>
<p><strong>类型选择建议</strong>：优先使用 <code class="docutils literal notranslate"><span class="pre">int</span></code>，需要大范围时用 <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">long</span></code>，明确非负时用 <code class="docutils literal notranslate"><span class="pre">unsigned</span></code>。</p>
</section>
<section id="id3">
<h3>浮点型<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>浮点型用于存储小数。精度和内存成正比。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="w">       </span><span class="c1">// 4字节, 7位精度（节省内存）</span>
<span class="kt">double</span><span class="w">      </span><span class="c1">// 8字节, 15位精度（默认选择）</span>
<span class="kt">long</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="c1">// 更高精度（科学计算）</span>
</pre></div>
</div>
<p><strong>注意</strong>：浮点数存在精度误差，避免用 <code class="docutils literal notranslate"><span class="pre">==</span></code> 比较，改用误差范围判断。</p>
</section>
<section id="id4">
<h3>其他类型<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w">        </span><span class="c1">// true/false，逻辑值</span>
<span class="kt">char</span><span class="w">        </span><span class="c1">// 单字符，ASCII 编码</span>
<span class="kt">void</span><span class="w">        </span><span class="c1">// 无类型，用于函数返回值</span>
</pre></div>
</div>
</section>
<section id="id5">
<h3>类型大小查询<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">sizeof</span></code> 运算符返回类型或变量占用的字节数，编译期计算。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w">      </span><span class="c1">// 通常为 4</span>
<span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="w">   </span><span class="c1">// 通常为 8</span>
<span class="k">sizeof</span><span class="p">(</span><span class="n">variable</span><span class="p">)</span><span class="w"> </span><span class="c1">// 变量占用的字节数</span>
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h2>变量和常量<a class="headerlink" href="#id6" title="Link to this heading"></a></h2>
<section id="id7">
<h3>变量声明<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<p>变量是存储数据的命名内存空间。声明变量时应初始化，避免未定义行为。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w">           </span><span class="c1">// 声明并初始化</span>
<span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w">             </span><span class="c1">// 仅声明（值未定义，危险）</span>
<span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">            </span><span class="c1">// 自动类型推导（C++11）</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">{</span><span class="mi">5</span><span class="p">};</span><span class="w">              </span><span class="c1">// 列表初始化（推荐，防止窄化转换）</span>
</pre></div>
</div>
<p><strong>命名规范</strong>：使用有意义的名称（<code class="docutils literal notranslate"><span class="pre">studentAge</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">a</span></code>），驼峰命名法，避免关键字。</p>
</section>
<section id="id8">
<h3>常量<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<p>常量的值不可修改，编译器会强制检查。使用常量可提高代码可读性和安全性。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">    </span><span class="c1">// 运行时常量，可用变量初始化</span>
<span class="k">constexpr</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">SIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="c1">// 编译时常量，必须编译期可计算</span>
<span class="cp">#define PI 3.14159      </span><span class="c1">// 宏常量（不推荐，无类型检查）</span>
</pre></div>
</div>
<p><strong>最佳实践</strong>：优先使用 <code class="docutils literal notranslate"><span class="pre">constexpr</span></code>，其次 <code class="docutils literal notranslate"><span class="pre">const</span></code>，避免 <code class="docutils literal notranslate"><span class="pre">#define</span></code>。</p>
</section>
<section id="id9">
<h3>作用域<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<p>作用域决定变量的可见范围和生命周期。内层作用域可访问外层变量，但反之不行。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">         </span><span class="c1">// 全局作用域，程序结束时销毁</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">      </span><span class="c1">// 局部作用域，函数结束时销毁</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">  </span><span class="c1">// 块作用域，出块时销毁</span>
<span class="w">        </span><span class="c1">// 可访问 global, local, block</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// 可访问 global, local，但不可访问 block</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>原则</strong>：尽量缩小变量作用域，减少命名冲突和意外修改。</p>
</section>
</section>
<section id="id10">
<h2>运算符<a class="headerlink" href="#id10" title="Link to this heading"></a></h2>
<p>运算符是执行特定操作的符号。掌握运算符优先级和结合性是编写正确表达式的基础。</p>
<section id="id11">
<h3>算术运算符<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<p>基本数学运算。注意整数除法会截断小数部分。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="w">  </span><span class="o">-</span><span class="w">  </span><span class="o">*</span><span class="w">  </span><span class="o">/</span><span class="w">  </span><span class="o">%</span><span class="w">          </span><span class="c1">// 加减乘除取模（%仅用于整数）</span>
<span class="o">++</span><span class="w">  </span><span class="o">--</span><span class="w">                 </span><span class="c1">// 自增自减（前置：先改后用，后置：先用后改）</span>
<span class="o">+=</span><span class="w">  </span><span class="o">-=</span><span class="w">  </span><span class="o">*=</span><span class="w">  </span><span class="o">/=</span><span class="w">  </span><span class="o">%=</span><span class="w">     </span><span class="c1">// 复合赋值（x += 5 等价于 x = x + 5）</span>
</pre></div>
</div>
<p><strong>示例</strong>：<code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">/</span> <span class="pre">2</span></code> 结果为 <code class="docutils literal notranslate"><span class="pre">2</span></code>（整数除法），<code class="docutils literal notranslate"><span class="pre">5.0</span> <span class="pre">/</span> <span class="pre">2</span></code> 结果为 <code class="docutils literal notranslate"><span class="pre">2.5</span></code>（浮点除法）。</p>
</section>
<section id="id12">
<h3>关系运算符<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<p>比较运算，返回布尔值。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">==</span><span class="w">  </span><span class="o">!=</span><span class="w">  </span><span class="o">&gt;</span><span class="w">  </span><span class="o">&lt;</span><span class="w">  </span><span class="o">&gt;=</span><span class="w">  </span><span class="o">&lt;=</span><span class="w">   </span><span class="c1">// 相等、不等、大于、小于、大于等于、小于等于</span>
</pre></div>
</div>
<p><strong>注意</strong>：赋值是 <code class="docutils literal notranslate"><span class="pre">=</span></code>，比较是 <code class="docutils literal notranslate"><span class="pre">==</span></code>，初学者易混淆。</p>
</section>
<section id="id13">
<h3>逻辑运算符<a class="headerlink" href="#id13" title="Link to this heading"></a></h3>
<p>组合条件判断，支持短路求值。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;&amp;</span><span class="w">  </span><span class="o">||</span><span class="w">  </span><span class="o">!</span><span class="w">              </span><span class="c1">// 与（都为真）、或（至少一个为真）、非（取反）</span>
</pre></div>
</div>
<p><strong>短路求值</strong>：<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&amp;&amp;</span> <span class="pre">b</span></code> 中若 <code class="docutils literal notranslate"><span class="pre">a</span></code> 为假则不计算 <code class="docutils literal notranslate"><span class="pre">b</span></code>；<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">||</span> <span class="pre">b</span></code> 中若 <code class="docutils literal notranslate"><span class="pre">a</span></code> 为真则不计算 <code class="docutils literal notranslate"><span class="pre">b</span></code>。</p>
</section>
<section id="id14">
<h3>位运算符<a class="headerlink" href="#id14" title="Link to this heading"></a></h3>
<p>直接操作二进制位，常用于底层编程、标志位管理和性能优化。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="o">^</span><span class="w">   </span><span class="o">~</span><span class="w">          </span><span class="c1">// 按位与、或、异或、取反</span>
<span class="o">&lt;&lt;</span><span class="w">  </span><span class="o">&gt;&gt;</span><span class="w">                 </span><span class="c1">// 左移（乘2^n）、右移（除2^n）</span>
</pre></div>
</div>
<p><strong>应用</strong>：<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&amp;</span> <span class="pre">1</span></code> 判断奇偶，<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;&lt;</span> <span class="pre">1</span></code> 快速乘2，<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">|</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n)</span></code> 设置第n位。</p>
</section>
<section id="id15">
<h3>运算符优先级（高到低）<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<p>优先级决定运算顺序，不确定时用括号明确。</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">()</span></code> - 括号</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!</span>&#160; <span class="pre">~</span>&#160; <span class="pre">++</span>&#160; <span class="pre">--</span></code> - 一元运算符</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span>&#160; <span class="pre">/</span>&#160; <span class="pre">%</span></code> - 乘除取模</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span>&#160; <span class="pre">-</span></code> - 加减</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span>&#160; <span class="pre">&gt;&gt;</span></code> - 移位</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span>&#160; <span class="pre">&lt;=</span>&#160; <span class="pre">&gt;</span>&#160; <span class="pre">&gt;=</span></code> - 关系</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span>&#160; <span class="pre">!=</span></code> - 相等</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code> - 按位与</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^</span></code> - 按位异或</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">|</span></code> - 按位或</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> - 逻辑与</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">||</span></code> - 逻辑或</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span>&#160; <span class="pre">+=</span>&#160; <span class="pre">-=</span></code> - 赋值</p></li>
</ol>
<p><strong>建议</strong>：复杂表达式加括号，提高可读性。</p>
</section>
</section>
<section id="id16">
<h2>控制结构<a class="headerlink" href="#id16" title="Link to this heading"></a></h2>
<p>控制结构决定程序执行流程。合理使用可提高代码可读性和效率。</p>
<section id="id17">
<h3>条件语句<a class="headerlink" href="#id17" title="Link to this heading"></a></h3>
<p>根据条件执行不同代码分支。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// if-else：基本条件判断</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// condition为真时执行</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// condition为假且condition2为真时执行</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 以上都为假时执行</span>
<span class="p">}</span>

<span class="c1">// switch：多分支选择（值必须是整型或枚举）</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="w">        </span><span class="c1">// value == 1</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span><span class="w">      </span><span class="c1">// 必须break，否则继续执行下一case</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span>
<span class="w">        </span><span class="c1">// value == 2</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span>
<span class="w">        </span><span class="c1">// 其他情况</span>
<span class="p">}</span>

<span class="c1">// 三元运算符：简洁的条件表达式</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">value1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">value2</span><span class="p">;</span><span class="w">  </span><span class="c1">// condition真取value1，假取value2</span>
</pre></div>
</div>
<p><strong>技巧</strong>：<code class="docutils literal notranslate"><span class="pre">switch</span></code> 比多个 <code class="docutils literal notranslate"><span class="pre">if-else</span></code> 更高效；三元运算符适合简单赋值。</p>
</section>
<section id="id18">
<h3>循环语句<a class="headerlink" href="#id18" title="Link to this heading"></a></h3>
<p>重复执行代码块，直到条件不满足。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// for循环：次数确定时使用</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 初始化; 条件; 更新</span>
<span class="w">    </span><span class="c1">// 循环体</span>
<span class="p">}</span>

<span class="c1">// while循环：次数不确定时使用</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 先判断条件，再执行</span>
<span class="p">}</span>

<span class="c1">// do-while循环：至少执行一次</span>
<span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 先执行，再判断条件</span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">);</span>

<span class="c1">// 范围for（C++11）：遍历容器</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">container</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// auto自动推导类型，&amp;避免拷贝</span>
<span class="w">    </span><span class="c1">// 处理item</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>选择</strong>：已知次数用 <code class="docutils literal notranslate"><span class="pre">for</span></code>，未知次数用 <code class="docutils literal notranslate"><span class="pre">while</span></code>，需要先执行用 <code class="docutils literal notranslate"><span class="pre">do-while</span></code>。</p>
</section>
<section id="id19">
<h3>跳转语句<a class="headerlink" href="#id19" title="Link to this heading"></a></h3>
<p>改变正常的顺序执行流程。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">break</span><span class="p">;</span><span class="w">      </span><span class="c1">// 跳出当前循环或switch</span>
<span class="k">continue</span><span class="p">;</span><span class="w">   </span><span class="c1">// 跳过本次循环剩余部分，进入下次迭代</span>
<span class="k">return</span><span class="p">;</span><span class="w">     </span><span class="c1">// 结束函数并返回值</span>
<span class="k">goto</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w"> </span><span class="c1">// 跳转到标签（破坏结构化，强烈不推荐）</span>
</pre></div>
</div>
<p><strong>最佳实践</strong>：能用 <code class="docutils literal notranslate"><span class="pre">break/continue</span></code> 就不用 <code class="docutils literal notranslate"><span class="pre">goto</span></code>；多层循环跳出可用标志变量。</p>
</section>
</section>
<section id="id20">
<h2>函数<a class="headerlink" href="#id20" title="Link to this heading"></a></h2>
<p>函数是可重用的代码块，封装特定功能。良好的函数设计可提高代码复用性和可维护性。</p>
<section id="id21">
<h3>函数定义<a class="headerlink" href="#id21" title="Link to this heading"></a></h3>
<p>函数由返回类型、名称、参数列表和函数体组成。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 声明（告诉编译器函数存在）</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>

<span class="c1">// 定义（实现函数功能）</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 内联函数：建议编译器在调用处展开，减少函数调用开销</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">  </span><span class="c1">// 适合短小、频繁调用的函数</span>
<span class="p">}</span>

<span class="c1">// 默认参数：调用时可省略</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">  </span><span class="c1">// 默认十进制</span>
<span class="n">print</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w">      </span><span class="c1">// 使用默认参数</span>
<span class="n">print</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w">  </span><span class="c1">// 使用十六进制</span>

<span class="c1">// 函数重载：同名函数，不同参数</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">  </span><span class="c1">// 根据参数类型选择</span>
</pre></div>
</div>
<p><strong>注意</strong>：默认参数只能在声明中指定，且从右往左连续。</p>
</section>
<section id="id22">
<h3>参数传递<a class="headerlink" href="#id22" title="Link to this heading"></a></h3>
<p>不同传递方式影响性能和语义。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 值传递：复制参数，函数内修改不影响原变量</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">func1</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w">  </span><span class="c1">// 小对象适用</span>

<span class="c1">// 引用传递：直接操作原变量，无拷贝开销</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">func2</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w">  </span><span class="c1">// x的修改会影响实参</span>

<span class="c1">// 指针传递：传递地址，可传NULL表示可选</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">func3</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w">  </span><span class="c1">// 需判空：if (x) {...}</span>

<span class="c1">// const引用：只读访问，避免拷贝（推荐）</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">func4</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w">  </span><span class="c1">// 大对象传参的最佳选择</span>
</pre></div>
</div>
<p><strong>选择建议</strong>：小对象（如int）值传递，大对象（如string）const引用，需修改用非const引用。</p>
</section>
<section id="lambda-c-11">
<h3>Lambda表达式（C++11）<a class="headerlink" href="#lambda-c-11" title="Link to this heading"></a></h3>
<p>匿名函数，常用于算法和回调。语法：<code class="docutils literal notranslate"><span class="pre">[捕获]</span> <span class="pre">(参数)</span> <span class="pre">{</span> <span class="pre">函数体</span> <span class="pre">}</span></code></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 基本Lambda</span>
<span class="k">auto</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// 7</span>

<span class="c1">// 捕获外部变量</span>
<span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="k">auto</span><span class="w"> </span><span class="n">lambda1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">](</span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"> </span><span class="p">};</span><span class="w">     </span><span class="c1">// 值捕获（只读）</span>
<span class="k">auto</span><span class="w"> </span><span class="n">lambda2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">x</span><span class="p">](</span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"> </span><span class="p">};</span><span class="w">          </span><span class="c1">// 引用捕获（可修改）</span>
<span class="k">auto</span><span class="w"> </span><span class="n">lambda3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"> </span><span class="p">};</span><span class="w">     </span><span class="c1">// 捕获所有（值）</span>
<span class="k">auto</span><span class="w"> </span><span class="n">lambda4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"> </span><span class="p">};</span><span class="w">           </span><span class="c1">// 捕获所有（引用）</span>
</pre></div>
</div>
<p><strong>应用</strong>：<code class="docutils literal notranslate"><span class="pre">std::sort(v.begin(),</span> <span class="pre">v.end(),</span> <span class="pre">[](int</span> <span class="pre">a,</span> <span class="pre">int</span> <span class="pre">b)</span> <span class="pre">{</span> <span class="pre">return</span> <span class="pre">a</span> <span class="pre">&gt;</span> <span class="pre">b;</span> <span class="pre">});</span></code></p>
</section>
</section>
<section id="id23">
<h2>数组<a class="headerlink" href="#id23" title="Link to this heading"></a></h2>
<p>数组是固定大小的连续内存块，存储相同类型的元素。索引从0开始。</p>
<section id="id24">
<h3>静态数组<a class="headerlink" href="#id24" title="Link to this heading"></a></h3>
<p>编译期确定大小，分配在栈上，访问快但大小固定。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">};</span><span class="w">   </span><span class="c1">// 完整初始化</span>
<span class="kt">int</span><span class="w"> </span><span class="n">arr2</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span><span class="w">          </span><span class="c1">// 自动推导大小为3</span>
<span class="kt">int</span><span class="w"> </span><span class="n">arr3</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w">                </span><span class="c1">// 全部初始化为0</span>
<span class="kt">int</span><span class="w"> </span><span class="n">arr4</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span><span class="w">            </span><span class="c1">// {1, 2, 0, 0, 0}，未指定的元素为0</span>

<span class="c1">// 多维数组：本质是数组的数组</span>
<span class="kt">int</span><span class="w"> </span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span><span class="w">                </span><span class="c1">// 3行4列，matrix[i][j]访问</span>
<span class="kt">int</span><span class="w"> </span><span class="n">cube</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span><span class="w">               </span><span class="c1">// 三维数组</span>
</pre></div>
</div>
<p><strong>注意</strong>：C++不检查数组越界，<code class="docutils literal notranslate"><span class="pre">arr[100]</span></code> 可能导致段错误或未定义行为。</p>
</section>
<section id="id25">
<h3>数组操作<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">                     </span><span class="c1">// 访问/修改第0个元素</span>
<span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w"> </span><span class="c1">// 计算元素个数</span>

<span class="c1">// 遍历数组</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// C++11范围for（更简洁）</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">arr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>限制</strong>：数组传参会退化为指针，丢失大小信息。推荐使用 <code class="docutils literal notranslate"><span class="pre">std::array</span></code>（C++11）或 <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>。</p>
</section>
</section>
<section id="id26">
<h2>字符串<a class="headerlink" href="#id26" title="Link to this heading"></a></h2>
<p>C++提供两种字符串：C风格（字符数组）和C++风格（string类），推荐使用后者。</p>
<section id="c">
<h3>C风格字符串<a class="headerlink" href="#c" title="Link to this heading"></a></h3>
<p>以空字符 <code class="docutils literal notranslate"><span class="pre">'\0'</span></code> 结尾的字符数组，操作需小心缓冲区溢出。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="n">str</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span><span class="w">            </span><span class="c1">// 自动添加&#39;\0&#39;，实际占6字节</span>
<span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;World&quot;</span><span class="p">;</span><span class="w">             </span><span class="c1">// 字符串字面量，不可修改</span>

<span class="c1">// 常用函数（#include &lt;cstring&gt;）</span>
<span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">);</span><span class="w">                     </span><span class="c1">// 长度（不含&#39;\0&#39;）</span>
<span class="n">strcpy</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span><span class="w">               </span><span class="c1">// 复制（需确保dest足够大）</span>
<span class="n">strcat</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span><span class="w">               </span><span class="c1">// 连接（需确保dest足够大）</span>
<span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span><span class="w"> </span><span class="n">str2</span><span class="p">);</span><span class="w">              </span><span class="c1">// 比较（0相等，&lt;0小于，&gt;0大于）</span>
</pre></div>
</div>
<p><strong>风险</strong>：不检查长度，易溢出。现代C++避免使用。</p>
</section>
<section id="id27">
<h3>C++字符串（推荐）<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">std::string</span></code> 类自动管理内存，提供丰富操作，安全便捷。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>

<span class="n">string</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span>
<span class="n">string</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; World&quot;</span><span class="p">;</span><span class="w">       </span><span class="c1">// 连接（运算符重载）</span>
<span class="n">s1</span><span class="p">.</span><span class="n">length</span><span class="p">();</span><span class="w">                     </span><span class="c1">// 长度（size()等价）</span>
<span class="n">s1</span><span class="p">.</span><span class="n">empty</span><span class="p">();</span><span class="w">                      </span><span class="c1">// 是否为空</span>
<span class="n">s1</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">                 </span><span class="c1">// 提取子串[0,5)</span>
<span class="n">s1</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">&quot;llo&quot;</span><span class="p">);</span><span class="w">                  </span><span class="c1">// 查找位置（未找到返回string::npos）</span>
<span class="n">s1</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;He&quot;</span><span class="p">);</span><span class="w">          </span><span class="c1">// 替换[0,2)为&quot;He&quot;</span>
<span class="n">s1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;h&#39;</span><span class="p">;</span><span class="w">                     </span><span class="c1">// 索引访问</span>
<span class="n">s1</span><span class="p">.</span><span class="n">c_str</span><span class="p">();</span><span class="w">                      </span><span class="c1">// 转C风格字符串</span>
</pre></div>
</div>
<p><strong>优势</strong>：自动扩容、安全、支持运算符、STL兼容。</p>
</section>
</section>
<section id="id28">
<h2>指针和引用<a class="headerlink" href="#id28" title="Link to this heading"></a></h2>
<p>指针和引用是C++中操作内存地址的机制，是C++强大但也易出错的特性。</p>
<section id="id29">
<h3>指针<a class="headerlink" href="#id29" title="Link to this heading"></a></h3>
<p>指针存储变量的内存地址，通过地址间接访问变量。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">;</span><span class="w">               </span><span class="c1">// &amp;取地址运算符</span>
<span class="kt">int</span><span class="w"> </span><span class="n">deref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">;</span><span class="w">                </span><span class="c1">// *解引用运算符，获取指针指向的值</span>

<span class="c1">// 空指针：不指向任何对象</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span><span class="w">                </span><span class="c1">// C++11推荐，类型安全</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w">                  </span><span class="c1">// 传统方式，实际是0</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                     </span><span class="c1">// 更古老的方式</span>

<span class="c1">// 指针运算：适用于数组</span>
<span class="kt">int</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w">                    </span><span class="c1">// 数组名自动转换为指向首元素的指针</span>
<span class="n">p</span><span class="o">++</span><span class="p">;</span><span class="w">                             </span><span class="c1">// 移动到下一个元素（+sizeof(int)字节）</span>
<span class="n">p</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">                          </span><span class="c1">// 跳过2个元素</span>
<span class="kt">int</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w">              </span><span class="c1">// 指针差=元素个数</span>
</pre></div>
</div>
<p><strong>危险</strong>：野指针（未初始化）、悬空指针（对象已销毁）、内存泄漏（忘记释放）。</p>
</section>
<section id="id30">
<h3>引用<a class="headerlink" href="#id30" title="Link to this heading"></a></h3>
<p>引用是变量的别名，必须初始化且不可重新绑定，比指针安全。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w">                </span><span class="c1">// 引用必须初始化，之后ref就是value的别名</span>
<span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">                       </span><span class="c1">// 修改ref等同于修改value</span>

<span class="c1">// const引用：只读引用，常用于函数参数</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w">         </span><span class="c1">// 不能通过cref修改value</span>
<span class="n">cref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="p">;</span><span class="w">                      </span><span class="c1">// 错误！const引用不可修改</span>
</pre></div>
</div>
<p><strong>区别</strong>：指针可空可重新赋值，引用非空不可重新绑定；引用更安全，指针更灵活。</p>
</section>
<section id="id31">
<h3>动态内存<a class="headerlink" href="#id31" title="Link to this heading"></a></h3>
<p>运行时分配内存，用于不确定大小或需要长生命周期的数据。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 分配</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w">            </span><span class="c1">// 分配单个int并初始化为42</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span><span class="w">          </span><span class="c1">// 分配10个int的数组</span>

<span class="c1">// 释放（必须与分配配对）</span>
<span class="k">delete</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w">                        </span><span class="c1">// 释放单个对象</span>
<span class="k">delete</span><span class="p">[]</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w">                    </span><span class="c1">// 释放数组（必须用delete[]）</span>

<span class="c1">// 智能指针（C++11，强烈推荐）：自动管理内存，避免泄漏</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;memory&gt;</span>
<span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">up</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span><span class="w">     </span><span class="c1">// 独占所有权</span>
<span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">make_shared</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w">  </span><span class="c1">// 共享所有权（引用计数）</span>
<span class="n">weak_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sp</span><span class="p">;</span><span class="w">               </span><span class="c1">// 弱引用，不增加引用计数</span>
</pre></div>
</div>
<p><strong>原则</strong>：优先使用智能指针，避免手动 <code class="docutils literal notranslate"><span class="pre">new/delete</span></code>；RAII（资源获取即初始化）模式。</p>
</section>
</section>
<section id="id32">
<h2>结构体和联合体<a class="headerlink" href="#id32" title="Link to this heading"></a></h2>
<section id="id33">
<h3>结构体<a class="headerlink" href="#id33" title="Link to this heading"></a></h3>
<p>结构体将不同类型的数据组合成一个自定义类型，是面向对象的基础。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">      </span><span class="c1">// 成员变量</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">Point</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">};</span><span class="w">  </span><span class="c1">// 初始化</span>
<span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">            </span><span class="c1">// 访问成员</span>
<span class="n">Point</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w">        </span><span class="c1">// 结构体可直接赋值（浅拷贝）</span>
</pre></div>
</div>
<p><strong>用途</strong>：表示复合数据，如坐标、日期、学生信息等。C++中 <code class="docutils literal notranslate"><span class="pre">struct</span></code> 和 <code class="docutils literal notranslate"><span class="pre">class</span></code> 几乎相同，仅默认访问权限不同。</p>
</section>
<section id="id34">
<h3>联合体<a class="headerlink" href="#id34" title="Link to this heading"></a></h3>
<p>联合体的所有成员共享同一块内存，同一时刻只能使用一个成员，节省空间。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">union</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">      </span><span class="c1">// 所有成员共享内存</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w">    </span><span class="c1">// 修改一个会影响其他</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">Data</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="n">d</span><span class="p">.</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">       </span><span class="c1">// 使用int成员</span>
<span class="n">d</span><span class="p">.</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span><span class="w">     </span><span class="c1">// 现在int成员的值无效</span>
</pre></div>
</div>
<p><strong>注意</strong>：联合体大小等于最大成员的大小。常用于类型转换或节省内存。</p>
</section>
<section id="id35">
<h3>枚举<a class="headerlink" href="#id35" title="Link to this heading"></a></h3>
<p>枚举定义一组命名的整数常量，提高代码可读性。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">Color</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">RED</span><span class="p">,</span><span class="w"> </span><span class="n">GREEN</span><span class="p">,</span><span class="w"> </span><span class="n">BLUE</span><span class="w"> </span><span class="p">};</span><span class="w">  </span><span class="c1">// 默认值：0, 1, 2</span>
<span class="n">Color</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w">                      </span><span class="c1">// 可隐式转换为int</span>

<span class="c1">// 强类型枚举（C++11，推荐）：类型安全，不可隐式转换</span>
<span class="k">enum</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Status</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="n">PENDING</span><span class="w"> </span><span class="p">};</span>
<span class="n">Status</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Status</span><span class="o">::</span><span class="n">OK</span><span class="p">;</span><span class="w">            </span><span class="c1">// 必须加作用域</span>
<span class="c1">// int x = s;                     // 错误！不可隐式转换</span>
<span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">     </span><span class="c1">// 必须显式转换</span>
</pre></div>
</div>
<p><strong>优势</strong>：增强可读性，避免魔法数字；强类型枚举防止命名冲突和隐式转换。</p>
</section>
</section>
<section id="id36">
<h2>类型转换<a class="headerlink" href="#id36" title="Link to this heading"></a></h2>
<p>类型转换将一种类型的值转换为另一种类型。C++提供隐式和显式两种方式。</p>
<section id="id37">
<h3>隐式转换<a class="headerlink" href="#id37" title="Link to this heading"></a></h3>
<p>编译器自动执行的转换，通常是安全的（小转大、整数转浮点）。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">                    </span><span class="c1">// int自动转double，无精度损失</span>
<span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w">                       </span><span class="c1">// char转int，值为ASCII码</span>
</pre></div>
</div>
<p><strong>风险</strong>：大转小（如 <code class="docutils literal notranslate"><span class="pre">int</span></code> 转 <code class="docutils literal notranslate"><span class="pre">char</span></code>）可能丢失数据，编译器可能警告。</p>
</section>
<section id="id38">
<h3>显式转换<a class="headerlink" href="#id38" title="Link to this heading"></a></h3>
<p>程序员明确指定的转换，用于不安全或非标准的转换。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// C风格（不推荐，无类型检查）</span>
<span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="mf">3.14</span><span class="p">;</span><span class="w">               </span><span class="c1">// 截断为3</span>
<span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">i</span><span class="p">;</span><span class="w">             </span><span class="c1">// 危险的类型双关</span>

<span class="c1">// C++风格（推荐，明确意图，编译器检查）</span>
<span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">3.14</span><span class="p">);</span><span class="w">          </span><span class="c1">// 标准类型转换，编译期检查</span>
<span class="k">const_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&amp;&gt;</span><span class="p">(</span><span class="n">constVar</span><span class="p">);</span><span class="w">      </span><span class="c1">// 移除const属性（谨慎使用）</span>
<span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">Derived</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">basePtr</span><span class="p">);</span><span class="w"> </span><span class="c1">// 运行时多态类型转换（需RTTI）</span>
<span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">*&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">f</span><span class="p">);</span><span class="w">      </span><span class="c1">// 重新解释位模式（底层操作）</span>
</pre></div>
</div>
<p><strong>选择</strong>：优先 <code class="docutils literal notranslate"><span class="pre">static_cast</span></code>，需要运行时检查用 <code class="docutils literal notranslate"><span class="pre">dynamic_cast</span></code>，避免 <code class="docutils literal notranslate"><span class="pre">reinterpret_cast</span></code>。</p>
</section>
</section>
<section id="id39">
<h2>预处理器<a class="headerlink" href="#id39" title="Link to this heading"></a></h2>
<p>预处理器在编译前处理源代码，进行文本替换和条件编译。</p>
<section id="id40">
<h3>宏定义<a class="headerlink" href="#id40" title="Link to this heading"></a></h3>
<p>宏是文本替换，不进行类型检查，现代C++推荐用 <code class="docutils literal notranslate"><span class="pre">const</span></code> 和 <code class="docutils literal notranslate"><span class="pre">inline</span></code> 函数代替。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PI 3.14159               </span><span class="c1">// 常量宏（推荐用const）</span>
<span class="cp">#define MAX(a, b) ((a) &gt; (b) ? (a) : (b))  </span><span class="c1">// 函数宏（推荐用inline或模板）</span>
<span class="cp">#define SQUARE(x) ((x) * (x))    </span><span class="c1">// 注意加括号，防止优先级问题</span>
</pre></div>
</div>
<p><strong>陷阱</strong>：<code class="docutils literal notranslate"><span class="pre">SQUARE(x+1)</span></code> 展开为 <code class="docutils literal notranslate"><span class="pre">((x+1)</span> <span class="pre">*</span> <span class="pre">(x+1))</span></code>，可能导致副作用重复计算。</p>
</section>
<section id="id41">
<h3>条件编译<a class="headerlink" href="#id41" title="Link to this heading"></a></h3>
<p>根据条件选择性地编译代码，常用于平台差异、调试代码、头文件保护。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 调试代码</span>
<span class="cp">#ifdef DEBUG</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Debug info&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="c1">// 头文件保护（防止重复包含）</span>
<span class="cp">#ifndef HEADER_H</span>
<span class="cp">#define HEADER_H</span>
<span class="w">    </span><span class="c1">// 头文件内容</span>
<span class="cp">#endif</span>

<span class="c1">// 平台相关代码</span>
<span class="cp">#if defined(WIN32)</span>
<span class="w">    </span><span class="c1">// Windows特定代码</span>
<span class="cp">#elif defined(__linux__)</span>
<span class="w">    </span><span class="c1">// Linux特定代码</span>
<span class="cp">#else</span>
<span class="w">    </span><span class="c1">// 其他平台</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</section>
<section id="id42">
<h3>预定义宏<a class="headerlink" href="#id42" title="Link to this heading"></a></h3>
<p>编译器提供的内置宏，用于调试和诊断。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">__FILE__</span><span class="w">    </span><span class="c1">// 当前文件名（字符串）</span>
<span class="n">__LINE__</span><span class="w">    </span><span class="c1">// 当前行号（整数）</span>
<span class="n">__DATE__</span><span class="w">    </span><span class="c1">// 编译日期（字符串：&quot;Mmm dd yyyy&quot;）</span>
<span class="n">__TIME__</span><span class="w">    </span><span class="c1">// 编译时间（字符串：&quot;hh:mm:ss&quot;）</span>
<span class="n">__func__</span><span class="w">    </span><span class="c1">// 当前函数名（C++11，字符串）</span>
</pre></div>
</div>
<p><strong>示例</strong>：<code class="docutils literal notranslate"><span class="pre">cerr</span> <span class="pre">&lt;&lt;</span> <span class="pre">&quot;Error</span> <span class="pre">at</span> <span class="pre">&quot;</span> <span class="pre">&lt;&lt;</span> <span class="pre">__FILE__</span> <span class="pre">&lt;&lt;</span> <span class="pre">&quot;:&quot;</span> <span class="pre">&lt;&lt;</span> <span class="pre">__LINE__</span> <span class="pre">&lt;&lt;</span> <span class="pre">endl;</span></code></p>
</section>
</section>
<section id="id43">
<h2>命名空间<a class="headerlink" href="#id43" title="Link to this heading"></a></h2>
<p>命名空间解决命名冲突问题，将代码逻辑分组。标准库在 <code class="docutils literal notranslate"><span class="pre">std</span></code> 命名空间中。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 定义命名空间</span>
<span class="k">namespace</span><span class="w"> </span><span class="nn">MySpace</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 使用（需要完全限定名）</span>
<span class="n">MySpace</span><span class="o">::</span><span class="n">value</span><span class="p">;</span>
<span class="n">MySpace</span><span class="o">::</span><span class="n">func</span><span class="p">();</span>

<span class="c1">// using声明：引入特定名称</span>
<span class="k">using</span><span class="w"> </span><span class="n">MySpace</span><span class="o">::</span><span class="n">value</span><span class="p">;</span>
<span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">  </span><span class="c1">// 现在可直接使用</span>

<span class="c1">// using指令：引入整个命名空间（不推荐，污染全局）</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">MySpace</span><span class="p">;</span>
<span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
<span class="n">func</span><span class="p">();</span>

<span class="c1">// 嵌套命名空间（C++17简化语法）</span>
<span class="k">namespace</span><span class="w"> </span><span class="nn">A</span><span class="o">::</span><span class="nn">B</span><span class="o">::</span><span class="nn">C</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 等价于 namespace A { namespace B { namespace C { }}}</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>建议</strong>：头文件避免 <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span></code>；实现文件可局部使用；明确指定 <code class="docutils literal notranslate"><span class="pre">std::</span></code> 提高可读性。</p>
</section>
<section id="id44">
<h2>输入输出<a class="headerlink" href="#id44" title="Link to this heading"></a></h2>
<p>C++提供流式输入输出，类型安全且可扩展。</p>
<section id="id45">
<h3>标准输入输出<a class="headerlink" href="#id45" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">cin</span></code>/<code class="docutils literal notranslate"><span class="pre">cout</span></code> 分别用于输入输出，位于 <code class="docutils literal notranslate"><span class="pre">&lt;iostream&gt;</span></code> 头文件。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="c1">// 输出</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">         </span><span class="c1">// endl刷新缓冲区并换行</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Value: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">// &#39;\n&#39;仅换行，更高效</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w">   </span><span class="c1">// 链式输出</span>

<span class="c1">// 输入</span>
<span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w">                        </span><span class="c1">// 跳过空白字符读取</span>
<span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">z</span><span class="p">;</span><span class="w">              </span><span class="c1">// 链式输入</span>

<span class="c1">// 格式化输出</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iomanip&gt;</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fixed</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setprecision</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">3.14159</span><span class="p">;</span><span class="w">  </span><span class="c1">// 3.14（保留两位小数）</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setw</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">           </span><span class="c1">// 设置宽度为10</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">hex</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="p">;</span><span class="w">              </span><span class="c1">// 十六进制：ff</span>
</pre></div>
</div>
<p><strong>技巧</strong>：输入失败时 <code class="docutils literal notranslate"><span class="pre">cin</span></code> 进入错误状态，用 <code class="docutils literal notranslate"><span class="pre">cin.clear()</span></code> 恢复。</p>
</section>
<section id="id46">
<h3>文件输入输出<a class="headerlink" href="#id46" title="Link to this heading"></a></h3>
<p>文件流继承标准流，用法类似。位于 <code class="docutils literal notranslate"><span class="pre">&lt;fstream&gt;</span></code> 头文件。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;fstream&gt;</span>

<span class="c1">// 写文件</span>
<span class="n">ofstream</span><span class="w"> </span><span class="n">out</span><span class="p">(</span><span class="s">&quot;file.txt&quot;</span><span class="p">);</span><span class="w">        </span><span class="c1">// 打开文件写入</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">out</span><span class="p">.</span><span class="n">is_open</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">             </span><span class="c1">// 检查是否成功</span>
<span class="w">    </span><span class="n">out</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span><span class="w">                 </span><span class="c1">// 关闭文件（可省略，析构自动关闭）</span>
<span class="p">}</span>

<span class="c1">// 读文件</span>
<span class="n">ifstream</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="s">&quot;file.txt&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">is_open</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">line</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 按行读取</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">in</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// 追加写入</span>
<span class="n">ofstream</span><span class="w"> </span><span class="n">out</span><span class="p">(</span><span class="s">&quot;file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">app</span><span class="p">);</span>

<span class="c1">// 二进制读写</span>
<span class="n">ofstream</span><span class="w"> </span><span class="n">binOut</span><span class="p">(</span><span class="s">&quot;data.bin&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>注意</strong>：文件流对象作用域结束时自动关闭；检查 <code class="docutils literal notranslate"><span class="pre">is_open()</span></code> 确保操作成功。</p>
</section>
</section>
<section id="id47">
<h2>常见陷阱<a class="headerlink" href="#id47" title="Link to this heading"></a></h2>
<p>初学者和经验丰富的程序员都可能遇到的典型错误。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 1. 整数除法截断</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">      </span><span class="c1">// 结果是2（不是2.5），小数部分被截断</span>
<span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">   </span><span class="c1">// 仍是2.0（先算5/2=2，再转double）</span>
<span class="kt">double</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// 正确：2.5（至少一个操作数是浮点）</span>

<span class="c1">// 2. 数组越界</span>
<span class="kt">int</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">        </span><span class="c1">// 未定义行为！合法索引是0-4</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">       </span><span class="c1">// 未定义行为！负索引</span>

<span class="c1">// 3. 悬空指针（野指针）</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="k">delete</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w">           </span><span class="c1">// 释放内存</span>
<span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">            </span><span class="c1">// 未定义行为！访问已释放内存</span>
<span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span><span class="w">        </span><span class="c1">// 良好习惯：释放后置空</span>

<span class="c1">// 4. 内存泄漏</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">leak</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span><span class="w">         </span><span class="c1">// 忘记delete，内存泄漏！</span>
<span class="p">}</span>

<span class="c1">// 5. 未初始化变量</span>
<span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">              </span><span class="c1">// 包含垃圾值（未定义）</span>
<span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">          </span><span class="c1">// 输出不可预测</span>
<span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">          </span><span class="c1">// 正确：初始化为0</span>

<span class="c1">// 6. switch缺少break</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;One&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="c1">// 没有break，会&quot;穿透&quot;到case 2！</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Two&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 7. 赋值与比较混淆</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="c1">// 赋值！x变为5，条件永远为真</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">       </span><span class="c1">// 正确：比较</span>
</pre></div>
</div>
<p><strong>防范</strong>：开启编译器警告（<code class="docutils literal notranslate"><span class="pre">-Wall</span> <span class="pre">-Wextra</span></code>），使用静态分析工具，养成良好习惯。</p>
</section>
<section id="id48">
<h2>编码规范<a class="headerlink" href="#id48" title="Link to this heading"></a></h2>
<p>一致的编码风格提高代码可读性和可维护性。</p>
<section id="id49">
<h3>命名规范<a class="headerlink" href="#id49" title="Link to this heading"></a></h3>
<p>清晰的命名是自文档化的第一步。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 变量/函数：小驼峰（camelCase）</span>
<span class="kt">int</span><span class="w"> </span><span class="n">studentAge</span><span class="p">;</span>
<span class="n">string</span><span class="w"> </span><span class="n">firstName</span><span class="p">;</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">calculateSum</span><span class="p">();</span>

<span class="c1">// 常量：全大写+下划线</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MAX_SIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">PI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14159</span><span class="p">;</span>

<span class="c1">// 类/结构体：大驼峰（PascalCase）</span>
<span class="k">class</span><span class="w"> </span><span class="nc">StudentInfo</span><span class="p">;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Point2D</span><span class="p">;</span>

<span class="c1">// 宏：全大写+下划线</span>
<span class="cp">#define MAX_BUFFER_SIZE 1024</span>

<span class="c1">// 私有成员：前缀下划线（可选）</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_privateVar</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="id50">
<h3>代码风格<a class="headerlink" href="#id50" title="Link to this heading"></a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// 缩进：4空格（或2空格/Tab，团队统一即可）</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">statement</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 括号风格：K&amp;R（开括号同行）或Allman（开括号另起一行）</span>
<span class="c1">// K&amp;R（推荐，节省行数）</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Allman</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// 一行一条语句</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>

<span class="c1">// 避免魔法数字（用命名常量）</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MAX_STUDENTS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">MAX_STUDENTS</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 清晰明了</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// 适当的空行分隔逻辑块</span>
<span class="kt">void</span><span class="w"> </span><span class="n">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 初始化</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// 处理逻辑</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// 清理</span>
<span class="w">    </span><span class="n">cleanup</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="id51">
<h2>最佳实践<a class="headerlink" href="#id51" title="Link to this heading"></a></h2>
<p>编写高质量C++代码的核心原则。</p>
<ol class="arabic simple">
<li><p><strong>优先使用 const</strong>：不变的值用 <code class="docutils literal notranslate"><span class="pre">const</span></code> 或 <code class="docutils literal notranslate"><span class="pre">constexpr</span></code>，防止意外修改</p></li>
<li><p><strong>优先使用引用传参</strong>：大对象用 <code class="docutils literal notranslate"><span class="pre">const&amp;</span></code>，避免拷贝；小对象可值传递</p></li>
<li><p><strong>避免全局变量</strong>：减少耦合和副作用，改用参数传递或单例模式</p></li>
<li><p><strong>RAII原则</strong>：资源获取即初始化，利用析构函数自动释放资源</p></li>
<li><p><strong>避免裸指针</strong>：用智能指针（<code class="docutils literal notranslate"><span class="pre">unique_ptr</span></code>/<code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code>）管理动态内存</p></li>
<li><p><strong>初始化所有变量</strong>：声明时立即初始化，优先用列表初始化 <code class="docutils literal notranslate"><span class="pre">{}</span></code></p></li>
<li><p><strong>使用范围for</strong>：遍历容器用 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(auto&amp;</span> <span class="pre">item</span> <span class="pre">:</span> <span class="pre">container)</span></code>，简洁安全</p></li>
<li><p><strong>善用auto</strong>：复杂类型用 <code class="docutils literal notranslate"><span class="pre">auto</span></code>，但不滥用（简单类型明确写出）</p></li>
<li><p><strong>异常安全</strong>：使用RAII和智能指针，确保异常时资源不泄漏</p></li>
<li><p><strong>代码可读性优先</strong>：清晰的代码胜过聪明的技巧，他人能快速理解最重要</p></li>
</ol>
<p><strong>核心思想</strong>：写安全、清晰、高效的代码，按这个优先级排序。</p>
</section>
<section id="id52">
<h2>性能优化技巧<a class="headerlink" href="#id52" title="Link to this heading"></a></h2>
<section id="id53">
<h3>避免不必要的拷贝<a class="headerlink" href="#id53" title="Link to this heading"></a></h3>
<p>C++对象默认值传递会触发拷贝，大对象拷贝成本高。使用引用和移动语义可显著提升性能。</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ❌ 低效：拷贝大对象</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 拷贝整个字符串</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// ✅ 高效：const引用（只读）</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 无拷贝</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// ✅ 高效：移动语义（转移所有权）</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 移动而非拷贝</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// ✅ 返回值优化（RVO）</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">createString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w">  </span><span class="c1">// 编译器会优化掉拷贝</span>
<span class="p">}</span>

<span class="c1">// ❌ 低效：范围for的拷贝</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">vec</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 每次拷贝string</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// ✅ 高效：引用</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">vec</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 无拷贝</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>关键点：</strong></p>
<ul class="simple">
<li><p>大对象传参用 <code class="docutils literal notranslate"><span class="pre">const&amp;</span></code></p></li>
<li><p>修改参数用非const引用 <code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></li>
<li><p>转移所有权用右值引用 <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code></p></li>
<li><p>范围for必须加 <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> 或 <code class="docutils literal notranslate"><span class="pre">const&amp;</span></code></p></li>
<li><p>信任编译器的返回值优化（RVO/NRVO）</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="01-environment-setup.html" class="btn btn-neutral float-left" title="01-编译运行环境搭建" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="03-bitwise.html" class="btn btn-neutral float-right" title="03-位运算详解" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2025, Code Dojo。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>