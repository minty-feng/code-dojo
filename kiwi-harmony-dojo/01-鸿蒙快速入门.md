# 鸿蒙快速入门

## 💡 核心结论

1. **HarmonyOS是面向万物互联的分布式操作系统**
2. **ArkTS是TypeScript的超集，是鸿蒙应用开发语言**
3. **DevEco Studio是官方IDE，基于IntelliJ平台**
4. **鸿蒙采用声明式UI开发范式**
5. **一次开发，多端部署是鸿蒙的核心优势**

---

## 1. 开发环境搭建

### 1.1 安装DevEco Studio

```bash
# 下载地址
https://developer.harmonyos.com/cn/develop/deveco-studio

# 系统要求
Windows 10/11 (64位)
macOS 10.14+
内存：8GB+（推荐16GB）
硬盘：10GB+
```

### 1.2 创建第一个项目

```
1. File → New → Create Project
2. 选择 Application → Empty Ability
3. 配置项目：
   - Project name: HelloHarmony
   - Bundle name: com.example.helloharmony
   - Development mode: Stage模型
   - Language: ArkTS
   - Compatible API version: 9+
```

### 1.3 项目结构

```
HelloHarmony/
├── entry/                  # 主模块
│   ├── src/
│   │   └── main/
│   │       ├── ets/       # ArkTS代码
│   │       │   ├── entryability/
│   │       │   │   └── EntryAbility.ts
│   │       │   └── pages/
│   │       │       └── Index.ets
│   │       ├── resources/ # 资源文件
│   │       │   ├── base/
│   │       │   │   ├── element/
│   │       │   │   ├── media/
│   │       │   │   └── profile/
│   │       │   └── rawfile/
│   │       └── module.json5
│   └── build-profile.json5
├── AppScope/              # 应用全局配置
│   └── app.json5
└── build-profile.json5
```

---

## 2. Hello World

### 2.1 页面代码

```typescript
// entry/src/main/ets/pages/Index.ets
@Entry
@Component
struct Index {
  @State message: string = 'Hello HarmonyOS'

  build() {
    Row() {
      Column() {
        Text(this.message)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
          .fontColor(Color.Blue)
        
        Button('点击我')
          .onClick(() => {
            this.message = '你好，鸿蒙！'
          })
          .margin({ top: 20 })
      }
      .width('100%')
    }
    .height('100%')
  }
}
```

### 2.2 运行应用

```
方式1：模拟器
- Tools → Device Manager
- 启动Emulator
- Run → Run 'entry'

方式2：真机调试
- 开启开发者模式
- USB连接
- 信任设备
- Run → Run 'entry'
```

---

## 3. ArkTS基础语法

### 3.1 变量和类型

```typescript
// 基本类型
let name: string = '张三'
let age: number = 25
let isDeveloper: boolean = true

// 数组
let numbers: number[] = [1, 2, 3, 4, 5]
let names: Array<string> = ['张三', '李四']

// 对象
interface User {
  name: string
  age: number
  email?: string  // 可选属性
}

let user: User = {
  name: '张三',
  age: 25
}

// 联合类型
let value: string | number = '123'
value = 123

// 枚举
enum Status {
  Success,
  Fail,
  Pending
}
```

### 3.2 装饰器

```typescript
// @State：组件内部状态
@State count: number = 0

// @Prop：父组件传入，单向同步
@Prop title: string

// @Link：父子组件双向同步
@Link selectedIndex: number

// @Provide / @Consume：跨层级传递
@Provide('theme') theme: string = 'dark'
@Consume('theme') theme: string

// @Watch：监听状态变化
@State @Watch('onCountChange') count: number = 0

onCountChange(newValue: number) {
  console.log('count changed:', newValue)
}
```

---

## 4. 生命周期

### 4.1 页面生命周期

```typescript
@Entry
@Component
struct MyPage {
  aboutToAppear() {
    console.log('页面即将出现')
    // 初始化数据
  }

  onPageShow() {
    console.log('页面显示')
  }

  onPageHide() {
    console.log('页面隐藏')
  }

  aboutToDisappear() {
    console.log('页面即将销毁')
    // 清理资源
  }

  build() {
    // ...
  }
}
```

### 4.2 Ability生命周期

```typescript
// EntryAbility.ts
import UIAbility from '@ohos.app.ability.UIAbility'

export default class EntryAbility extends UIAbility {
  onCreate(want, launchParam) {
    console.log('Ability创建')
  }

  onDestroy() {
    console.log('Ability销毁')
  }

  onWindowStageCreate(windowStage) {
    console.log('WindowStage创建')
    windowStage.loadContent('pages/Index', (err, data) => {
      if (err.code) {
        console.error('加载页面失败')
        return
      }
      console.log('加载页面成功')
    })
  }

  onForeground() {
    console.log('Ability切换到前台')
  }

  onBackground() {
    console.log('Ability切换到后台')
  }
}
```

---

## 5. 常见问题

### Q1: ArkTS和TypeScript的区别？
**A**: ArkTS是TypeScript的超集，增加了装饰器、声明式UI等特性

### Q2: Stage模型和FA模型的区别？
**A**: 
- FA模型：老版本，Page Ability + Service Ability
- Stage模型：新版本（推荐），更灵活的Ability架构

### Q3: 如何调试应用？
**A**:
- console.log输出日志
- DevEco Studio的Debug模式
- HiLog系统日志

---

## 参考资源

- HarmonyOS官方文档
- DevEco Studio使用指南
- OpenHarmony开源社区

