# ç‰¹å¾å·¥ç¨‹

## ðŸ’¡ æ ¸å¿ƒç»“è®º

1. **æ•°æ®å†³å®šæ¨¡åž‹çš„ä¸Šé™ï¼Œç®—æ³•åªæ˜¯é€¼è¿‘è¿™ä¸ªä¸Šé™**
2. **ç‰¹å¾å·¥ç¨‹åŒ…æ‹¬ï¼šç‰¹å¾æ¸…æ´—ã€ç‰¹å¾æž„é€ ã€ç‰¹å¾é€‰æ‹©ã€ç‰¹å¾å˜æ¢**
3. **å½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–å¯¹è·ç¦»ç›¸å…³ç®—æ³•è‡³å…³é‡è¦**
4. **ç±»åˆ«ç‰¹å¾éœ€è¦ç¼–ç ï¼ˆOne-Hotã€Label Encodingï¼‰**
5. **ç‰¹å¾ç»„åˆå¯ä»¥æ•èŽ·éžçº¿æ€§å…³ç³»**

---

## 1. æ•°æ®æ¸…æ´—

```python
import pandas as pd
import numpy as np

# åŠ è½½æ•°æ®
df = pd.read_csv('data.csv')

# 1. ç¼ºå¤±å€¼å¤„ç†
print(df.isnull().sum())

# åˆ é™¤ç¼ºå¤±å€¼
df_clean = df.dropna()

# å¡«å……ç¼ºå¤±å€¼
df['age'].fillna(df['age'].mean(), inplace=True)  # å‡å€¼å¡«å……
df['city'].fillna(df['city'].mode()[0], inplace=True)  # ä¼—æ•°å¡«å……
df['salary'].fillna(method='ffill', inplace=True)  # å‰å‘å¡«å……

# 2. å¼‚å¸¸å€¼å¤„ç†
# IQRæ–¹æ³•
Q1 = df['price'].quantile(0.25)
Q3 = df['price'].quantile(0.75)
IQR = Q3 - Q1
lower = Q1 - 1.5 * IQR
upper = Q3 + 1.5 * IQR
df = df[(df['price'] >= lower) & (df['price'] <= upper)]

# 3. é‡å¤å€¼å¤„ç†
df = df.drop_duplicates()
```

---

## 2. ç‰¹å¾å˜æ¢

### 2.1 å½’ä¸€åŒ–

```python
from sklearn.preprocessing import MinMaxScaler

# Min-Maxå½’ä¸€åŒ–ï¼š[0, 1]
scaler = MinMaxScaler()
X_normalized = scaler.fit_transform(X)

# æ‰‹åŠ¨å®žçŽ°
X_normalized = (X - X.min()) / (X.max() - X.min())
```

### 2.2 æ ‡å‡†åŒ–

```python
from sklearn.preprocessing import StandardScaler

# Z-scoreæ ‡å‡†åŒ–ï¼šå‡å€¼0ï¼Œæ–¹å·®1
scaler = StandardScaler()
X_standardized = scaler.fit_transform(X)

# æ‰‹åŠ¨å®žçŽ°
X_standardized = (X - X.mean()) / X.std()
```

### 2.3 å¯¹æ•°å˜æ¢

```python
# å¤„ç†åæ€åˆ†å¸ƒ
df['log_price'] = np.log1p(df['price'])  # log(1 + x)
```

---

## 3. ç±»åˆ«ç‰¹å¾ç¼–ç 

### 3.1 One-Hotç¼–ç 

```python
from sklearn.preprocessing import OneHotEncoder
import pandas as pd

# æ–¹æ³•1ï¼špandas
df_encoded = pd.get_dummies(df, columns=['city', 'gender'])

# æ–¹æ³•2ï¼šsklearn
encoder = OneHotEncoder(sparse=False)
city_encoded = encoder.fit_transform(df[['city']])
```

### 3.2 Label Encoding

```python
from sklearn.preprocessing import LabelEncoder

encoder = LabelEncoder()
df['city_encoded'] = encoder.fit_transform(df['city'])
```

---

## 4. ç‰¹å¾é€‰æ‹©

```python
from sklearn.feature_selection import SelectKBest, f_classif

# é€‰æ‹©Kä¸ªæœ€ä½³ç‰¹å¾
selector = SelectKBest(score_func=f_classif, k=10)
X_selected = selector.fit_transform(X, y)

# æŸ¥çœ‹é€‰æ‹©çš„ç‰¹å¾
mask = selector.get_support()
selected_features = X.columns[mask]
print(f"é€‰æ‹©çš„ç‰¹å¾: {selected_features}")
```

---

## å‚è€ƒèµ„æº

- ã€ŠFeature Engineering for Machine Learningã€‹
- Kaggle Feature Engineering

